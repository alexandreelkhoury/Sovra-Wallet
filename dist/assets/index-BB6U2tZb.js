var Zoe=Object.defineProperty;var XP=t=>{throw TypeError(t)};var Joe=(t,e,r)=>e in t?Zoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var qm=(t,e,r)=>Joe(t,typeof e!="symbol"?e+"":e,r),_8=(t,e,r)=>e.has(t)||XP("Cannot "+r);var ue=(t,e,r)=>(_8(t,e,"read from private field"),r?r.call(t):e.get(t)),Mt=(t,e,r)=>e.has(t)?XP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),yt=(t,e,r,n)=>(_8(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),cn=(t,e,r)=>(_8(t,e,"access private method"),r);var C2=(t,e,r,n)=>({set _(i){yt(t,e,i,r)},get _(){return ue(t,e,n)}});function Xoe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var CS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ko(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Oz={exports:{}},R6={},Mz={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=Symbol.for("react.element"),eae=Symbol.for("react.portal"),tae=Symbol.for("react.fragment"),rae=Symbol.for("react.strict_mode"),nae=Symbol.for("react.profiler"),iae=Symbol.for("react.provider"),sae=Symbol.for("react.context"),oae=Symbol.for("react.forward_ref"),aae=Symbol.for("react.suspense"),lae=Symbol.for("react.memo"),cae=Symbol.for("react.lazy"),eN=Symbol.iterator;function uae(t){return t===null||typeof t!="object"?null:(t=eN&&t[eN]||t["@@iterator"],typeof t=="function"?t:null)}var Rz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jz=Object.assign,Dz={};function sm(t,e,r){this.props=t,this.context=e,this.refs=Dz,this.updater=r||Rz}sm.prototype.isReactComponent={};sm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lz(){}Lz.prototype=sm.prototype;function AS(t,e,r){this.props=t,this.context=e,this.refs=Dz,this.updater=r||Rz}var kS=AS.prototype=new Lz;kS.constructor=AS;jz(kS,sm.prototype);kS.isPureReactComponent=!0;var tN=Array.isArray,Fz=Object.prototype.hasOwnProperty,SS={current:null},Uz={key:!0,ref:!0,__self:!0,__source:!0};function Bz(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fz.call(e,n)&&!Uz.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:bv,type:t,key:s,ref:o,props:i,_owner:SS.current}}function dae(t,e){return{$$typeof:bv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $S(t){return typeof t=="object"&&t!==null&&t.$$typeof===bv}function hae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rN=/\/+/g;function C8(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hae(""+t.key):e.toString(36)}function qb(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bv:case eae:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+C8(o,0):n,tN(i)?(r="",t!=null&&(r=t.replace(rN,"$&/")+"/"),qb(i,e,r,"",function(c){return c})):i!=null&&($S(i)&&(i=dae(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",tN(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+C8(s,a);o+=qb(s,e,r,l,i)}else if(l=uae(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+C8(s,a++),o+=qb(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function A2(t,e,r){if(t==null)return t;var n=[],i=0;return qb(t,n,"","",function(s){return e.call(r,s,i++)}),n}function fae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ys={current:null},Vb={transition:null},pae={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:Vb,ReactCurrentOwner:SS};function zz(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:A2,forEach:function(t,e,r){A2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return A2(t,function(){e++}),e},toArray:function(t){return A2(t,function(e){return e})||[]},only:function(t){if(!$S(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=sm;zt.Fragment=tae;zt.Profiler=nae;zt.PureComponent=AS;zt.StrictMode=rae;zt.Suspense=aae;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pae;zt.act=zz;zt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jz({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=SS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fz.call(e,l)&&!Uz.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:bv,type:t.type,key:i,ref:s,props:n,_owner:o}};zt.createContext=function(t){return t={$$typeof:sae,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iae,_context:t},t.Consumer=t};zt.createElement=Bz;zt.createFactory=function(t){var e=Bz.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:oae,render:t}};zt.isValidElement=$S;zt.lazy=function(t){return{$$typeof:cae,_payload:{_status:-1,_result:t},_init:fae}};zt.memo=function(t,e){return{$$typeof:lae,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=Vb.transition;Vb.transition={};try{t()}finally{Vb.transition=e}};zt.unstable_act=zz;zt.useCallback=function(t,e){return ys.current.useCallback(t,e)};zt.useContext=function(t){return ys.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return ys.current.useDeferredValue(t)};zt.useEffect=function(t,e){return ys.current.useEffect(t,e)};zt.useId=function(){return ys.current.useId()};zt.useImperativeHandle=function(t,e,r){return ys.current.useImperativeHandle(t,e,r)};zt.useInsertionEffect=function(t,e){return ys.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return ys.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return ys.current.useMemo(t,e)};zt.useReducer=function(t,e,r){return ys.current.useReducer(t,e,r)};zt.useRef=function(t){return ys.current.useRef(t)};zt.useState=function(t){return ys.current.useState(t)};zt.useSyncExternalStore=function(t,e,r){return ys.current.useSyncExternalStore(t,e,r)};zt.useTransition=function(){return ys.current.useTransition()};zt.version="18.3.1";Mz.exports=zt;var E=Mz.exports;const Oe=ko(E),B_=Xoe({__proto__:null,default:Oe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gae=E,mae=Symbol.for("react.element"),yae=Symbol.for("react.fragment"),wae=Object.prototype.hasOwnProperty,vae=gae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bae={key:!0,ref:!0,__self:!0,__source:!0};function Wz(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)wae.call(e,n)&&!bae.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mae,type:t,key:s,ref:o,props:i,_owner:vae.current}}R6.Fragment=yae;R6.jsx=Wz;R6.jsxs=Wz;Oz.exports=R6;var d=Oz.exports,z_={},Hz={exports:{}},So={},qz={exports:{}},Vz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,N){var D=P.length;P.push(N);e:for(;0<D;){var F=D-1>>>1,k=P[F];if(0<i(k,N))P[F]=N,P[D]=k,D=F;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var N=P[0],D=P.pop();if(D!==N){P[0]=D;e:for(var F=0,k=P.length,z=k>>>1;F<z;){var V=2*(F+1)-1,j=P[V],G=V+1,Q=P[G];if(0>i(j,D))G<k&&0>i(Q,j)?(P[F]=Q,P[G]=D,F=G):(P[F]=j,P[V]=D,F=V);else if(G<k&&0>i(Q,D))P[F]=Q,P[G]=D,F=G;else break e}}return N}function i(P,N){var D=P.sortIndex-N.sortIndex;return D!==0?D:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var N=r(c);N!==null;){if(N.callback===null)n(c);else if(N.startTime<=P)n(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=r(c)}}function C(P){if(m=!1,v(P),!g)if(r(l)!==null)g=!0,S(x);else{var N=r(c);N!==null&&O(C,N.startTime-P)}}function x(P,N){g=!1,m&&(m=!1,y(R),R=-1),p=!0;var D=f;try{for(v(N),h=r(l);h!==null&&(!(h.expirationTime>N)||P&&!U());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var k=F(h.expirationTime<=N);N=t.unstable_now(),typeof k=="function"?h.callback=k:h===r(l)&&n(l),v(N)}else n(l);h=r(l)}if(h!==null)var z=!0;else{var V=r(c);V!==null&&O(C,V.startTime-N),z=!1}return z}finally{h=null,f=D,p=!1}}var I=!1,$=null,R=-1,T=5,L=-1;function U(){return!(t.unstable_now()-L<T)}function W(){if($!==null){var P=t.unstable_now();L=P;var N=!0;try{N=$(!0,P)}finally{N?M():(I=!1,$=null)}}else I=!1}var M;if(typeof b=="function")M=function(){b(W)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,_=A.port2;A.port1.onmessage=W,M=function(){_.postMessage(null)}}else M=function(){w(W,0)};function S(P){$=P,I||(I=!0,M())}function O(P,N){R=w(function(){P(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,S(x))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var D=f;f=N;try{return P()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=f;f=P;try{return N()}finally{f=D}},t.unstable_scheduleCallback=function(P,N,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,P){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=D+k,P={id:u++,callback:N,priorityLevel:P,startTime:D,expirationTime:k,sortIndex:-1},D>F?(P.sortIndex=D,e(c,P),r(l)===null&&P===r(c)&&(m?(y(R),R=-1):m=!0,O(C,D-F))):(P.sortIndex=k,e(l,P),g||p||(g=!0,S(x))),P},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(P){var N=f;return function(){var D=f;f=N;try{return P.apply(this,arguments)}finally{f=D}}}})(Vz);qz.exports=Vz;var xae=qz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eae=E,xo=xae;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gz=new Set,Fy={};function rp(t,e){bg(t,e),bg(t+"Capture",e)}function bg(t,e){for(Fy[t]=e,t=0;t<e.length;t++)Gz.add(e[t])}var mu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W_=Object.prototype.hasOwnProperty,_ae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nN={},iN={};function Cae(t){return W_.call(iN,t)?!0:W_.call(nN,t)?!1:_ae.test(t)?iN[t]=!0:(nN[t]=!0,!1)}function Aae(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kae(t,e,r,n){if(e===null||typeof e>"u"||Aae(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ws(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wi[t]=new ws(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wi[e]=new ws(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wi[t]=new ws(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wi[t]=new ws(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wi[t]=new ws(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wi[t]=new ws(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wi[t]=new ws(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wi[t]=new ws(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wi[t]=new ws(t,5,!1,t.toLowerCase(),null,!1,!1)});var IS=/[\-:]([a-z])/g;function TS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IS,TS);wi[e]=new ws(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IS,TS);wi[e]=new ws(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IS,TS);wi[e]=new ws(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wi[t]=new ws(t,1,!1,t.toLowerCase(),null,!1,!1)});wi.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wi[t]=new ws(t,1,!1,t.toLowerCase(),null,!0,!0)});function PS(t,e,r,n){var i=wi.hasOwnProperty(e)?wi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kae(e,r,i,n)&&(r=null),n||i===null?Cae(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Mu=Eae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k2=Symbol.for("react.element"),g0=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),Kz=Symbol.for("react.provider"),Yz=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),q_=Symbol.for("react.suspense"),V_=Symbol.for("react.suspense_list"),MS=Symbol.for("react.memo"),ud=Symbol.for("react.lazy"),Qz=Symbol.for("react.offscreen"),sN=Symbol.iterator;function Vm(t){return t===null||typeof t!="object"?null:(t=sN&&t[sN]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,A8;function j1(t){if(A8===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);A8=e&&e[1]||""}return`
`+A8+t}var k8=!1;function S8(t,e){if(!t||k8)return"";k8=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{k8=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?j1(t):""}function Sae(t){switch(t.tag){case 5:return j1(t.type);case 16:return j1("Lazy");case 13:return j1("Suspense");case 19:return j1("SuspenseList");case 0:case 2:case 15:return t=S8(t.type,!1),t;case 11:return t=S8(t.type.render,!1),t;case 1:return t=S8(t.type,!0),t;default:return""}}function G_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m0:return"Fragment";case g0:return"Portal";case H_:return"Profiler";case NS:return"StrictMode";case q_:return"Suspense";case V_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yz:return(t.displayName||"Context")+".Consumer";case Kz:return(t._context.displayName||"Context")+".Provider";case OS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case MS:return e=t.displayName||null,e!==null?e:G_(t.type)||"Memo";case ud:e=t._payload,t=t._init;try{return G_(t(e))}catch{}}return null}function $ae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G_(e);case 8:return e===NS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function th(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Iae(t){var e=Zz(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function S2(t){t._valueTracker||(t._valueTracker=Iae(t))}function Jz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Zz(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function H3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K_(t,e){var r=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=th(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xz(t,e){e=e.checked,e!=null&&PS(t,"checked",e,!1)}function Y_(t,e){Xz(t,e);var r=th(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Q_(t,e.type,r):e.hasOwnProperty("defaultValue")&&Q_(t,e.type,th(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Q_(t,e,r){(e!=="number"||H3(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var D1=Array.isArray;function B0(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+th(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($e(92));if(D1(r)){if(1<r.length)throw Error($e(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:th(r)}}function eW(t,e){var r=th(e.value),n=th(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $2,rW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($2=$2||document.createElement("div"),$2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uy(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ry={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tae=["Webkit","ms","Moz","O"];Object.keys(ry).forEach(function(t){Tae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ry[e]=ry[t]})});function nW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ry.hasOwnProperty(t)&&ry[t]?(""+e).trim():e+"px"}function iW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=nW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Pae=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X_(t,e){if(e){if(Pae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function eC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tC=null;function RS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rC=null,z0=null,W0=null;function uN(t){if(t=_v(t)){if(typeof rC!="function")throw Error($e(280));var e=t.stateNode;e&&(e=U6(e),rC(t.stateNode,t.type,e))}}function sW(t){z0?W0?W0.push(t):W0=[t]:z0=t}function oW(){if(z0){var t=z0,e=W0;if(W0=z0=null,uN(t),e)for(t=0;t<e.length;t++)uN(e[t])}}function aW(t,e){return t(e)}function lW(){}var $8=!1;function cW(t,e,r){if($8)return t(e,r);$8=!0;try{return aW(t,e,r)}finally{$8=!1,(z0!==null||W0!==null)&&(lW(),oW())}}function By(t,e){var r=t.stateNode;if(r===null)return null;var n=U6(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($e(231,e,typeof r));return r}var nC=!1;if(mu)try{var Gm={};Object.defineProperty(Gm,"passive",{get:function(){nC=!0}}),window.addEventListener("test",Gm,Gm),window.removeEventListener("test",Gm,Gm)}catch{nC=!1}function Nae(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var ny=!1,q3=null,V3=!1,iC=null,Oae={onError:function(t){ny=!0,q3=t}};function Mae(t,e,r,n,i,s,o,a,l){ny=!1,q3=null,Nae.apply(Oae,arguments)}function Rae(t,e,r,n,i,s,o,a,l){if(Mae.apply(this,arguments),ny){if(ny){var c=q3;ny=!1,q3=null}else throw Error($e(198));V3||(V3=!0,iC=c)}}function np(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function uW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dN(t){if(np(t)!==t)throw Error($e(188))}function jae(t){var e=t.alternate;if(!e){if(e=np(t),e===null)throw Error($e(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dN(i),t;if(s===n)return dN(i),e;s=s.sibling}throw Error($e(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error($e(189))}}if(r.alternate!==n)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?t:e}function dW(t){return t=jae(t),t!==null?hW(t):null}function hW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hW(t);if(e!==null)return e;t=t.sibling}return null}var fW=xo.unstable_scheduleCallback,hN=xo.unstable_cancelCallback,Dae=xo.unstable_shouldYield,Lae=xo.unstable_requestPaint,pn=xo.unstable_now,Fae=xo.unstable_getCurrentPriorityLevel,jS=xo.unstable_ImmediatePriority,pW=xo.unstable_UserBlockingPriority,G3=xo.unstable_NormalPriority,Uae=xo.unstable_LowPriority,gW=xo.unstable_IdlePriority,j6=null,Xl=null;function Bae(t){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(j6,t,void 0,(t.current.flags&128)===128)}catch{}}var Ja=Math.clz32?Math.clz32:Hae,zae=Math.log,Wae=Math.LN2;function Hae(t){return t>>>=0,t===0?32:31-(zae(t)/Wae|0)|0}var I2=64,T2=4194304;function L1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function K3(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=L1(a):(s&=o,s!==0&&(n=L1(s)))}else o=r&~i,o!==0?n=L1(o):s!==0&&(n=L1(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ja(e),i=1<<r,n|=t[r],e&=~i;return n}function qae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vae(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ja(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=qae(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mW(){var t=I2;return I2<<=1,!(I2&4194240)&&(I2=64),t}function I8(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ja(e),t[e]=r}function Gae(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ja(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function DS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ja(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var vr=0;function yW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wW,LS,vW,bW,xW,oC=!1,P2=[],Bd=null,zd=null,Wd=null,zy=new Map,Wy=new Map,wd=[],Kae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fN(t,e){switch(t){case"focusin":case"focusout":Bd=null;break;case"dragenter":case"dragleave":zd=null;break;case"mouseover":case"mouseout":Wd=null;break;case"pointerover":case"pointerout":zy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wy.delete(e.pointerId)}}function Km(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_v(e),e!==null&&LS(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Yae(t,e,r,n,i){switch(e){case"focusin":return Bd=Km(Bd,t,e,r,n,i),!0;case"dragenter":return zd=Km(zd,t,e,r,n,i),!0;case"mouseover":return Wd=Km(Wd,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return zy.set(s,Km(zy.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wy.set(s,Km(Wy.get(s)||null,t,e,r,n,i)),!0}return!1}function EW(t){var e=Zh(t.target);if(e!==null){var r=np(e);if(r!==null){if(e=r.tag,e===13){if(e=uW(r),e!==null){t.blockedOn=e,xW(t.priority,function(){vW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=aC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tC=n,r.target.dispatchEvent(n),tC=null}else return e=_v(r),e!==null&&LS(e),t.blockedOn=r,!1;e.shift()}return!0}function pN(t,e,r){Gb(t)&&r.delete(e)}function Qae(){oC=!1,Bd!==null&&Gb(Bd)&&(Bd=null),zd!==null&&Gb(zd)&&(zd=null),Wd!==null&&Gb(Wd)&&(Wd=null),zy.forEach(pN),Wy.forEach(pN)}function Ym(t,e){t.blockedOn===e&&(t.blockedOn=null,oC||(oC=!0,xo.unstable_scheduleCallback(xo.unstable_NormalPriority,Qae)))}function Hy(t){function e(i){return Ym(i,t)}if(0<P2.length){Ym(P2[0],t);for(var r=1;r<P2.length;r++){var n=P2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bd!==null&&Ym(Bd,t),zd!==null&&Ym(zd,t),Wd!==null&&Ym(Wd,t),zy.forEach(e),Wy.forEach(e),r=0;r<wd.length;r++)n=wd[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<wd.length&&(r=wd[0],r.blockedOn===null);)EW(r),r.blockedOn===null&&wd.shift()}var H0=Mu.ReactCurrentBatchConfig,Y3=!0;function Zae(t,e,r,n){var i=vr,s=H0.transition;H0.transition=null;try{vr=1,FS(t,e,r,n)}finally{vr=i,H0.transition=s}}function Jae(t,e,r,n){var i=vr,s=H0.transition;H0.transition=null;try{vr=4,FS(t,e,r,n)}finally{vr=i,H0.transition=s}}function FS(t,e,r,n){if(Y3){var i=aC(t,e,r,n);if(i===null)F8(t,e,n,Q3,r),fN(t,n);else if(Yae(i,t,e,r,n))n.stopPropagation();else if(fN(t,n),e&4&&-1<Kae.indexOf(t)){for(;i!==null;){var s=_v(i);if(s!==null&&wW(s),s=aC(t,e,r,n),s===null&&F8(t,e,n,Q3,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else F8(t,e,n,null,r)}}var Q3=null;function aC(t,e,r,n){if(Q3=null,t=RS(n),t=Zh(t),t!==null)if(e=np(t),e===null)t=null;else if(r=e.tag,r===13){if(t=uW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Q3=t,null}function _W(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fae()){case jS:return 1;case pW:return 4;case G3:case Uae:return 16;case gW:return 536870912;default:return 16}default:return 16}}var Md=null,US=null,Kb=null;function CW(){if(Kb)return Kb;var t,e=US,r=e.length,n,i="value"in Md?Md.value:Md.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Kb=i.slice(t,1<n?1-n:void 0)}function Yb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function N2(){return!0}function gN(){return!1}function $o(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?N2:gN,this.isPropagationStopped=gN,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=N2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=N2)},persist:function(){},isPersistent:N2}),e}var om={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BS=$o(om),Ev=en({},om,{view:0,detail:0}),Xae=$o(Ev),T8,P8,Qm,D6=en({},Ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qm&&(Qm&&t.type==="mousemove"?(T8=t.screenX-Qm.screenX,P8=t.screenY-Qm.screenY):P8=T8=0,Qm=t),T8)},movementY:function(t){return"movementY"in t?t.movementY:P8}}),mN=$o(D6),ele=en({},D6,{dataTransfer:0}),tle=$o(ele),rle=en({},Ev,{relatedTarget:0}),N8=$o(rle),nle=en({},om,{animationName:0,elapsedTime:0,pseudoElement:0}),ile=$o(nle),sle=en({},om,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ole=$o(sle),ale=en({},om,{data:0}),yN=$o(ale),lle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ule={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ule[t])?!!e[t]:!1}function zS(){return dle}var hle=en({},Ev,{key:function(t){if(t.key){var e=lle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(t){return t.type==="keypress"?Yb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fle=$o(hle),ple=en({},D6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wN=$o(ple),gle=en({},Ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),mle=$o(gle),yle=en({},om,{propertyName:0,elapsedTime:0,pseudoElement:0}),wle=$o(yle),vle=en({},D6,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ble=$o(vle),xle=[9,13,27,32],WS=mu&&"CompositionEvent"in window,iy=null;mu&&"documentMode"in document&&(iy=document.documentMode);var Ele=mu&&"TextEvent"in window&&!iy,AW=mu&&(!WS||iy&&8<iy&&11>=iy),vN=" ",bN=!1;function kW(t,e){switch(t){case"keyup":return xle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SW(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var y0=!1;function _le(t,e){switch(t){case"compositionend":return SW(e);case"keypress":return e.which!==32?null:(bN=!0,vN);case"textInput":return t=e.data,t===vN&&bN?null:t;default:return null}}function Cle(t,e){if(y0)return t==="compositionend"||!WS&&kW(t,e)?(t=CW(),Kb=US=Md=null,y0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AW&&e.locale!=="ko"?null:e.data;default:return null}}var Ale={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ale[t.type]:e==="textarea"}function $W(t,e,r,n){sW(n),e=Z3(e,"onChange"),0<e.length&&(r=new BS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sy=null,qy=null;function kle(t){FW(t,0)}function L6(t){var e=b0(t);if(Jz(e))return t}function Sle(t,e){if(t==="change")return e}var IW=!1;if(mu){var O8;if(mu){var M8="oninput"in document;if(!M8){var EN=document.createElement("div");EN.setAttribute("oninput","return;"),M8=typeof EN.oninput=="function"}O8=M8}else O8=!1;IW=O8&&(!document.documentMode||9<document.documentMode)}function _N(){sy&&(sy.detachEvent("onpropertychange",TW),qy=sy=null)}function TW(t){if(t.propertyName==="value"&&L6(qy)){var e=[];$W(e,qy,t,RS(t)),cW(kle,e)}}function $le(t,e,r){t==="focusin"?(_N(),sy=e,qy=r,sy.attachEvent("onpropertychange",TW)):t==="focusout"&&_N()}function Ile(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L6(qy)}function Tle(t,e){if(t==="click")return L6(e)}function Ple(t,e){if(t==="input"||t==="change")return L6(e)}function Nle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var il=typeof Object.is=="function"?Object.is:Nle;function Vy(t,e){if(il(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!W_.call(e,i)||!il(t[i],e[i]))return!1}return!0}function CN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AN(t,e){var r=CN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CN(r)}}function PW(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PW(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NW(){for(var t=window,e=H3();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=H3(t.document)}return e}function HS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ole(t){var e=NW(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&PW(r.ownerDocument.documentElement,r)){if(n!==null&&HS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=AN(r,s);var o=AN(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mle=mu&&"documentMode"in document&&11>=document.documentMode,w0=null,lC=null,oy=null,cC=!1;function kN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cC||w0==null||w0!==H3(n)||(n=w0,"selectionStart"in n&&HS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oy&&Vy(oy,n)||(oy=n,n=Z3(lC,"onSelect"),0<n.length&&(e=new BS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=w0)))}function O2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var v0={animationend:O2("Animation","AnimationEnd"),animationiteration:O2("Animation","AnimationIteration"),animationstart:O2("Animation","AnimationStart"),transitionend:O2("Transition","TransitionEnd")},R8={},OW={};mu&&(OW=document.createElement("div").style,"AnimationEvent"in window||(delete v0.animationend.animation,delete v0.animationiteration.animation,delete v0.animationstart.animation),"TransitionEvent"in window||delete v0.transitionend.transition);function F6(t){if(R8[t])return R8[t];if(!v0[t])return t;var e=v0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in OW)return R8[t]=e[r];return t}var MW=F6("animationend"),RW=F6("animationiteration"),jW=F6("animationstart"),DW=F6("transitionend"),LW=new Map,SN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ph(t,e){LW.set(t,e),rp(e,[t])}for(var j8=0;j8<SN.length;j8++){var D8=SN[j8],Rle=D8.toLowerCase(),jle=D8[0].toUpperCase()+D8.slice(1);ph(Rle,"on"+jle)}ph(MW,"onAnimationEnd");ph(RW,"onAnimationIteration");ph(jW,"onAnimationStart");ph("dblclick","onDoubleClick");ph("focusin","onFocus");ph("focusout","onBlur");ph(DW,"onTransitionEnd");bg("onMouseEnter",["mouseout","mouseover"]);bg("onMouseLeave",["mouseout","mouseover"]);bg("onPointerEnter",["pointerout","pointerover"]);bg("onPointerLeave",["pointerout","pointerover"]);rp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rp("onBeforeInput",["compositionend","keypress","textInput","paste"]);rp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dle=new Set("cancel close invalid load scroll toggle".split(" ").concat(F1));function $N(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Rae(n,e,void 0,t),t.currentTarget=null}function FW(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$N(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$N(i,a,c),s=l}}}if(V3)throw t=iC,V3=!1,iC=null,t}function Rr(t,e){var r=e[pC];r===void 0&&(r=e[pC]=new Set);var n=t+"__bubble";r.has(n)||(UW(e,t,2,!1),r.add(n))}function L8(t,e,r){var n=0;e&&(n|=4),UW(r,t,n,e)}var M2="_reactListening"+Math.random().toString(36).slice(2);function Gy(t){if(!t[M2]){t[M2]=!0,Gz.forEach(function(r){r!=="selectionchange"&&(Dle.has(r)||L8(r,!1,t),L8(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[M2]||(e[M2]=!0,L8("selectionchange",!1,e))}}function UW(t,e,r,n){switch(_W(e)){case 1:var i=Zae;break;case 4:i=Jae;break;default:i=FS}r=i.bind(null,e,r,t),i=void 0,!nC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function F8(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zh(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}cW(function(){var c=s,u=RS(r),h=[];e:{var f=LW.get(t);if(f!==void 0){var p=BS,g=t;switch(t){case"keypress":if(Yb(r)===0)break e;case"keydown":case"keyup":p=fle;break;case"focusin":g="focus",p=N8;break;case"focusout":g="blur",p=N8;break;case"beforeblur":case"afterblur":p=N8;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tle;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mle;break;case MW:case RW:case jW:p=ile;break;case DW:p=wle;break;case"scroll":p=Xae;break;case"wheel":p=ble;break;case"copy":case"cut":case"paste":p=ole;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wN}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,v;b!==null;){v=b;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,y!==null&&(C=By(b,y),C!=null&&m.push(Ky(b,C,v)))),w)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==tC&&(g=r.relatedTarget||r.fromElement)&&(Zh(g)||g[yu]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Zh(g):null,g!==null&&(w=np(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=mN,C="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=wN,C="onPointerLeave",y="onPointerEnter",b="pointer"),w=p==null?f:b0(p),v=g==null?f:b0(g),f=new m(C,b+"leave",p,r,u),f.target=w,f.relatedTarget=v,C=null,Zh(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=v,m.relatedTarget=w,C=m),w=C,p&&g)t:{for(m=p,y=g,b=0,v=m;v;v=$p(v))b++;for(v=0,C=y;C;C=$p(C))v++;for(;0<b-v;)m=$p(m),b--;for(;0<v-b;)y=$p(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=$p(m),y=$p(y)}m=null}else m=null;p!==null&&IN(h,f,p,m,!1),g!==null&&w!==null&&IN(h,w,g,m,!0)}}e:{if(f=c?b0(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=Sle;else if(xN(f))if(IW)x=Ple;else{x=Ile;var I=$le}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Tle);if(x&&(x=x(t,c))){$W(h,x,r,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Q_(f,"number",f.value)}switch(I=c?b0(c):window,t){case"focusin":(xN(I)||I.contentEditable==="true")&&(w0=I,lC=c,oy=null);break;case"focusout":oy=lC=w0=null;break;case"mousedown":cC=!0;break;case"contextmenu":case"mouseup":case"dragend":cC=!1,kN(h,r,u);break;case"selectionchange":if(Mle)break;case"keydown":case"keyup":kN(h,r,u)}var $;if(WS)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else y0?kW(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(AW&&r.locale!=="ko"&&(y0||R!=="onCompositionStart"?R==="onCompositionEnd"&&y0&&($=CW()):(Md=u,US="value"in Md?Md.value:Md.textContent,y0=!0)),I=Z3(c,R),0<I.length&&(R=new yN(R,t,null,r,u),h.push({event:R,listeners:I}),$?R.data=$:($=SW(r),$!==null&&(R.data=$)))),($=Ele?_le(t,r):Cle(t,r))&&(c=Z3(c,"onBeforeInput"),0<c.length&&(u=new yN("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=$))}FW(h,e)})}function Ky(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Z3(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=By(t,r),s!=null&&n.unshift(Ky(t,s,i)),s=By(t,e),s!=null&&n.push(Ky(t,s,i))),t=t.return}return n}function $p(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IN(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=By(r,s),l!=null&&o.unshift(Ky(r,l,a))):i||(l=By(r,s),l!=null&&o.push(Ky(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Lle=/\r\n?/g,Fle=/\u0000|\uFFFD/g;function TN(t){return(typeof t=="string"?t:""+t).replace(Lle,`
`).replace(Fle,"")}function R2(t,e,r){if(e=TN(e),TN(t)!==e&&r)throw Error($e(425))}function J3(){}var uC=null,dC=null;function hC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fC=typeof setTimeout=="function"?setTimeout:void 0,Ule=typeof clearTimeout=="function"?clearTimeout:void 0,PN=typeof Promise=="function"?Promise:void 0,Ble=typeof queueMicrotask=="function"?queueMicrotask:typeof PN<"u"?function(t){return PN.resolve(null).then(t).catch(zle)}:fC;function zle(t){setTimeout(function(){throw t})}function U8(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hy(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hy(e)}function Hd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var am=Math.random().toString(36).slice(2),Kl="__reactFiber$"+am,Yy="__reactProps$"+am,yu="__reactContainer$"+am,pC="__reactEvents$"+am,Wle="__reactListeners$"+am,Hle="__reactHandles$"+am;function Zh(t){var e=t[Kl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yu]||r[Kl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=NN(t);t!==null;){if(r=t[Kl])return r;t=NN(t)}return e}t=r,r=t.parentNode}return null}function _v(t){return t=t[Kl]||t[yu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function b0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function U6(t){return t[Yy]||null}var gC=[],x0=-1;function gh(t){return{current:t}}function Br(t){0>x0||(t.current=gC[x0],gC[x0]=null,x0--)}function Nr(t,e){x0++,gC[x0]=t.current,t.current=e}var rh={},Gi=gh(rh),Fs=gh(!1),$f=rh;function xg(t,e){var r=t.type.contextTypes;if(!r)return rh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Us(t){return t=t.childContextTypes,t!=null}function X3(){Br(Fs),Br(Gi)}function ON(t,e,r){if(Gi.current!==rh)throw Error($e(168));Nr(Gi,e),Nr(Fs,r)}function BW(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error($e(108,$ae(t)||"Unknown",i));return en({},r,n)}function e5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rh,$f=Gi.current,Nr(Gi,t),Nr(Fs,Fs.current),!0}function MN(t,e,r){var n=t.stateNode;if(!n)throw Error($e(169));r?(t=BW(t,e,$f),n.__reactInternalMemoizedMergedChildContext=t,Br(Fs),Br(Gi),Nr(Gi,t)):Br(Fs),Nr(Fs,r)}var Gc=null,B6=!1,B8=!1;function zW(t){Gc===null?Gc=[t]:Gc.push(t)}function qle(t){B6=!0,zW(t)}function mh(){if(!B8&&Gc!==null){B8=!0;var t=0,e=vr;try{var r=Gc;for(vr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gc=null,B6=!1}catch(i){throw Gc!==null&&(Gc=Gc.slice(t+1)),fW(jS,mh),i}finally{vr=e,B8=!1}}return null}var E0=[],_0=0,t5=null,r5=0,Xo=[],ea=0,If=null,iu=1,su="";function Lh(t,e){E0[_0++]=r5,E0[_0++]=t5,t5=t,r5=e}function WW(t,e,r){Xo[ea++]=iu,Xo[ea++]=su,Xo[ea++]=If,If=t;var n=iu;t=su;var i=32-Ja(n)-1;n&=~(1<<i),r+=1;var s=32-Ja(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,iu=1<<32-Ja(e)+i|r<<i|n,su=s+t}else iu=1<<s|r<<i|n,su=t}function qS(t){t.return!==null&&(Lh(t,1),WW(t,1,0))}function VS(t){for(;t===t5;)t5=E0[--_0],E0[_0]=null,r5=E0[--_0],E0[_0]=null;for(;t===If;)If=Xo[--ea],Xo[ea]=null,su=Xo[--ea],Xo[ea]=null,iu=Xo[--ea],Xo[ea]=null}var wo=null,mo=null,Gr=!1,qa=null;function HW(t,e){var r=ia(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wo=t,mo=Hd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wo=t,mo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=If!==null?{id:iu,overflow:su}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ia(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wo=t,mo=null,!0):!1;default:return!1}}function mC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yC(t){if(Gr){var e=mo;if(e){var r=e;if(!RN(t,e)){if(mC(t))throw Error($e(418));e=Hd(r.nextSibling);var n=wo;e&&RN(t,e)?HW(n,r):(t.flags=t.flags&-4097|2,Gr=!1,wo=t)}}else{if(mC(t))throw Error($e(418));t.flags=t.flags&-4097|2,Gr=!1,wo=t}}}function jN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wo=t}function j2(t){if(t!==wo)return!1;if(!Gr)return jN(t),Gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hC(t.type,t.memoizedProps)),e&&(e=mo)){if(mC(t))throw qW(),Error($e(418));for(;e;)HW(t,e),e=Hd(e.nextSibling)}if(jN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mo=Hd(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mo=null}}else mo=wo?Hd(t.stateNode.nextSibling):null;return!0}function qW(){for(var t=mo;t;)t=Hd(t.nextSibling)}function Eg(){mo=wo=null,Gr=!1}function GS(t){qa===null?qa=[t]:qa.push(t)}var Vle=Mu.ReactCurrentBatchConfig;function Zm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var n=r.stateNode}if(!n)throw Error($e(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,t))}return t}function D2(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DN(t){var e=t._init;return e(t._payload)}function VW(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Kd(y,b),y.index=0,y.sibling=null,y}function s(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,v,C){return b===null||b.tag!==6?(b=K8(v,y.mode,C),b.return=y,b):(b=i(b,v),b.return=y,b)}function l(y,b,v,C){var x=v.type;return x===m0?u(y,b,v.props.children,C,v.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ud&&DN(x)===b.type)?(C=i(b,v.props),C.ref=Zm(y,b,v),C.return=y,C):(C=r3(v.type,v.key,v.props,null,y.mode,C),C.ref=Zm(y,b,v),C.return=y,C)}function c(y,b,v,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Y8(v,y.mode,C),b.return=y,b):(b=i(b,v.children||[]),b.return=y,b)}function u(y,b,v,C,x){return b===null||b.tag!==7?(b=wf(v,y.mode,C,x),b.return=y,b):(b=i(b,v),b.return=y,b)}function h(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=K8(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case k2:return v=r3(b.type,b.key,b.props,null,y.mode,v),v.ref=Zm(y,null,b),v.return=y,v;case g0:return b=Y8(b,y.mode,v),b.return=y,b;case ud:var C=b._init;return h(y,C(b._payload),v)}if(D1(b)||Vm(b))return b=wf(b,y.mode,v,null),b.return=y,b;D2(y,b)}return null}function f(y,b,v,C){var x=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(y,b,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case k2:return v.key===x?l(y,b,v,C):null;case g0:return v.key===x?c(y,b,v,C):null;case ud:return x=v._init,f(y,b,x(v._payload),C)}if(D1(v)||Vm(v))return x!==null?null:u(y,b,v,C,null);D2(y,v)}return null}function p(y,b,v,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(v)||null,a(b,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case k2:return y=y.get(C.key===null?v:C.key)||null,l(b,y,C,x);case g0:return y=y.get(C.key===null?v:C.key)||null,c(b,y,C,x);case ud:var I=C._init;return p(y,b,v,I(C._payload),x)}if(D1(C)||Vm(C))return y=y.get(v)||null,u(b,y,C,x,null);D2(b,C)}return null}function g(y,b,v,C){for(var x=null,I=null,$=b,R=b=0,T=null;$!==null&&R<v.length;R++){$.index>R?(T=$,$=null):T=$.sibling;var L=f(y,$,v[R],C);if(L===null){$===null&&($=T);break}t&&$&&L.alternate===null&&e(y,$),b=s(L,b,R),I===null?x=L:I.sibling=L,I=L,$=T}if(R===v.length)return r(y,$),Gr&&Lh(y,R),x;if($===null){for(;R<v.length;R++)$=h(y,v[R],C),$!==null&&(b=s($,b,R),I===null?x=$:I.sibling=$,I=$);return Gr&&Lh(y,R),x}for($=n(y,$);R<v.length;R++)T=p($,y,R,v[R],C),T!==null&&(t&&T.alternate!==null&&$.delete(T.key===null?R:T.key),b=s(T,b,R),I===null?x=T:I.sibling=T,I=T);return t&&$.forEach(function(U){return e(y,U)}),Gr&&Lh(y,R),x}function m(y,b,v,C){var x=Vm(v);if(typeof x!="function")throw Error($e(150));if(v=x.call(v),v==null)throw Error($e(151));for(var I=x=null,$=b,R=b=0,T=null,L=v.next();$!==null&&!L.done;R++,L=v.next()){$.index>R?(T=$,$=null):T=$.sibling;var U=f(y,$,L.value,C);if(U===null){$===null&&($=T);break}t&&$&&U.alternate===null&&e(y,$),b=s(U,b,R),I===null?x=U:I.sibling=U,I=U,$=T}if(L.done)return r(y,$),Gr&&Lh(y,R),x;if($===null){for(;!L.done;R++,L=v.next())L=h(y,L.value,C),L!==null&&(b=s(L,b,R),I===null?x=L:I.sibling=L,I=L);return Gr&&Lh(y,R),x}for($=n(y,$);!L.done;R++,L=v.next())L=p($,y,R,L.value,C),L!==null&&(t&&L.alternate!==null&&$.delete(L.key===null?R:L.key),b=s(L,b,R),I===null?x=L:I.sibling=L,I=L);return t&&$.forEach(function(W){return e(y,W)}),Gr&&Lh(y,R),x}function w(y,b,v,C){if(typeof v=="object"&&v!==null&&v.type===m0&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case k2:e:{for(var x=v.key,I=b;I!==null;){if(I.key===x){if(x=v.type,x===m0){if(I.tag===7){r(y,I.sibling),b=i(I,v.props.children),b.return=y,y=b;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ud&&DN(x)===I.type){r(y,I.sibling),b=i(I,v.props),b.ref=Zm(y,I,v),b.return=y,y=b;break e}r(y,I);break}else e(y,I);I=I.sibling}v.type===m0?(b=wf(v.props.children,y.mode,C,v.key),b.return=y,y=b):(C=r3(v.type,v.key,v.props,null,y.mode,C),C.ref=Zm(y,b,v),C.return=y,y=C)}return o(y);case g0:e:{for(I=v.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=i(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=Y8(v,y.mode,C),b.return=y,y=b}return o(y);case ud:return I=v._init,w(y,b,I(v._payload),C)}if(D1(v))return g(y,b,v,C);if(Vm(v))return m(y,b,v,C);D2(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,v),b.return=y,y=b):(r(y,b),b=K8(v,y.mode,C),b.return=y,y=b),o(y)):r(y,b)}return w}var _g=VW(!0),GW=VW(!1),n5=gh(null),i5=null,C0=null,KS=null;function YS(){KS=C0=i5=null}function QS(t){var e=n5.current;Br(n5),t._currentValue=e}function wC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function q0(t,e){i5=t,KS=C0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rs=!0),t.firstContext=null)}function la(t){var e=t._currentValue;if(KS!==t)if(t={context:t,memoizedValue:e,next:null},C0===null){if(i5===null)throw Error($e(308));C0=t,i5.dependencies={lanes:0,firstContext:t}}else C0=C0.next=t;return e}var Jh=null;function ZS(t){Jh===null?Jh=[t]:Jh.push(t)}function KW(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ZS(e)):(r.next=i.next,i.next=r),e.interleaved=r,wu(t,n)}function wu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var dd=!1;function JS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YW(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qd(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,sr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,wu(t,r)}return i=n.interleaved,i===null?(e.next=e,ZS(n)):(e.next=i.next,i.next=e),n.interleaved=e,wu(t,r)}function Qb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,DS(t,r)}}function LN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function s5(t,e,r,n){var i=t.updateQueue;dd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=en({},h,f);break e;case 2:dd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pf|=o,t.lanes=o,t.memoizedState=h}}function FN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($e(191,i));i.call(n)}}}var Cv={},ec=gh(Cv),Qy=gh(Cv),Zy=gh(Cv);function Xh(t){if(t===Cv)throw Error($e(174));return t}function XS(t,e){switch(Nr(Zy,e),Nr(Qy,t),Nr(ec,Cv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=J_(e,t)}Br(ec),Nr(ec,e)}function Cg(){Br(ec),Br(Qy),Br(Zy)}function QW(t){Xh(Zy.current);var e=Xh(ec.current),r=J_(e,t.type);e!==r&&(Nr(Qy,t),Nr(ec,r))}function e$(t){Qy.current===t&&(Br(ec),Br(Qy))}var Zr=gh(0);function o5(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z8=[];function t$(){for(var t=0;t<z8.length;t++)z8[t]._workInProgressVersionPrimary=null;z8.length=0}var Zb=Mu.ReactCurrentDispatcher,W8=Mu.ReactCurrentBatchConfig,Tf=0,Xr=null,Mn=null,Gn=null,a5=!1,ay=!1,Jy=0,Gle=0;function Ci(){throw Error($e(321))}function r$(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!il(t[r],e[r]))return!1;return!0}function n$(t,e,r,n,i,s){if(Tf=s,Xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zb.current=t===null||t.memoizedState===null?Zle:Jle,t=r(n,i),ay){s=0;do{if(ay=!1,Jy=0,25<=s)throw Error($e(301));s+=1,Gn=Mn=null,e.updateQueue=null,Zb.current=Xle,t=r(n,i)}while(ay)}if(Zb.current=l5,e=Mn!==null&&Mn.next!==null,Tf=0,Gn=Mn=Xr=null,a5=!1,e)throw Error($e(300));return t}function i$(){var t=Jy!==0;return Jy=0,t}function jl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Xr.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function ca(){if(Mn===null){var t=Xr.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var e=Gn===null?Xr.memoizedState:Gn.next;if(e!==null)Gn=e,Mn=t;else{if(t===null)throw Error($e(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Gn===null?Xr.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function Xy(t,e){return typeof e=="function"?e(t):e}function H8(t){var e=ca(),r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=t;var n=Mn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Tf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Xr.lanes|=u,Pf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,il(n,e.memoizedState)||(Rs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Xr.lanes|=s,Pf|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function q8(t){var e=ca(),r=e.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);il(s,e.memoizedState)||(Rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ZW(){}function JW(t,e){var r=Xr,n=ca(),i=e(),s=!il(n.memoizedState,i);if(s&&(n.memoizedState=i,Rs=!0),n=n.queue,s$(tH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(r.flags|=2048,ew(9,eH.bind(null,r,n,i,e),void 0,null),Zn===null)throw Error($e(349));Tf&30||XW(r,e,i)}return i}function XW(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Xr.updateQueue,e===null?(e={lastEffect:null,stores:null},Xr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eH(t,e,r,n){e.value=r,e.getSnapshot=n,rH(e)&&nH(t)}function tH(t,e,r){return r(function(){rH(e)&&nH(t)})}function rH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!il(t,r)}catch{return!0}}function nH(t){var e=wu(t,1);e!==null&&Xa(e,t,1,-1)}function UN(t){var e=jl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:t},e.queue=t,t=t.dispatch=Qle.bind(null,Xr,t),[e.memoizedState,t]}function ew(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Xr.updateQueue,e===null?(e={lastEffect:null,stores:null},Xr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function iH(){return ca().memoizedState}function Jb(t,e,r,n){var i=jl();Xr.flags|=t,i.memoizedState=ew(1|e,r,void 0,n===void 0?null:n)}function z6(t,e,r,n){var i=ca();n=n===void 0?null:n;var s=void 0;if(Mn!==null){var o=Mn.memoizedState;if(s=o.destroy,n!==null&&r$(n,o.deps)){i.memoizedState=ew(e,r,s,n);return}}Xr.flags|=t,i.memoizedState=ew(1|e,r,s,n)}function BN(t,e){return Jb(8390656,8,t,e)}function s$(t,e){return z6(2048,8,t,e)}function sH(t,e){return z6(4,2,t,e)}function oH(t,e){return z6(4,4,t,e)}function aH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lH(t,e,r){return r=r!=null?r.concat([t]):null,z6(4,4,aH.bind(null,e,t),r)}function o$(){}function cH(t,e){var r=ca();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r$(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uH(t,e){var r=ca();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r$(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function dH(t,e,r){return Tf&21?(il(r,e)||(r=mW(),Xr.lanes|=r,Pf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rs=!0),t.memoizedState=r)}function Kle(t,e){var r=vr;vr=r!==0&&4>r?r:4,t(!0);var n=W8.transition;W8.transition={};try{t(!1),e()}finally{vr=r,W8.transition=n}}function hH(){return ca().memoizedState}function Yle(t,e,r){var n=Gd(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fH(t))pH(e,r);else if(r=KW(t,e,r,n),r!==null){var i=ds();Xa(r,t,n,i),gH(r,e,n)}}function Qle(t,e,r){var n=Gd(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fH(t))pH(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,il(a,o)){var l=e.interleaved;l===null?(i.next=i,ZS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=KW(t,e,i,n),r!==null&&(i=ds(),Xa(r,t,n,i),gH(r,e,n))}}function fH(t){var e=t.alternate;return t===Xr||e!==null&&e===Xr}function pH(t,e){ay=a5=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,DS(t,r)}}var l5={readContext:la,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},Zle={readContext:la,useCallback:function(t,e){return jl().memoizedState=[t,e===void 0?null:e],t},useContext:la,useEffect:BN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jb(4194308,4,aH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jb(4,2,t,e)},useMemo:function(t,e){var r=jl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Yle.bind(null,Xr,t),[n.memoizedState,t]},useRef:function(t){var e=jl();return t={current:t},e.memoizedState=t},useState:UN,useDebugValue:o$,useDeferredValue:function(t){return jl().memoizedState=t},useTransition:function(){var t=UN(!1),e=t[0];return t=Kle.bind(null,t[1]),jl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Xr,i=jl();if(Gr){if(r===void 0)throw Error($e(407));r=r()}else{if(r=e(),Zn===null)throw Error($e(349));Tf&30||XW(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,BN(tH.bind(null,n,s,t),[t]),n.flags|=2048,ew(9,eH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=jl(),e=Zn.identifierPrefix;if(Gr){var r=su,n=iu;r=(n&~(1<<32-Ja(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jy++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Gle++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jle={readContext:la,useCallback:cH,useContext:la,useEffect:s$,useImperativeHandle:lH,useInsertionEffect:sH,useLayoutEffect:oH,useMemo:uH,useReducer:H8,useRef:iH,useState:function(){return H8(Xy)},useDebugValue:o$,useDeferredValue:function(t){var e=ca();return dH(e,Mn.memoizedState,t)},useTransition:function(){var t=H8(Xy)[0],e=ca().memoizedState;return[t,e]},useMutableSource:ZW,useSyncExternalStore:JW,useId:hH,unstable_isNewReconciler:!1},Xle={readContext:la,useCallback:cH,useContext:la,useEffect:s$,useImperativeHandle:lH,useInsertionEffect:sH,useLayoutEffect:oH,useMemo:uH,useReducer:q8,useRef:iH,useState:function(){return q8(Xy)},useDebugValue:o$,useDeferredValue:function(t){var e=ca();return Mn===null?e.memoizedState=t:dH(e,Mn.memoizedState,t)},useTransition:function(){var t=q8(Xy)[0],e=ca().memoizedState;return[t,e]},useMutableSource:ZW,useSyncExternalStore:JW,useId:hH,unstable_isNewReconciler:!1};function Fa(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:en({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var W6={isMounted:function(t){return(t=t._reactInternals)?np(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ds(),i=Gd(t),s=lu(n,i);s.payload=e,r!=null&&(s.callback=r),e=qd(t,s,i),e!==null&&(Xa(e,t,i,n),Qb(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ds(),i=Gd(t),s=lu(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=qd(t,s,i),e!==null&&(Xa(e,t,i,n),Qb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ds(),n=Gd(t),i=lu(r,n);i.tag=2,e!=null&&(i.callback=e),e=qd(t,i,n),e!==null&&(Xa(e,t,n,r),Qb(e,t,n))}};function zN(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vy(r,n)||!Vy(i,s):!0}function mH(t,e,r){var n=!1,i=rh,s=e.contextType;return typeof s=="object"&&s!==null?s=la(s):(i=Us(e)?$f:Gi.current,n=e.contextTypes,s=(n=n!=null)?xg(t,i):rh),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W6,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&W6.enqueueReplaceState(e,e.state,null)}function bC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},JS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=la(s):(s=Us(e)?$f:Gi.current,i.context=xg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vC(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&W6.enqueueReplaceState(i,i.state,null),s5(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ag(t,e){try{var r="",n=e;do r+=Sae(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function V8(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ece=typeof WeakMap=="function"?WeakMap:Map;function yH(t,e,r){r=lu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){u5||(u5=!0,PC=n),xC(t,e)},r}function wH(t,e,r){r=lu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xC(t,e),typeof n!="function"&&(Vd===null?Vd=new Set([this]):Vd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function HN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ece;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=pce.bind(null,t,e,r),e.then(t,t))}function qN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lu(-1,1),e.tag=2,qd(r,e,1))),r.lanes|=1),t)}var tce=Mu.ReactCurrentOwner,Rs=!1;function es(t,e,r,n){e.child=t===null?GW(e,null,r,n):_g(e,t.child,r,n)}function GN(t,e,r,n,i){r=r.render;var s=e.ref;return q0(e,i),n=n$(t,e,r,n,s,i),r=i$(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vu(t,e,i)):(Gr&&r&&qS(e),e.flags|=1,es(t,e,n,i),e.child)}function KN(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!p$(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,vH(t,e,s,n,i)):(t=r3(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vy,r(o,n)&&t.ref===e.ref)return vu(t,e,i)}return e.flags|=1,t=Kd(s,n),t.ref=e.ref,t.return=e,e.child=t}function vH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Vy(s,n)&&t.ref===e.ref)if(Rs=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Rs=!0);else return e.lanes=t.lanes,vu(t,e,i)}return EC(t,e,r,n,i)}function bH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(k0,ao),ao|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nr(k0,ao),ao|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nr(k0,ao),ao|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Nr(k0,ao),ao|=n;return es(t,e,i,r),e.child}function xH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function EC(t,e,r,n,i){var s=Us(r)?$f:Gi.current;return s=xg(e,s),q0(e,i),r=n$(t,e,r,n,s,i),n=i$(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vu(t,e,i)):(Gr&&n&&qS(e),e.flags|=1,es(t,e,r,i),e.child)}function YN(t,e,r,n,i){if(Us(r)){var s=!0;e5(e)}else s=!1;if(q0(e,i),e.stateNode===null)Xb(t,e),mH(e,r,n),bC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=la(c):(c=Us(r)?$f:Gi.current,c=xg(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&WN(e,o,n,c),dd=!1;var f=e.memoizedState;o.state=f,s5(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Fs.current||dd?(typeof u=="function"&&(vC(e,r,u,n),l=e.memoizedState),(a=dd||zN(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,YW(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fa(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=la(l):(l=Us(r)?$f:Gi.current,l=xg(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&WN(e,o,n,l),dd=!1,f=e.memoizedState,o.state=f,s5(e,n,o,i);var g=e.memoizedState;a!==h||f!==g||Fs.current||dd?(typeof p=="function"&&(vC(e,r,p,n),g=e.memoizedState),(c=dd||zN(e,r,c,n,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return _C(t,e,r,n,s,i)}function _C(t,e,r,n,i,s){xH(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&MN(e,r,!1),vu(t,e,s);n=e.stateNode,tce.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=_g(e,t.child,null,s),e.child=_g(e,null,a,s)):es(t,e,a,s),e.memoizedState=n.state,i&&MN(e,r,!0),e.child}function EH(t){var e=t.stateNode;e.pendingContext?ON(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ON(t,e.context,!1),XS(t,e.containerInfo)}function QN(t,e,r,n,i){return Eg(),GS(i),e.flags|=256,es(t,e,r,n),e.child}var CC={dehydrated:null,treeContext:null,retryLane:0};function AC(t){return{baseLanes:t,cachePool:null,transitions:null}}function _H(t,e,r){var n=e.pendingProps,i=Zr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nr(Zr,i&1),t===null)return yC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=V6(o,n,0,null),t=wf(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=AC(r),e.memoizedState=CC,t):a$(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rce(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Kd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kd(a,s):(s=wf(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?AC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=CC,n}return s=t.child,t=s.sibling,n=Kd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function a$(t,e){return e=V6({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function L2(t,e,r,n){return n!==null&&GS(n),_g(e,t.child,null,r),t=a$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rce(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=V8(Error($e(422))),L2(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=V6({mode:"visible",children:n.children},i,0,null),s=wf(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_g(e,t.child,null,o),e.child.memoizedState=AC(o),e.memoizedState=CC,s);if(!(e.mode&1))return L2(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error($e(419)),n=V8(s,n,void 0),L2(t,e,o,n)}if(a=(o&t.childLanes)!==0,Rs||a){if(n=Zn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wu(t,i),Xa(n,t,i,-1))}return f$(),n=V8(Error($e(421))),L2(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gce.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mo=Hd(i.nextSibling),wo=e,Gr=!0,qa=null,t!==null&&(Xo[ea++]=iu,Xo[ea++]=su,Xo[ea++]=If,iu=t.id,su=t.overflow,If=e),e=a$(e,n.children),e.flags|=4096,e)}function ZN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wC(t.return,e,r)}function G8(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function CH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(es(t,e,n.children,r),n=Zr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZN(t,r,e);else if(t.tag===19)ZN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nr(Zr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&o5(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),G8(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&o5(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}G8(e,!0,r,null,s);break;case"together":G8(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,r=Kd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function nce(t,e,r){switch(e.tag){case 3:EH(e),Eg();break;case 5:QW(e);break;case 1:Us(e.type)&&e5(e);break;case 4:XS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nr(n5,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nr(Zr,Zr.current&1),e.flags|=128,null):r&e.child.childLanes?_H(t,e,r):(Nr(Zr,Zr.current&1),t=vu(t,e,r),t!==null?t.sibling:null);Nr(Zr,Zr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return CH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nr(Zr,Zr.current),n)break;return null;case 22:case 23:return e.lanes=0,bH(t,e,r)}return vu(t,e,r)}var AH,kC,kH,SH;AH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kC=function(){};kH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Xh(ec.current);var s=null;switch(r){case"input":i=K_(t,i),n=K_(t,n),s=[];break;case"select":i=en({},i,{value:void 0}),n=en({},n,{value:void 0}),s=[];break;case"textarea":i=Z_(t,i),n=Z_(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=J3)}X_(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fy.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fy.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SH=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jm(t,e){if(!Gr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ai(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ice(t,e,r){var n=e.pendingProps;switch(VS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(e),null;case 1:return Us(e.type)&&X3(),Ai(e),null;case 3:return n=e.stateNode,Cg(),Br(Fs),Br(Gi),t$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(j2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qa!==null&&(MC(qa),qa=null))),kC(t,e),Ai(e),null;case 5:e$(e);var i=Xh(Zy.current);if(r=e.type,t!==null&&e.stateNode!=null)kH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($e(166));return Ai(e),null}if(t=Xh(ec.current),j2(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Kl]=e,n[Yy]=s,t=(e.mode&1)!==0,r){case"dialog":Rr("cancel",n),Rr("close",n);break;case"iframe":case"object":case"embed":Rr("load",n);break;case"video":case"audio":for(i=0;i<F1.length;i++)Rr(F1[i],n);break;case"source":Rr("error",n);break;case"img":case"image":case"link":Rr("error",n),Rr("load",n);break;case"details":Rr("toggle",n);break;case"input":oN(n,s),Rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",n);break;case"textarea":lN(n,s),Rr("invalid",n)}X_(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&R2(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&R2(n.textContent,a,t),i=["children",""+a]):Fy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rr("scroll",n)}switch(r){case"input":S2(n),aN(n,s,!0);break;case"textarea":S2(n),cN(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=J3)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Kl]=e,t[Yy]=n,AH(t,e,!1,!1),e.stateNode=t;e:{switch(o=eC(r,n),r){case"dialog":Rr("cancel",t),Rr("close",t),i=n;break;case"iframe":case"object":case"embed":Rr("load",t),i=n;break;case"video":case"audio":for(i=0;i<F1.length;i++)Rr(F1[i],t);i=n;break;case"source":Rr("error",t),i=n;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),i=n;break;case"details":Rr("toggle",t),i=n;break;case"input":oN(t,n),i=K_(t,n),Rr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=en({},n,{value:void 0}),Rr("invalid",t);break;case"textarea":lN(t,n),i=Z_(t,n),Rr("invalid",t);break;default:i=n}X_(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iW(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rW(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Uy(t,l):typeof l=="number"&&Uy(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fy.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rr("scroll",t):l!=null&&PS(t,s,l,o))}switch(r){case"input":S2(t),aN(t,n,!1);break;case"textarea":S2(t),cN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+th(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?B0(t,!!n.multiple,s,!1):n.defaultValue!=null&&B0(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=J3)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ai(e),null;case 6:if(t&&e.stateNode!=null)SH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($e(166));if(r=Xh(Zy.current),Xh(ec.current),j2(e)){if(n=e.stateNode,r=e.memoizedProps,n[Kl]=e,(s=n.nodeValue!==r)&&(t=wo,t!==null))switch(t.tag){case 3:R2(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&R2(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kl]=e,e.stateNode=n}return Ai(e),null;case 13:if(Br(Zr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gr&&mo!==null&&e.mode&1&&!(e.flags&128))qW(),Eg(),e.flags|=98560,s=!1;else if(s=j2(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error($e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[Kl]=e}else Eg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ai(e),s=!1}else qa!==null&&(MC(qa),qa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Zr.current&1?Dn===0&&(Dn=3):f$())),e.updateQueue!==null&&(e.flags|=4),Ai(e),null);case 4:return Cg(),kC(t,e),t===null&&Gy(e.stateNode.containerInfo),Ai(e),null;case 10:return QS(e.type._context),Ai(e),null;case 17:return Us(e.type)&&X3(),Ai(e),null;case 19:if(Br(Zr),s=e.memoizedState,s===null)return Ai(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Jm(s,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=o5(t),o!==null){for(e.flags|=128,Jm(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nr(Zr,Zr.current&1|2),e.child}t=t.sibling}s.tail!==null&&pn()>kg&&(e.flags|=128,n=!0,Jm(s,!1),e.lanes=4194304)}else{if(!n)if(t=o5(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gr)return Ai(e),null}else 2*pn()-s.renderingStartTime>kg&&r!==1073741824&&(e.flags|=128,n=!0,Jm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pn(),e.sibling=null,r=Zr.current,Nr(Zr,n?r&1|2:r&1),e):(Ai(e),null);case 22:case 23:return h$(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ao&1073741824&&(Ai(e),e.subtreeFlags&6&&(e.flags|=8192)):Ai(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function sce(t,e){switch(VS(e),e.tag){case 1:return Us(e.type)&&X3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cg(),Br(Fs),Br(Gi),t$(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e$(e),null;case 13:if(Br(Zr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));Eg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(Zr),null;case 4:return Cg(),null;case 10:return QS(e.type._context),null;case 22:case 23:return h$(),null;case 24:return null;default:return null}}var F2=!1,Fi=!1,oce=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function A0(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(t,e,n)}else r.current=null}function SC(t,e,r){try{r()}catch(n){sn(t,e,n)}}var JN=!1;function ace(t,e){if(uC=Y3,t=NW(),HS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dC={focusedElem:t,selectionRange:r},Y3=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Fa(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(C){sn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return g=JN,JN=!1,g}function ly(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&SC(e,r,s)}i=i.next}while(i!==n)}}function H6(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $C(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $H(t){var e=t.alternate;e!==null&&(t.alternate=null,$H(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kl],delete e[Yy],delete e[pC],delete e[Wle],delete e[Hle])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IH(t){return t.tag===5||t.tag===3||t.tag===4}function XN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function IC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=J3));else if(n!==4&&(t=t.child,t!==null))for(IC(t,e,r),t=t.sibling;t!==null;)IC(t,e,r),t=t.sibling}function TC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(TC(t,e,r),t=t.sibling;t!==null;)TC(t,e,r),t=t.sibling}var li=null,Ha=!1;function Uu(t,e,r){for(r=r.child;r!==null;)TH(t,e,r),r=r.sibling}function TH(t,e,r){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(j6,r)}catch{}switch(r.tag){case 5:Fi||A0(r,e);case 6:var n=li,i=Ha;li=null,Uu(t,e,r),li=n,Ha=i,li!==null&&(Ha?(t=li,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):li.removeChild(r.stateNode));break;case 18:li!==null&&(Ha?(t=li,r=r.stateNode,t.nodeType===8?U8(t.parentNode,r):t.nodeType===1&&U8(t,r),Hy(t)):U8(li,r.stateNode));break;case 4:n=li,i=Ha,li=r.stateNode.containerInfo,Ha=!0,Uu(t,e,r),li=n,Ha=i;break;case 0:case 11:case 14:case 15:if(!Fi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&SC(r,e,o),i=i.next}while(i!==n)}Uu(t,e,r);break;case 1:if(!Fi&&(A0(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){sn(r,e,a)}Uu(t,e,r);break;case 21:Uu(t,e,r);break;case 22:r.mode&1?(Fi=(n=Fi)||r.memoizedState!==null,Uu(t,e,r),Fi=n):Uu(t,e,r);break;default:Uu(t,e,r)}}function eO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oce),e.forEach(function(n){var i=mce.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Sa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:li=a.stateNode,Ha=!1;break e;case 3:li=a.stateNode.containerInfo,Ha=!0;break e;case 4:li=a.stateNode.containerInfo,Ha=!0;break e}a=a.return}if(li===null)throw Error($e(160));TH(s,o,i),li=null,Ha=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){sn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PH(e,t),e=e.sibling}function PH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sa(e,t),El(t),n&4){try{ly(3,t,t.return),H6(3,t)}catch(m){sn(t,t.return,m)}try{ly(5,t,t.return)}catch(m){sn(t,t.return,m)}}break;case 1:Sa(e,t),El(t),n&512&&r!==null&&A0(r,r.return);break;case 5:if(Sa(e,t),El(t),n&512&&r!==null&&A0(r,r.return),t.flags&32){var i=t.stateNode;try{Uy(i,"")}catch(m){sn(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Xz(i,s),eC(a,o);var c=eC(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?iW(i,h):u==="dangerouslySetInnerHTML"?rW(i,h):u==="children"?Uy(i,h):PS(i,u,h,c)}switch(a){case"input":Y_(i,s);break;case"textarea":eW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?B0(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?B0(i,!!s.multiple,s.defaultValue,!0):B0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yy]=s}catch(m){sn(t,t.return,m)}}break;case 6:if(Sa(e,t),El(t),n&4){if(t.stateNode===null)throw Error($e(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){sn(t,t.return,m)}}break;case 3:if(Sa(e,t),El(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hy(e.containerInfo)}catch(m){sn(t,t.return,m)}break;case 4:Sa(e,t),El(t);break;case 13:Sa(e,t),El(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(u$=pn())),n&4&&eO(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Fi=(c=Fi)||u,Sa(e,t),Fi=c):Sa(e,t),El(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ze=t,u=t.child;u!==null;){for(h=Ze=u;Ze!==null;){switch(f=Ze,p=f.child,f.tag){case 0:case 11:case 14:case 15:ly(4,f,f.return);break;case 1:A0(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){sn(n,r,m)}}break;case 5:A0(f,f.return);break;case 22:if(f.memoizedState!==null){rO(h);continue}}p!==null?(p.return=f,Ze=p):rO(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nW("display",o))}catch(m){sn(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){sn(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sa(e,t),El(t),n&4&&eO(t);break;case 21:break;default:Sa(e,t),El(t)}}function El(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IH(r)){var n=r;break e}r=r.return}throw Error($e(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uy(i,""),n.flags&=-33);var s=XN(t);TC(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=XN(t);IC(t,a,o);break;default:throw Error($e(161))}}catch(l){sn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lce(t,e,r){Ze=t,NH(t)}function NH(t,e,r){for(var n=(t.mode&1)!==0;Ze!==null;){var i=Ze,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||F2;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fi;a=F2;var c=Fi;if(F2=o,(Fi=l)&&!c)for(Ze=i;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?nO(i):l!==null?(l.return=o,Ze=l):nO(i);for(;s!==null;)Ze=s,NH(s),s=s.sibling;Ze=i,F2=a,Fi=c}tO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ze=s):tO(t)}}function tO(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fi||H6(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Fi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FN(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}FN(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hy(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Fi||e.flags&512&&$C(e)}catch(f){sn(e,e.return,f)}}if(e===t){Ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ze=r;break}Ze=e.return}}function rO(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ze=r;break}Ze=e.return}}function nO(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{H6(4,e)}catch(l){sn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{$C(e)}catch(l){sn(e,s,l)}break;case 5:var o=e.return;try{$C(e)}catch(l){sn(e,o,l)}}}catch(l){sn(e,e.return,l)}if(e===t){Ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ze=a;break}Ze=e.return}}var cce=Math.ceil,c5=Mu.ReactCurrentDispatcher,l$=Mu.ReactCurrentOwner,oa=Mu.ReactCurrentBatchConfig,sr=0,Zn=null,Sn=null,mi=0,ao=0,k0=gh(0),Dn=0,tw=null,Pf=0,q6=0,c$=0,cy=null,Os=null,u$=0,kg=1/0,zc=null,u5=!1,PC=null,Vd=null,U2=!1,Rd=null,d5=0,uy=0,NC=null,e3=-1,t3=0;function ds(){return sr&6?pn():e3!==-1?e3:e3=pn()}function Gd(t){return t.mode&1?sr&2&&mi!==0?mi&-mi:Vle.transition!==null?(t3===0&&(t3=mW()),t3):(t=vr,t!==0||(t=window.event,t=t===void 0?16:_W(t.type)),t):1}function Xa(t,e,r,n){if(50<uy)throw uy=0,NC=null,Error($e(185));xv(t,r,n),(!(sr&2)||t!==Zn)&&(t===Zn&&(!(sr&2)&&(q6|=r),Dn===4&&vd(t,mi)),Bs(t,n),r===1&&sr===0&&!(e.mode&1)&&(kg=pn()+500,B6&&mh()))}function Bs(t,e){var r=t.callbackNode;Vae(t,e);var n=K3(t,t===Zn?mi:0);if(n===0)r!==null&&hN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hN(r),e===1)t.tag===0?qle(iO.bind(null,t)):zW(iO.bind(null,t)),Ble(function(){!(sr&6)&&mh()}),r=null;else{switch(yW(n)){case 1:r=jS;break;case 4:r=pW;break;case 16:r=G3;break;case 536870912:r=gW;break;default:r=G3}r=UH(r,OH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function OH(t,e){if(e3=-1,t3=0,sr&6)throw Error($e(327));var r=t.callbackNode;if(V0()&&t.callbackNode!==r)return null;var n=K3(t,t===Zn?mi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=h5(t,n);else{e=n;var i=sr;sr|=2;var s=RH();(Zn!==t||mi!==e)&&(zc=null,kg=pn()+500,yf(t,e));do try{hce();break}catch(a){MH(t,a)}while(!0);YS(),c5.current=s,sr=i,Sn!==null?e=0:(Zn=null,mi=0,e=Dn)}if(e!==0){if(e===2&&(i=sC(t),i!==0&&(n=i,e=OC(t,i))),e===1)throw r=tw,yf(t,0),vd(t,n),Bs(t,pn()),r;if(e===6)vd(t,n);else{if(i=t.current.alternate,!(n&30)&&!uce(i)&&(e=h5(t,n),e===2&&(s=sC(t),s!==0&&(n=s,e=OC(t,s))),e===1))throw r=tw,yf(t,0),vd(t,n),Bs(t,pn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error($e(345));case 2:Fh(t,Os,zc);break;case 3:if(vd(t,n),(n&130023424)===n&&(e=u$+500-pn(),10<e)){if(K3(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fC(Fh.bind(null,t,Os,zc),e);break}Fh(t,Os,zc);break;case 4:if(vd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ja(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=pn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cce(n/1960))-n,10<n){t.timeoutHandle=fC(Fh.bind(null,t,Os,zc),n);break}Fh(t,Os,zc);break;case 5:Fh(t,Os,zc);break;default:throw Error($e(329))}}}return Bs(t,pn()),t.callbackNode===r?OH.bind(null,t):null}function OC(t,e){var r=cy;return t.current.memoizedState.isDehydrated&&(yf(t,e).flags|=256),t=h5(t,e),t!==2&&(e=Os,Os=r,e!==null&&MC(e)),t}function MC(t){Os===null?Os=t:Os.push.apply(Os,t)}function uce(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!il(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vd(t,e){for(e&=~c$,e&=~q6,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ja(e),n=1<<r;t[r]=-1,e&=~n}}function iO(t){if(sr&6)throw Error($e(327));V0();var e=K3(t,0);if(!(e&1))return Bs(t,pn()),null;var r=h5(t,e);if(t.tag!==0&&r===2){var n=sC(t);n!==0&&(e=n,r=OC(t,n))}if(r===1)throw r=tw,yf(t,0),vd(t,e),Bs(t,pn()),r;if(r===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fh(t,Os,zc),Bs(t,pn()),null}function d$(t,e){var r=sr;sr|=1;try{return t(e)}finally{sr=r,sr===0&&(kg=pn()+500,B6&&mh())}}function Nf(t){Rd!==null&&Rd.tag===0&&!(sr&6)&&V0();var e=sr;sr|=1;var r=oa.transition,n=vr;try{if(oa.transition=null,vr=1,t)return t()}finally{vr=n,oa.transition=r,sr=e,!(sr&6)&&mh()}}function h$(){ao=k0.current,Br(k0)}function yf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ule(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(VS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&X3();break;case 3:Cg(),Br(Fs),Br(Gi),t$();break;case 5:e$(n);break;case 4:Cg();break;case 13:Br(Zr);break;case 19:Br(Zr);break;case 10:QS(n.type._context);break;case 22:case 23:h$()}r=r.return}if(Zn=t,Sn=t=Kd(t.current,null),mi=ao=e,Dn=0,tw=null,c$=q6=Pf=0,Os=cy=null,Jh!==null){for(e=0;e<Jh.length;e++)if(r=Jh[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Jh=null}return t}function MH(t,e){do{var r=Sn;try{if(YS(),Zb.current=l5,a5){for(var n=Xr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}a5=!1}if(Tf=0,Gn=Mn=Xr=null,ay=!1,Jy=0,l$.current=null,r===null||r.return===null){Dn=1,tw=e,Sn=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=mi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qN(o);if(p!==null){p.flags&=-257,VN(p,o,a,s,e),p.mode&1&&HN(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){HN(s,c,e),f$();break e}l=Error($e(426))}}else if(Gr&&a.mode&1){var w=qN(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),VN(w,o,a,s,e),GS(Ag(l,a));break e}}s=l=Ag(l,a),Dn!==4&&(Dn=2),cy===null?cy=[s]:cy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=yH(s,l,e);LN(s,y);break e;case 1:a=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vd===null||!Vd.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=wH(s,a,e);LN(s,C);break e}}s=s.return}while(s!==null)}DH(r)}catch(x){e=x,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function RH(){var t=c5.current;return c5.current=l5,t===null?l5:t}function f$(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Zn===null||!(Pf&268435455)&&!(q6&268435455)||vd(Zn,mi)}function h5(t,e){var r=sr;sr|=2;var n=RH();(Zn!==t||mi!==e)&&(zc=null,yf(t,e));do try{dce();break}catch(i){MH(t,i)}while(!0);if(YS(),sr=r,c5.current=n,Sn!==null)throw Error($e(261));return Zn=null,mi=0,Dn}function dce(){for(;Sn!==null;)jH(Sn)}function hce(){for(;Sn!==null&&!Dae();)jH(Sn)}function jH(t){var e=FH(t.alternate,t,ao);t.memoizedProps=t.pendingProps,e===null?DH(t):Sn=e,l$.current=null}function DH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sce(r,e),r!==null){r.flags&=32767,Sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,Sn=null;return}}else if(r=ice(r,e,ao),r!==null){Sn=r;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);Dn===0&&(Dn=5)}function Fh(t,e,r){var n=vr,i=oa.transition;try{oa.transition=null,vr=1,fce(t,e,r,n)}finally{oa.transition=i,vr=n}return null}function fce(t,e,r,n){do V0();while(Rd!==null);if(sr&6)throw Error($e(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Gae(t,s),t===Zn&&(Sn=Zn=null,mi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||U2||(U2=!0,UH(G3,function(){return V0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=oa.transition,oa.transition=null;var o=vr;vr=1;var a=sr;sr|=4,l$.current=null,ace(t,r),PH(r,t),Ole(dC),Y3=!!uC,dC=uC=null,t.current=r,lce(r),Lae(),sr=a,vr=o,oa.transition=s}else t.current=r;if(U2&&(U2=!1,Rd=t,d5=i),s=t.pendingLanes,s===0&&(Vd=null),Bae(r.stateNode),Bs(t,pn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(u5)throw u5=!1,t=PC,PC=null,t;return d5&1&&t.tag!==0&&V0(),s=t.pendingLanes,s&1?t===NC?uy++:(uy=0,NC=t):uy=0,mh(),null}function V0(){if(Rd!==null){var t=yW(d5),e=oa.transition,r=vr;try{if(oa.transition=null,vr=16>t?16:t,Rd===null)var n=!1;else{if(t=Rd,Rd=null,d5=0,sr&6)throw Error($e(331));var i=sr;for(sr|=4,Ze=t.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ze=c;Ze!==null;){var u=Ze;switch(u.tag){case 0:case 11:case 15:ly(8,u,s)}var h=u.child;if(h!==null)h.return=u,Ze=h;else for(;Ze!==null;){u=Ze;var f=u.sibling,p=u.return;if($H(u),u===c){Ze=null;break}if(f!==null){f.return=p,Ze=f;break}Ze=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ly(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ze=y;break e}Ze=s.return}}var b=t.current;for(Ze=b;Ze!==null;){o=Ze;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ze=v;else e:for(o=b;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:H6(9,a)}}catch(x){sn(a,a.return,x)}if(a===o){Ze=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ze=C;break e}Ze=a.return}}if(sr=i,mh(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(j6,t)}catch{}n=!0}return n}finally{vr=r,oa.transition=e}}return!1}function sO(t,e,r){e=Ag(r,e),e=yH(t,e,1),t=qd(t,e,1),e=ds(),t!==null&&(xv(t,1,e),Bs(t,e))}function sn(t,e,r){if(t.tag===3)sO(t,t,r);else for(;e!==null;){if(e.tag===3){sO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vd===null||!Vd.has(n))){t=Ag(r,t),t=wH(e,t,1),e=qd(e,t,1),t=ds(),e!==null&&(xv(e,1,t),Bs(e,t));break}}e=e.return}}function pce(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ds(),t.pingedLanes|=t.suspendedLanes&r,Zn===t&&(mi&r)===r&&(Dn===4||Dn===3&&(mi&130023424)===mi&&500>pn()-u$?yf(t,0):c$|=r),Bs(t,e)}function LH(t,e){e===0&&(t.mode&1?(e=T2,T2<<=1,!(T2&130023424)&&(T2=4194304)):e=1);var r=ds();t=wu(t,e),t!==null&&(xv(t,e,r),Bs(t,r))}function gce(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),LH(t,r)}function mce(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($e(314))}n!==null&&n.delete(e),LH(t,r)}var FH;FH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fs.current)Rs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rs=!1,nce(t,e,r);Rs=!!(t.flags&131072)}else Rs=!1,Gr&&e.flags&1048576&&WW(e,r5,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Xb(t,e),t=e.pendingProps;var i=xg(e,Gi.current);q0(e,r),i=n$(null,e,n,t,i,r);var s=i$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Us(n)?(s=!0,e5(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JS(e),i.updater=W6,e.stateNode=i,i._reactInternals=e,bC(e,n,t,r),e=_C(null,e,n,!0,s,r)):(e.tag=0,Gr&&s&&qS(e),es(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Xb(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=wce(n),t=Fa(n,t),i){case 0:e=EC(null,e,n,t,r);break e;case 1:e=YN(null,e,n,t,r);break e;case 11:e=GN(null,e,n,t,r);break e;case 14:e=KN(null,e,n,Fa(n.type,t),r);break e}throw Error($e(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fa(n,i),EC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fa(n,i),YN(t,e,n,i,r);case 3:e:{if(EH(e),t===null)throw Error($e(387));n=e.pendingProps,s=e.memoizedState,i=s.element,YW(t,e),s5(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ag(Error($e(423)),e),e=QN(t,e,n,r,i);break e}else if(n!==i){i=Ag(Error($e(424)),e),e=QN(t,e,n,r,i);break e}else for(mo=Hd(e.stateNode.containerInfo.firstChild),wo=e,Gr=!0,qa=null,r=GW(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eg(),n===i){e=vu(t,e,r);break e}es(t,e,n,r)}e=e.child}return e;case 5:return QW(e),t===null&&yC(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hC(n,i)?o=null:s!==null&&hC(n,s)&&(e.flags|=32),xH(t,e),es(t,e,o,r),e.child;case 6:return t===null&&yC(e),null;case 13:return _H(t,e,r);case 4:return XS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_g(e,null,n,r):es(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fa(n,i),GN(t,e,n,i,r);case 7:return es(t,e,e.pendingProps,r),e.child;case 8:return es(t,e,e.pendingProps.children,r),e.child;case 12:return es(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nr(n5,n._currentValue),n._currentValue=o,s!==null)if(il(s.value,o)){if(s.children===i.children&&!Fs.current){e=vu(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=lu(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),wC(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($e(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),wC(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}es(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,q0(e,r),i=la(i),n=n(i),e.flags|=1,es(t,e,n,r),e.child;case 14:return n=e.type,i=Fa(n,e.pendingProps),i=Fa(n.type,i),KN(t,e,n,i,r);case 15:return vH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fa(n,i),Xb(t,e),e.tag=1,Us(n)?(t=!0,e5(e)):t=!1,q0(e,r),mH(e,n,i),bC(e,n,i,r),_C(null,e,n,!0,t,r);case 19:return CH(t,e,r);case 22:return bH(t,e,r)}throw Error($e(156,e.tag))};function UH(t,e){return fW(t,e)}function yce(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,r,n){return new yce(t,e,r,n)}function p$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wce(t){if(typeof t=="function")return p$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===OS)return 11;if(t===MS)return 14}return 2}function Kd(t,e){var r=t.alternate;return r===null?(r=ia(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function r3(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")p$(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case m0:return wf(r.children,i,s,e);case NS:o=8,i|=8;break;case H_:return t=ia(12,r,e,i|2),t.elementType=H_,t.lanes=s,t;case q_:return t=ia(13,r,e,i),t.elementType=q_,t.lanes=s,t;case V_:return t=ia(19,r,e,i),t.elementType=V_,t.lanes=s,t;case Qz:return V6(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kz:o=10;break e;case Yz:o=9;break e;case OS:o=11;break e;case MS:o=14;break e;case ud:o=16,n=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=ia(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function wf(t,e,r,n){return t=ia(7,t,n,e),t.lanes=r,t}function V6(t,e,r,n){return t=ia(22,t,n,e),t.elementType=Qz,t.lanes=r,t.stateNode={isHidden:!1},t}function K8(t,e,r){return t=ia(6,t,null,e),t.lanes=r,t}function Y8(t,e,r){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vce(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I8(0),this.expirationTimes=I8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I8(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g$(t,e,r,n,i,s,o,a,l){return t=new vce(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ia(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JS(s),t}function bce(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g0,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function BH(t){if(!t)return rh;t=t._reactInternals;e:{if(np(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var r=t.type;if(Us(r))return BW(t,r,e)}return e}function zH(t,e,r,n,i,s,o,a,l){return t=g$(r,n,!0,t,i,s,o,a,l),t.context=BH(null),r=t.current,n=ds(),i=Gd(r),s=lu(n,i),s.callback=e??null,qd(r,s,i),t.current.lanes=i,xv(t,i,n),Bs(t,n),t}function G6(t,e,r,n){var i=e.current,s=ds(),o=Gd(i);return r=BH(r),e.context===null?e.context=r:e.pendingContext=r,e=lu(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qd(i,e,o),t!==null&&(Xa(t,i,o,s),Qb(t,i,o)),o}function f5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function m$(t,e){oO(t,e),(t=t.alternate)&&oO(t,e)}function xce(){return null}var WH=typeof reportError=="function"?reportError:function(t){console.error(t)};function y$(t){this._internalRoot=t}K6.prototype.render=y$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));G6(t,e,null,null)};K6.prototype.unmount=y$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nf(function(){G6(null,t,null,null)}),e[yu]=null}};function K6(t){this._internalRoot=t}K6.prototype.unstable_scheduleHydration=function(t){if(t){var e=bW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<wd.length&&e!==0&&e<wd[r].priority;r++);wd.splice(r,0,t),r===0&&EW(t)}};function w$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Y6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aO(){}function Ece(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=f5(o);s.call(c)}}var o=zH(e,n,t,0,null,!1,!1,"",aO);return t._reactRootContainer=o,t[yu]=o.current,Gy(t.nodeType===8?t.parentNode:t),Nf(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=f5(l);a.call(c)}}var l=g$(t,0,!1,null,null,!1,!1,"",aO);return t._reactRootContainer=l,t[yu]=l.current,Gy(t.nodeType===8?t.parentNode:t),Nf(function(){G6(e,l,r,n)}),l}function Q6(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=f5(o);a.call(l)}}G6(e,o,t,i)}else o=Ece(r,e,t,i,n);return f5(o)}wW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=L1(e.pendingLanes);r!==0&&(DS(e,r|1),Bs(e,pn()),!(sr&6)&&(kg=pn()+500,mh()))}break;case 13:Nf(function(){var n=wu(t,1);if(n!==null){var i=ds();Xa(n,t,1,i)}}),m$(t,1)}};LS=function(t){if(t.tag===13){var e=wu(t,134217728);if(e!==null){var r=ds();Xa(e,t,134217728,r)}m$(t,134217728)}};vW=function(t){if(t.tag===13){var e=Gd(t),r=wu(t,e);if(r!==null){var n=ds();Xa(r,t,e,n)}m$(t,e)}};bW=function(){return vr};xW=function(t,e){var r=vr;try{return vr=t,e()}finally{vr=r}};rC=function(t,e,r){switch(e){case"input":if(Y_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=U6(n);if(!i)throw Error($e(90));Jz(n),Y_(n,i)}}}break;case"textarea":eW(t,r);break;case"select":e=r.value,e!=null&&B0(t,!!r.multiple,e,!1)}};aW=d$;lW=Nf;var _ce={usingClientEntryPoint:!1,Events:[_v,b0,U6,sW,oW,d$]},Xm={findFiberByHostInstance:Zh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cce={bundleType:Xm.bundleType,version:Xm.version,rendererPackageName:Xm.rendererPackageName,rendererConfig:Xm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dW(t),t===null?null:t.stateNode},findFiberByHostInstance:Xm.findFiberByHostInstance||xce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B2.isDisabled&&B2.supportsFiber)try{j6=B2.inject(Cce),Xl=B2}catch{}}So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ce;So.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w$(e))throw Error($e(200));return bce(t,e,null,r)};So.createRoot=function(t,e){if(!w$(t))throw Error($e(299));var r=!1,n="",i=WH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g$(t,1,!1,null,null,r,!1,n,i),t[yu]=e.current,Gy(t.nodeType===8?t.parentNode:t),new y$(e)};So.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=dW(e),t=t===null?null:t.stateNode,t};So.flushSync=function(t){return Nf(t)};So.hydrate=function(t,e,r){if(!Y6(e))throw Error($e(200));return Q6(null,t,e,!0,r)};So.hydrateRoot=function(t,e,r){if(!w$(t))throw Error($e(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=WH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=zH(e,null,t,1,r??null,i,!1,s,o),t[yu]=e.current,Gy(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new K6(e)};So.render=function(t,e,r){if(!Y6(e))throw Error($e(200));return Q6(null,t,e,!1,r)};So.unmountComponentAtNode=function(t){if(!Y6(t))throw Error($e(40));return t._reactRootContainer?(Nf(function(){Q6(null,null,t,!1,function(){t._reactRootContainer=null,t[yu]=null})}),!0):!1};So.unstable_batchedUpdates=d$;So.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Y6(r))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return Q6(t,e,r,!1,n)};So.version="18.3.1-next-f1338f8080-20240426";function HH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HH)}catch(t){console.error(t)}}HH(),Hz.exports=So;var hc=Hz.exports,lO=hc;z_.createRoot=lO.createRoot,z_.hydrateRoot=lO.hydrateRoot;const Ace="modulepreload",kce=function(t){return"/"+t},cO={},tc=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=kce(l),l in cO)return;cO[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ace,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Sce(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function qH(){const t=new Set;let e=[];const r=()=>Sce(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var Je={},RC={exports:{}};(function(t,e){(function(r,n){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",g="type",m="vendor",w="version",y="architecture",b="console",v="mobile",C="tablet",x="smarttv",I="wearable",$="embedded",R=500,T="Amazon",L="Apple",U="ASUS",W="BlackBerry",M="Browser",A="Chrome",_="Edge",S="Firefox",O="Google",P="Honor",N="Huawei",D="Lenovo",F="LG",k="Microsoft",z="Motorola",V="Nvidia",j="OnePlus",G="Opera",Q="OPPO",K="Samsung",re="Sharp",le="Sony",ne="Xiaomi",ae="Zebra",ye="Facebook",de="Chromium OS",he="Mac OS",Xe=" Browser",ie=function(ke,Te){var fe={};for(var Ve in ke)Te[Ve]&&Te[Ve].length%2===0?fe[Ve]=Te[Ve].concat(ke[Ve]):fe[Ve]=ke[Ve];return fe},xe=function(ke){for(var Te={},fe=0;fe<ke.length;fe++)Te[ke[fe].toUpperCase()]=ke[fe];return Te},be=function(ke,Te){return typeof ke===u?se(Te).indexOf(se(ke))!==-1:!1},se=function(ke){return ke.toLowerCase()},we=function(ke){return typeof ke===u?ke.replace(/[^\d\.]/g,s).split(".")[0]:n},vt=function(ke,Te){if(typeof ke===u)return ke=ke.replace(/^\s\s*/,s),typeof Te===l?ke:ke.substring(0,R)},ce=function(ke,Te){for(var fe=0,Ve,st,Ke,at,Pe,dt;fe<Te.length&&!Pe;){var Et=Te[fe],bt=Te[fe+1];for(Ve=st=0;Ve<Et.length&&!Pe&&Et[Ve];)if(Pe=Et[Ve++].exec(ke),Pe)for(Ke=0;Ke<bt.length;Ke++)dt=Pe[++st],at=bt[Ke],typeof at===c&&at.length>0?at.length===2?typeof at[1]==a?this[at[0]]=at[1].call(this,dt):this[at[0]]=at[1]:at.length===3?typeof at[1]===a&&!(at[1].exec&&at[1].test)?this[at[0]]=dt?at[1].call(this,dt,at[2]):n:this[at[0]]=dt?dt.replace(at[1],at[2]):n:at.length===4&&(this[at[0]]=dt?at[3].call(this,dt.replace(at[1],at[2])):n):this[at]=dt||n;fe+=2}},Ie=function(ke,Te){for(var fe in Te)if(typeof Te[fe]===c&&Te[fe].length>0){for(var Ve=0;Ve<Te[fe].length;Ve++)if(be(Te[fe][Ve],ke))return fe===o?n:fe}else if(be(Te[fe],ke))return fe===o?n:fe;return Te.hasOwnProperty("*")?Te["*"]:ke},Fe={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,w],[/opios[\/ ]+([\w\.]+)/i],[w,[p,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[p,G+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[p,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[p,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[p,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+M],w],[/\bfocus\/([\w\.]+)/i],[w,[p,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[p,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[p,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[p,"MIUI"+Xe]],[/fxios\/([\w\.-]+)/i],[w,[p,S]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Xe],w],[/samsungbrowser\/([\w\.]+)/i],[w,[p,K+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,ye],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[p,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[w,Ie,Fe]],[/(webkit|khtml)\/([\w\.]+)/i],[p,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[p,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,s,se]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,se]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,K],[g,C]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,K],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,L],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,L],[g,C]],[/(macintosh);/i],[f,[m,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,re],[g,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[m,P],[g,C]],[/honor([-\w ]+)[;\)]/i],[f,[m,P],[g,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[m,N],[g,C]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,N],[g,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[m,ne],[g,C]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[m,ne],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,Q],[g,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[m,Ie,{OnePlus:["304","403","203"],"*":Q}],[g,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,z],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,z],[g,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,F],[g,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,F],[g,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[m,D],[g,C]],[/(nokia) (t[12][01])/i],[m,f,[g,C]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[g,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[m,O],[g,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,O],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,le],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,le],[g,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,j],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,T],[g,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,T],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,W],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,U],[g,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,U],[g,v]],[/(nexus 9)/i],[f,[m,"HTC"],[g,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[g,C]],[/(itel) ((\w+))/i],[[m,se],f,[g,Ie,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[g,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[m,"Archos"],[g,C]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[m,"Archos"],[g,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,f,[g,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,C]],[/(surface duo)/i],[f,[m,k],[g,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,v]],[/(u304aa)/i],[f,[m,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,C]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,C]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,C]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,C]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,C]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,C]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,C]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,v]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,C]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,C]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,C]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[m,V],[g,C]],[/(sprint) (\w+)/i],[m,f,[g,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,k],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,ae],[g,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,ae],[g,v]],[/smart-tv.+(samsung)/i],[m,[g,x]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,K],[g,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,F],[g,x]],[/(apple) ?tv/i],[m,[f,L+" TV"],[g,x]],[/crkey/i],[[f,A+"cast"],[m,O],[g,x]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,T],[g,x]],[/(shield \w+ tv)/i],[f,[m,V],[g,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,re],[g,x]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,le],[g,x]],[/(mi(tv|box)-?\w+) bui/i],[f,[m,ne],[g,x]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,vt],[f,vt],[g,x]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[g,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,b]],[/droid.+; (shield)( bui|\))/i],[f,[m,V],[g,b]],[/(playstation \w+)/i],[f,[m,le],[g,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,k],[g,b]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[m,K],[g,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,f,[g,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[m,Q],[g,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,L],[g,I]],[/(opwwe\d{3})/i],[f,[m,j],[g,I]],[/(moto 360)/i],[f,[m,z],[g,I]],[/(smartwatch 3)/i],[f,[m,le],[g,I]],[/(g watch r)/i],[f,[m,F],[g,I]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,ae],[g,I]],[/droid.+; (glass) \d/i],[f,[m,O],[g,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[g,I]],[/; (quest( \d| pro)?)/i],[f,[m,ye],[g,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,$]],[/(aeobc)\b/i],[f,[m,T],[g,$]],[/(homepod).+mac os/i],[f,[m,L],[g,$]],[/windows iot/i],[[g,$]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[p,_+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,w],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[w,Ie,tt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,Ie,tt],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,he],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,w],[/\(bb(10);/i],[w,[p,W]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[p,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,de],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,w],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,w]]},$t=function(ke,Te){if(typeof ke===c&&(Te=ke,ke=n),!(this instanceof $t))return new $t(ke,Te).getResult();var fe=typeof r!==l&&r.navigator?r.navigator:n,Ve=ke||(fe&&fe.userAgent?fe.userAgent:s),st=fe&&fe.userAgentData?fe.userAgentData:n,Ke=Te?ie(Qe,Te):Qe,at=fe&&fe.userAgent==Ve;return this.getBrowser=function(){var Pe={};return Pe[p]=n,Pe[w]=n,ce.call(Pe,Ve,Ke.browser),Pe[h]=we(Pe[w]),at&&fe&&fe.brave&&typeof fe.brave.isBrave==a&&(Pe[p]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[y]=n,ce.call(Pe,Ve,Ke.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[m]=n,Pe[f]=n,Pe[g]=n,ce.call(Pe,Ve,Ke.device),at&&!Pe[g]&&st&&st.mobile&&(Pe[g]=v),at&&Pe[f]=="Macintosh"&&fe&&typeof fe.standalone!==l&&fe.maxTouchPoints&&fe.maxTouchPoints>2&&(Pe[f]="iPad",Pe[g]=C),Pe},this.getEngine=function(){var Pe={};return Pe[p]=n,Pe[w]=n,ce.call(Pe,Ve,Ke.engine),Pe},this.getOS=function(){var Pe={};return Pe[p]=n,Pe[w]=n,ce.call(Pe,Ve,Ke.os),at&&!Pe[p]&&st&&st.platform&&st.platform!="Unknown"&&(Pe[p]=st.platform.replace(/chrome os/i,de).replace(/macos/i,he)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ve},this.setUA=function(Pe){return Ve=typeof Pe===u&&Pe.length>R?vt(Pe,R):Pe,this},this.setUA(Ve),this};$t.VERSION=i,$t.BROWSER=xe([p,w,h]),$t.CPU=xe([y]),$t.DEVICE=xe([f,m,g,b,v,x,C,I,$]),$t.ENGINE=$t.OS=xe([p,w]),t.exports&&(e=t.exports=$t),e.UAParser=$t;var ht=typeof r!==l&&(r.jQuery||r.Zepto);if(ht&&!ht.ua){var it=new $t;ht.ua=it.getResult(),ht.ua.get=function(){return it.getUA()},ht.ua.set=function(ke){it.setUA(ke);var Te=it.getResult();for(var fe in Te)ht.ua[fe]=Te[fe]}}})(typeof window=="object"?window:CS)})(RC,RC.exports);var $ce=RC.exports;Object.defineProperty(Je,"__esModule",{value:!0});function Ice(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Hi=E,Or=Ice(Hi),VH=$ce,yh=new VH,Yi=yh.getBrowser(),Tce=yh.getCPU(),Io=yh.getDevice(),v$=yh.getEngine(),wh=yh.getOS(),Av=yh.getUA(),GH=function(e){return yh.setUA(e)},kv=function(e){if(!e){console.error("No userAgent string was provided");return}var r=new VH(e);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(i){return r.setUA(i)}}},KH=Object.freeze({ClientUAInstance:yh,browser:Yi,cpu:Tce,device:Io,engine:v$,os:wh,ua:Av,setUa:GH,parseUserAgent:kv});function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dy(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dy=function(e){return typeof e}:dy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mce(t,e,r){return e&&Oce(t.prototype,e),t}function Rce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jC(){return jC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jC.apply(this,arguments)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LC(t,e)}function DC(t){return DC=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},DC(t)}function LC(t,e){return LC=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},LC(t,e)}function Dce(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function wa(t,e){if(t==null)return{};var r=Dce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lce(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3(t)}function Fce(t,e){return Uce(t)||Bce(t,e)||zce(t,e)||Wce()}function Uce(t){if(Array.isArray(t))return t}function Bce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function zce(t,e){if(t){if(typeof t=="string")return dO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Di={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},qs={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},lm={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Hce={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},qce=function(e){switch(e){case Di.Mobile:return{isMobile:!0};case Di.Tablet:return{isTablet:!0};case Di.SmartTv:return{isSmartTV:!0};case Di.Console:return{isConsole:!0};case Di.Wearable:return{isWearable:!0};case Di.Browser:return{isBrowser:!0};case Di.Embedded:return{isEmbedded:!0};default:return Hce}},Vce=function(e){return GH(e)},Ct=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||r},b$=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},x$=function(e){var r=b$();return r&&r.platform&&(r.platform.indexOf(e)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},Gce=function(e,r,n,i,s){return{isBrowser:e,browserMajorVersion:Ct(r.major),browserFullVersion:Ct(r.version),browserName:Ct(r.name),engineName:Ct(n.name),engineVersion:Ct(n.version),osName:Ct(i.name),osVersion:Ct(i.version),userAgent:Ct(s)}},hO=function(e,r,n,i){return Pce({},e,{vendor:Ct(r.vendor),model:Ct(r.model),os:Ct(n.name),osVersion:Ct(n.version),ua:Ct(i)})},Kce=function(e,r,n,i){return{isSmartTV:e,engineName:Ct(r.name),engineVersion:Ct(r.version),osName:Ct(n.name),osVersion:Ct(n.version),userAgent:Ct(i)}},Yce=function(e,r,n,i){return{isConsole:e,engineName:Ct(r.name),engineVersion:Ct(r.version),osName:Ct(n.name),osVersion:Ct(n.version),userAgent:Ct(i)}},Qce=function(e,r,n,i){return{isWearable:e,engineName:Ct(r.name),engineVersion:Ct(r.version),osName:Ct(n.name),osVersion:Ct(n.version),userAgent:Ct(i)}},Zce=function(e,r,n,i,s){return{isEmbedded:e,vendor:Ct(r.vendor),model:Ct(r.model),engineName:Ct(n.name),engineVersion:Ct(n.version),osName:Ct(i.name),osVersion:Ct(i.version),userAgent:Ct(s)}};function Jce(t){var e=t?kv(t):KH,r=e.device,n=e.browser,i=e.engine,s=e.os,o=e.ua,a=qce(r.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,h=a.isSmartTV,f=a.isConsole,p=a.isWearable,g=a.isEmbedded;if(l)return Gce(l,n,i,s,o);if(h)return Kce(h,i,s,o);if(f)return Yce(f,i,s,o);if(c||u)return hO(a,r,s,o);if(p)return Qce(p,i,s,o);if(g)return Zce(g,r,i,s,o)}var YH=function(e){var r=e.type;return r===Di.Mobile},QH=function(e){var r=e.type;return r===Di.Tablet},ZH=function(e){var r=e.type;return r===Di.Mobile||r===Di.Tablet},JH=function(e){var r=e.type;return r===Di.SmartTv},p5=function(e){var r=e.type;return r===Di.Browser},XH=function(e){var r=e.type;return r===Di.Wearable},eq=function(e){var r=e.type;return r===Di.Console},tq=function(e){var r=e.type;return r===Di.Embedded},rq=function(e){var r=e.vendor;return Ct(r)},nq=function(e){var r=e.model;return Ct(r)},iq=function(e){var r=e.type;return Ct(r,"browser")},sq=function(e){var r=e.name;return r===lm.Android},oq=function(e){var r=e.name;return r===lm.Windows},aq=function(e){var r=e.name;return r===lm.MAC_OS},lq=function(e){var r=e.name;return r===lm.WindowsPhone},cq=function(e){var r=e.name;return r===lm.IOS},uq=function(e){var r=e.version;return Ct(r)},dq=function(e){var r=e.name;return Ct(r)},hq=function(e){var r=e.name;return r===qs.Chrome},fq=function(e){var r=e.name;return r===qs.Firefox},pq=function(e){var r=e.name;return r===qs.Chromium},g5=function(e){var r=e.name;return r===qs.Edge},gq=function(e){var r=e.name;return r===qs.Yandex},mq=function(e){var r=e.name;return r===qs.Safari||r===qs.MobileSafari},yq=function(e){var r=e.name;return r===qs.MobileSafari},wq=function(e){var r=e.name;return r===qs.Opera},vq=function(e){var r=e.name;return r===qs.InternetExplorer||r===qs.Ie},bq=function(e){var r=e.name;return r===qs.MIUI},xq=function(e){var r=e.name;return r===qs.SamsungBrowser},Eq=function(e){var r=e.version;return Ct(r)},_q=function(e){var r=e.major;return Ct(r)},Cq=function(e){var r=e.name;return Ct(r)},Aq=function(e){var r=e.name;return Ct(r)},kq=function(e){var r=e.version;return Ct(r)},Sq=function(){var e=b$(),r=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},G0=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},$q=function(){var e=b$();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Yl=function(){return x$("iPad")},Iq=function(){return x$("iPhone")},Tq=function(){return x$("iPod")},Pq=function(e){return Ct(e)};function Nq(t){var e=t||KH,r=e.device,n=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:JH(r),isConsole:eq(r),isWearable:XH(r),isEmbedded:tq(r),isMobileSafari:yq(n)||Yl(),isChromium:pq(n),isMobile:ZH(r)||Yl(),isMobileOnly:YH(r),isTablet:QH(r)||Yl(),isBrowser:p5(r),isDesktop:p5(r),isAndroid:sq(i),isWinPhone:lq(i),isIOS:cq(i)||Yl(),isChrome:hq(n),isFirefox:fq(n),isSafari:mq(n),isOpera:wq(n),isIE:vq(n),osVersion:uq(i),osName:dq(i),fullBrowserVersion:Eq(n),browserVersion:_q(n),browserName:Cq(n),mobileVendor:rq(r),mobileModel:nq(r),engineName:Aq(s),engineVersion:kq(s),getUA:Pq(o),isEdge:g5(n)||G0(o),isYandex:gq(n),deviceType:iq(r),isIOS13:$q(),isIPad13:Yl(),isIPhone13:Iq(),isIPod13:Tq(),isElectron:Sq(),isEdgeChromium:G0(o),isLegacyEdge:g5(n)&&!G0(o),isWindows:oq(i),isMacOs:aq(i),isMIUI:bq(n),isSamsungBrowser:xq(n)}}var Oq=JH(Io),Mq=eq(Io),Rq=XH(Io),Xce=tq(Io),eue=yq(Yi)||Yl(),tue=pq(Yi),Z6=ZH(Io)||Yl(),jq=YH(Io),Dq=QH(Io)||Yl(),Lq=p5(Io),rue=p5(Io),Fq=sq(wh),Uq=lq(wh),Bq=cq(wh)||Yl(),nue=hq(Yi),iue=fq(Yi),sue=mq(Yi),oue=wq(Yi),zq=vq(Yi),aue=uq(wh),lue=dq(wh),cue=Eq(Yi),uue=_q(Yi),due=Cq(Yi),hue=rq(Io),fue=nq(Io),pue=Aq(v$),gue=kq(v$),mue=Pq(Av),yue=g5(Yi)||G0(Av),wue=gq(Yi),vue=iq(Io),bue=$q(),xue=Yl(),Eue=Iq(),_ue=Tq(),Cue=Sq(),Aue=G0(Av),kue=g5(Yi)&&!G0(Av),Sue=oq(wh),$ue=aq(wh),Iue=bq(Yi),Tue=xq(Yi),Pue=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var r=kv(e),n=r.device,i=r.browser,s=r.os,o=r.engine,a=r.ua;return Nq({device:n,browser:i,os:s,engine:o,ua:a})},Nue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Fq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Oue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Lq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Mue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return zq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Rue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Bq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},jue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Z6?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Due=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Dq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Lue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Uq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Fue=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=wa(e,["renderWithFragment","children","viewClassName","style"]);return jq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Uue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Oq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Bue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Mq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},zue=function(e){var r=e.renderWithFragment,n=e.children,i=wa(e,["renderWithFragment","children"]);return Rq?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",i,n):null},Wue=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=e.condition,s=wa(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?r?Or.createElement(Hi.Fragment,null,n):Or.createElement("div",s,n):null};function Hue(t){return function(e){jce(r,e);function r(n){var i;return Nce(this,r),i=Lce(this,DC(r).call(this,n)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(n3(i)),i.onOrientationChange=i.onOrientationChange.bind(n3(i)),i.onPageLoad=i.onPageLoad.bind(n3(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Mce(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":dy(window))!==void 0&&Z6&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Or.createElement(t,jC({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(Or.Component)}function que(){var t=Hi.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=Fce(t,2),r=e[0],n=e[1],i=Hi.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};r.orientation!==o.orientation&&n(o)},[r.orientation]);return Hi.useEffect(function(){return(typeof window>"u"?"undefined":dy(window))!==void 0&&Z6&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),r}function Wq(t){var e=t||window.navigator.userAgent;return kv(e)}function Vue(t){var e=t||window.navigator.userAgent,r=Wq(e),n=Nq(r);return[n,r]}Je.AndroidView=Nue;Je.BrowserTypes=qs;Je.BrowserView=Oue;Je.ConsoleView=Bue;Je.CustomView=Wue;Je.IEView=Mue;Je.IOSView=Rue;Je.MobileOnlyView=Fue;Je.MobileView=jue;Je.OsTypes=lm;Je.SmartTVView=Uue;Je.TabletView=Due;Je.WearableView=zue;Je.WinPhoneView=Lue;Je.browserName=due;Je.browserVersion=uue;Je.deviceDetect=Jce;Je.deviceType=vue;Je.engineName=pue;Je.engineVersion=gue;Je.fullBrowserVersion=cue;Je.getSelectorsByUserAgent=Pue;Je.getUA=mue;var Gue=Je.isAndroid=Fq;Je.isBrowser=Lq;Je.isChrome=nue;Je.isChromium=tue;Je.isConsole=Mq;Je.isDesktop=rue;Je.isEdge=yue;Je.isEdgeChromium=Aue;Je.isElectron=Cue;Je.isEmbedded=Xce;var fO=Je.isFirefox=iue;Je.isIE=zq;var E$=Je.isIOS=Bq;Je.isIOS13=bue;Je.isIPad13=xue;Je.isIPhone13=Eue;Je.isIPod13=_ue;Je.isLegacyEdge=kue;Je.isMIUI=Iue;Je.isMacOs=$ue;var Tr=Je.isMobile=Z6;Je.isMobileOnly=jq;Je.isMobileSafari=eue;Je.isOpera=oue;var Kue=Je.isSafari=sue;Je.isSamsungBrowser=Tue;Je.isSmartTV=Oq;Je.isTablet=Dq;Je.isWearable=Rq;Je.isWinPhone=Uq;Je.isWindows=Sue;Je.isYandex=wue;Je.mobileModel=fue;Je.mobileVendor=hue;Je.osName=lue;Je.osVersion=aue;Je.parseUserAgent=kv;Je.setUserAgent=Vce;Je.useDeviceData=Wq;Je.useDeviceSelectors=Vue;Je.useMobileOrientation=que;Je.withOrientationChange=Hue;const Yue="1.1.0";let Ks=class FC extends Error{constructor(e,r={}){var o;const n=r.cause instanceof FC?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof FC&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${Yue}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Ru(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const Hq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qq=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Vq=/^\(.+?\).*?$/,pO=/^tuple(?<array>(\[(\d*)\])*)$/;function UC(t){let e=t.type;if(pO.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=UC(s),i<r-1&&(e+=", ")}const n=Ru(pO,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,UC({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function d0(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=UC(i),n!==r-1&&(e+=", ")}return e}function m5(t){var e;return t.type==="function"?`function ${t.name}(${d0(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${d0(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${d0(t.inputs)})`:t.type==="error"?`error ${t.name}(${d0(t.inputs)})`:t.type==="constructor"?`constructor(${d0(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Gq=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Que(t){return Gq.test(t)}function Zue(t){return Ru(Gq,t)}const Kq=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Jue(t){return Kq.test(t)}function Xue(t){return Ru(Kq,t)}const Yq=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ede(t){return Yq.test(t)}function tde(t){return Ru(Yq,t)}const Qq=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function J6(t){return Qq.test(t)}function rde(t){return Ru(Qq,t)}const Zq=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function nde(t){return Zq.test(t)}function ide(t){return Ru(Zq,t)}const Jq=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function sde(t){return Jq.test(t)}function ode(t){return Ru(Jq,t)}const ade=/^receive\(\) external payable$/;function lde(t){return ade.test(t)}const gO=new Set(["memory","indexed","storage","calldata"]),cde=new Set(["indexed"]),BC=new Set(["calldata","memory","storage"]);class ude extends Ks{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class dde extends Ks{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class hde extends Ks{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class fde extends Ks{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class pde extends Ks{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class gde extends Ks{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class mde extends Ks{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class yde extends Ks{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class wde extends Ks{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class cm extends Ks{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class vde extends Ks{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class bde extends Ks{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class xde extends Ks{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ede extends Ks{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function _de(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const Q8=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zC(t,e={}){if(ede(t))return Cde(t,e);if(Jue(t))return Ade(t,e);if(Que(t))return kde(t,e);if(nde(t))return Sde(t,e);if(sde(t))return $de(t);if(lde(t))return{type:"receive",stateMutability:"payable"};throw new vde({signature:t})}function Cde(t,e={}){const r=tde(t);if(!r)throw new cm({signature:t,type:"function"});const n=po(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(bu(n[a],{modifiers:BC,structs:e,type:"function"}));const o=[];if(r.returns){const a=po(r.returns),l=a.length;for(let c=0;c<l;c++)o.push(bu(a[c],{modifiers:BC,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function Ade(t,e={}){const r=Xue(t);if(!r)throw new cm({signature:t,type:"event"});const n=po(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(bu(n[o],{modifiers:cde,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function kde(t,e={}){const r=Zue(t);if(!r)throw new cm({signature:t,type:"error"});const n=po(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(bu(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function Sde(t,e={}){const r=ide(t);if(!r)throw new cm({signature:t,type:"constructor"});const n=po(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(bu(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function $de(t){const e=ode(t);if(!e)throw new cm({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Ide=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Tde=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Pde=/^u?int$/;function bu(t,e){var h,f;const r=_de(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Q8.has(r))return Q8.get(r);const n=Vq.test(t),i=Ru(n?Tde:Ide,t);if(!i)throw new pde({param:t});if(i.name&&Ode(i.name))throw new gde({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(n){l="tuple";const p=po(i.type),g=[],m=p.length;for(let w=0;w<m;w++)g.push(bu(p[w],{structs:a}));c={components:g}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(Pde.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!Xq(l))throw new hde({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new mde({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(BC.has(i.modifier)&&!Mde(l,!!i.array))throw new yde({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return Q8.set(r,u),u}function po(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?po(a,[...e,r.trim()]):po(a,e,`${r}${o}`,n);case"(":return po(a,e,`${r}${o}`,n+1);case")":return po(a,e,`${r}${o}`,n-1);default:return po(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new Ede({current:r,depth:n});return e.push(r.trim()),e}function Xq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Hq.test(t)||qq.test(t)}const Nde=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ode(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Hq.test(t)||qq.test(t)||Nde.test(t)}function Mde(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function _$(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!J6(a))continue;const l=rde(a);if(!l)throw new cm({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const g=c[f].trim();if(!g)continue;const m=bu(g,{type:"struct"});u.push(m)}if(!u.length)throw new bde({signature:a});e[l.name]=u}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=eV(l,e)}return n}const Rde=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function eV(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Vq.test(o.type))n.push(o);else{const l=Ru(Rde,o.type);if(!(l!=null&&l.type))throw new wde({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(r.has(u))throw new xde({type:u});n.push({...o,type:`tuple${c??""}`,components:eV(e[u]??[],e,new Set([...r,u]))})}else if(Xq(u))n.push(o);else throw new dde({type:u})}}return n}function tV(t){const e=_$(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];J6(s)||r.push(zC(s,e))}return r}function mO(t){let e;if(typeof t=="string")e=zC(t);else{const r=_$(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!J6(s)){e=zC(s,r);break}}}if(!e)throw new ude({signature:t});return e}function yO(t){const e=[];if(typeof t=="string"){const r=po(t),n=r.length;for(let i=0;i<n;i++)e.push(bu(r[i],{modifiers:gO}))}else{const r=_$(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(J6(s))continue;const o=po(s),a=o.length;for(let l=0;l<a;l++)e.push(bu(o[l],{modifiers:gO,structs:r}))}}if(e.length===0)throw new fde({params:t});return e}function yn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const rV="2.37.6";let e1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${rV}`},ve=class WC extends Error{constructor(e,r={}){var a;const n=(()=>{var l;return r.cause instanceof WC?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof WC&&r.cause.docsPath||r.docsPath,s=(a=e1.getDocsUrl)==null?void 0:a.call(e1,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...e1.version?[`Version: ${e1.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=rV}walk(e){return nV(this,e)}};function nV(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?nV(t.cause,e):e?null:t}let gs=class extends ve{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function qi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let iV=class extends ve{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},sV=class extends ve{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class wO extends ve{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function um(t,{dir:e,size:r=32}={}){return typeof t=="string"?Yd(t,{dir:e,size:r}):jde(t,{dir:e,size:r})}function Yd(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new sV({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function jde(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new sV({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let oV=class extends ve{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Dde=class extends ve{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Lde extends ve{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Fde=class extends ve{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Jr(t){return qi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function vo(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function va(t,{size:e}){if(Jr(t)>e)throw new Fde({givenSize:Jr(t),maxSize:e})}function Yn(t,e={}){const{signed:r}=e;e.size&&va(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ude(t,e={}){let r=t;if(e.size&&(va(r,{size:e.size}),r=vo(r)),vo(r)==="0x00")return!1;if(vo(r)==="0x01")return!0;throw new Lde(r)}function ua(t,e={}){return Number(Yn(t,e))}function Bde(t,e={}){let r=sl(t);return e.size&&(va(r,{size:e.size}),r=vo(r,{dir:"right"})),new TextDecoder().decode(r)}const zde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pr(t,e={}){return typeof t=="number"||typeof t=="bigint"?Se(t,e):typeof t=="string"?Sg(t,e):typeof t=="boolean"?aV(t,e):$n(t,e)}function aV(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(va(r,{size:e.size}),um(r,{size:e.size})):r}function $n(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=zde[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(va(n,{size:e.size}),um(n,{dir:"right",size:e.size})):n}function Se(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new oV({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?um(a,{size:n}):a}const Wde=new TextEncoder;function Sg(t,e={}){const r=Wde.encode(t);return $n(r,e)}const Hde=new TextEncoder;function dm(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vde(t,e):typeof t=="boolean"?qde(t,e):qi(t)?sl(t,e):vf(t,e)}function qde(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(va(r,{size:e.size}),um(r,{size:e.size})):r}const kc={zero:48,nine:57,A:65,F:70,a:97,f:102};function vO(t){if(t>=kc.zero&&t<=kc.nine)return t-kc.zero;if(t>=kc.A&&t<=kc.F)return t-(kc.A-10);if(t>=kc.a&&t<=kc.f)return t-(kc.a-10)}function sl(t,e={}){let r=t;e.size&&(va(r,{size:e.size}),r=um(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=vO(n.charCodeAt(a++)),c=vO(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new ve(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function Vde(t,e){const r=Se(t,e);return sl(r)}function vf(t,e={}){const r=Hde.encode(t);return typeof e.size=="number"?(va(r,{size:e.size}),um(r,{dir:"right",size:e.size})):r}const z2=BigInt(2**32-1),bO=BigInt(32);function Gde(t,e=!1){return e?{h:Number(t&z2),l:Number(t>>bO&z2)}:{h:Number(t>>bO&z2)|0,l:Number(t&z2)|0}}function lV(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Gde(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const xO=(t,e,r)=>t>>>r,EO=(t,e,r)=>t<<32-r|e>>>r,Ip=(t,e,r)=>t>>>r|e<<32-r,Tp=(t,e,r)=>t<<32-r|e>>>r,W2=(t,e,r)=>t<<64-r|e>>>r-32,H2=(t,e,r)=>t>>>r-32|e<<64-r,Kde=(t,e,r)=>t<<r|e>>>32-r,Yde=(t,e,r)=>e<<r|t>>>32-r,Qde=(t,e,r)=>e<<r-32|t>>>64-r,Zde=(t,e,r)=>t<<r-32|e>>>64-r;function Sc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const Jde=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Xde=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,ehe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),the=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,rhe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),nhe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Pp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ihe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nh(t,...e){if(!ihe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function she(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");rw(t.outputLen),rw(t.blockLen)}function $g(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cV(t,e){nh(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ohe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ih(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Z8(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _l(t,e){return t<<32-e|t>>>e}const ahe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lhe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function che(t){for(let e=0;e<t.length;e++)t[e]=lhe(t[e]);return t}const _O=ahe?t=>t:che,uV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",uhe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dhe(t){if(nh(t),uV)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=uhe[t[r]];return e}const $c={_0:48,_9:57,A:65,F:70,a:97,f:102};function CO(t){if(t>=$c._0&&t<=$c._9)return t-$c._0;if(t>=$c.A&&t<=$c.F)return t-($c.A-10);if(t>=$c.a&&t<=$c.f)return t-($c.a-10)}function bct(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(uV)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=CO(t.charCodeAt(s)),a=CO(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function hhe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Sv(t){return typeof t=="string"&&(t=hhe(t)),nh(t),t}function fhe(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];nh(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class C${}function X6(t){const e=n=>t().update(Sv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function phe(t){const e=(n,i)=>t(i).update(Sv(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function ghe(t=32){if(Pp&&typeof Pp.getRandomValues=="function")return Pp.getRandomValues(new Uint8Array(t));if(Pp&&typeof Pp.randomBytes=="function")return Uint8Array.from(Pp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const mhe=BigInt(0),t1=BigInt(1),yhe=BigInt(2),whe=BigInt(7),vhe=BigInt(256),bhe=BigInt(113),dV=[],hV=[],fV=[];for(let t=0,e=t1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],dV.push(2*(5*n+r)),hV.push((t+1)*(t+2)/2%64);let i=mhe;for(let s=0;s<7;s++)e=(e<<t1^(e>>whe)*bhe)%vhe,e&yhe&&(i^=t1<<(t1<<BigInt(s))-t1);fV.push(i)}const pV=lV(fV,!0),xhe=pV[0],Ehe=pV[1],AO=(t,e,r)=>r>32?Qde(t,e,r):Kde(t,e,r),kO=(t,e,r)=>r>32?Zde(t,e,r):Yde(t,e,r);function gV(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=AO(c,u,1)^r[a],f=kO(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=hV[o],l=AO(i,s,a),c=kO(i,s,a),u=dV[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=xhe[n],t[1]^=Ehe[n]}ih(r)}class $v extends C${constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,rw(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ohe(this.state)}clone(){return this._cloneInto()}keccak(){_O(this.state32),gV(this.state32,this.rounds),_O(this.state32),this.posOut=0,this.pos=0}update(e){$g(this),e=Sv(e),nh(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$g(this,!1),nh(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return rw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ih(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $v(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const vh=(t,e,r)=>X6(()=>new $v(e,t,r)),_he=vh(6,144,224/8),Che=vh(6,136,256/8),Ahe=vh(6,104,384/8),khe=vh(6,72,512/8),She=vh(1,144,224/8),e4=vh(1,136,256/8),$he=vh(1,104,384/8),Ihe=vh(1,72,512/8),mV=(t,e,r)=>phe((n={})=>new $v(e,t,n.dkLen===void 0?r:n.dkLen,!0)),The=mV(31,168,128/8),Phe=mV(31,136,256/8),Nhe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:$v,keccakP:gV,keccak_224:She,keccak_256:e4,keccak_384:$he,keccak_512:Ihe,sha3_224:_he,sha3_256:Che,sha3_384:Ahe,sha3_512:khe,shake128:The,shake256:Phe},Symbol.toStringTag,{value:"Module"}));function gi(t,e){const r=e||"hex",n=e4(qi(t,{strict:!1})?dm(t):t);return r==="bytes"?n:Pr(n)}let t4=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Ohe=/^0x[a-fA-F0-9]{40}$/,J8=new t4(8192);function wn(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(J8.has(n))return J8.get(n);const i=Ohe.test(t)?t.toLowerCase()===t?!0:r?Iv(t)===t:!0:!1;return J8.set(n,i),i}const X8=new t4(8192);function Iv(t,e){if(X8.has(`${t}.${e}`))return X8.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=gi(vf(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return X8.set(`${t}.${e}`,s),s}function Ur(t,e){if(!wn(t,{strict:!1}))throw new gs({address:t});return Iv(t,e)}function Mhe(t){const e=gi(`0x${t.substring(4)}`).substring(26);return Iv(`0x${e}`)}function ol(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Ghe(t.type);return`${t.name}(${r4(t.inputs,{includeName:e})})`}function r4(t,{includeName:e=!1}={}){return t?t.map(r=>Rhe(r,{includeName:e})).join(e?", ":","):""}function Rhe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${r4(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class jhe extends ve{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class SO extends ve{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class yV extends ve{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${r4(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class Tv extends ve{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Dhe extends ve{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Lhe extends ve{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Jr(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Fhe extends ve{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Uhe extends ve{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class $O extends ve{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class wV extends ve{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Bhe extends ve{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class vV extends ve{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class IO extends ve{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Ig extends ve{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class bV extends ve{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class zhe extends ve{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class Whe extends ve{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ol(e.abiItem)}\`, and`,`\`${r.type}\` in \`${ol(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Hhe=class extends ve{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class nw extends ve{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${r4(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class n4 extends ve{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${ol(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class qhe extends ve{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Vhe extends ve{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let xV=class extends ve{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ghe extends ve{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Cct extends ve{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let TO=class extends ve{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},EV=class extends ve{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Khe=class extends ve{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Yhe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Khe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new EV({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new TO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new TO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function A$(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Yhe);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function Of(t,e,r,{strict:n}={}){return qi(t,{strict:!1})?HC(t,e,r,{strict:n}):AV(t,e,r,{strict:n})}function _V(t,e){if(typeof e=="number"&&e>0&&e>Jr(t)-1)throw new iV({offset:e,position:"start",size:Jr(t)})}function CV(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Jr(t)!==r-e)throw new iV({offset:r,position:"end",size:Jr(t)})}function AV(t,e,r,{strict:n}={}){_V(t,e);const i=t.slice(e,r);return n&&CV(i,e,r),i}function HC(t,e,r,{strict:n}={}){_V(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&CV(i,e,r),i}function Qhe(t,e={}){typeof e.size<"u"&&va(t,{size:e.size});const r=$n(t,e);return Yn(r,e)}function Zhe(t,e={}){let r=t;if(typeof e.size<"u"&&(va(r,{size:e.size}),r=vo(r)),r.length>1||r[0]>1)throw new Dde(r);return!!r[0]}function cu(t,e={}){typeof e.size<"u"&&va(t,{size:e.size});const r=$n(t,e);return ua(r,e)}function Jhe(t,e={}){let r=t;return typeof e.size<"u"&&(va(r,{size:e.size}),r=vo(r,{dir:"right"})),new TextDecoder().decode(r)}function da(t){return typeof t[0]=="string"?wl(t):Xhe(t)}function Xhe(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function wl(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}const $ct=/^(.*)\[([0-9]*)\]$/,efe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kV=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ip(t,e){if(t.length!==e.length)throw new Fhe({expectedLength:t.length,givenLength:e.length});const r=tfe({params:t,values:e}),n=S$(r);return n.length===0?"0x":n}function tfe({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(k$({param:t[n],value:e[n]}));return r}function k$({param:t,value:e}){const r=$$(t.type);if(r){const[n,i]=r;return nfe(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return lfe(e,{param:t});if(t.type==="address")return rfe(e);if(t.type==="bool")return sfe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=kV.exec(t.type)??[];return ofe(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return ife(e,{param:t});if(t.type==="string")return afe(e);throw new qhe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function S$(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Jr(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(Se(e+i,{size:32})),n.push(a),i+=Jr(a)):r.push(a)}return da([...r,...n])}function rfe(t){if(!wn(t))throw new gs({address:t});return{dynamic:!1,encoded:Yd(t.toLowerCase())}}function nfe(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new xV(t);if(!n&&t.length!==e)throw new Dhe({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=k$({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=S$(s);if(n){const a=Se(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?da([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:da(s.map(({encoded:o})=>o))}}function ife(t,{param:e}){const[,r]=e.type.split("bytes"),n=Jr(t);if(!r){let i=t;return n%32!==0&&(i=Yd(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:da([Yd(Se(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new Lhe({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:Yd(t,{dir:"right"})}}function sfe(t){if(typeof t!="boolean")throw new ve(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Yd(aV(t))}}function ofe(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new oV({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Se(t,{size:32,signed:e})}}function afe(t){const e=Sg(t),r=Math.ceil(Jr(e)/32),n=[];for(let i=0;i<r;i++)n.push(Yd(Of(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:da([Yd(Se(Jr(e),{size:32})),...n])}}function lfe(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=k$({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?S$(n):da(n.map(({encoded:i})=>i))}}function $$(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function hm(t,e){const r=typeof e=="string"?sl(e):e,n=A$(r);if(Jr(r)===0&&t.length>0)throw new Tv;if(Jr(e)&&Jr(e)<32)throw new yV({data:typeof e=="string"?e:$n(e),params:t,size:Jr(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[l,c]=K0(n,a,{staticPosition:0});i+=c,s.push(l)}return s}function K0(t,e,{staticPosition:r}){const n=$$(e.type);if(n){const[i,s]=n;return ufe(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return pfe(t,e,{staticPosition:r});if(e.type==="address")return cfe(t);if(e.type==="bool")return dfe(t);if(e.type.startsWith("bytes"))return hfe(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ffe(t,e);if(e.type==="string")return gfe(t,{staticPosition:r});throw new Vhe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const PO=32,qC=32;function cfe(t){const e=t.readBytes(32);return[Iv($n(AV(e,-20))),32]}function ufe(t,e,{length:r,staticPosition:n}){if(!r){const o=cu(t.readBytes(qC)),a=n+o,l=a+PO;t.setPosition(a);const c=cu(t.readBytes(PO)),u=iw(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[g,m]=K0(t,e,{staticPosition:l});h+=m,f.push(g)}return t.setPosition(n+32),[f,32]}if(iw(e)){const o=cu(t.readBytes(qC)),a=n+o,l=[];for(let c=0;c<r;++c){t.setPosition(a+c*32);const[u]=K0(t,e,{staticPosition:a});l.push(u)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,l]=K0(t,e,{staticPosition:n+i});i+=l,s.push(a)}return[s,i]}function dfe(t){return[Zhe(t.readBytes(32),{size:32}),32]}function hfe(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=cu(t.readBytes(32));t.setPosition(r+o);const a=cu(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[$n(l),32]}return[$n(t.readBytes(Number.parseInt(i,10),32)),32]}function ffe(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?Qhe(i,{signed:r}):cu(i,{signed:r}),32]}function pfe(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(iw(e)){const o=cu(t.readBytes(qC)),a=r+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=K0(t,c,{staticPosition:a});s+=h,i[n?l:c==null?void 0:c.name]=u}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=K0(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function gfe(t,{staticPosition:e}){const r=cu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=cu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=Jhe(vo(s));return t.setPosition(e+32),[o,32]}function iw(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(iw);const r=$$(t.type);return!!(r&&iw({...t,type:r[1]}))}const mfe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},SV={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},yfe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},wfe=t=>gi(dm(t));function vfe(t){return wfe(t)}function bfe(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new ve("Unable to normalize signature.");return i}const xfe=t=>{const e=typeof t=="string"?t:m5(t);return bfe(e)};function $V(t){return vfe(xfe(t))}const Pv=t=>Of($V(t),0,4);function Efe(t){const{abi:e,data:r}=t,n=Of(r,0,4);if(n==="0x")throw new Tv;const s=[...e||[],SV,yfe].find(o=>o.type==="error"&&n===Pv(ol(o)));if(!s)throw new wV(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?hm(s.inputs,Of(r,4)):void 0,errorName:s.name}}const i4=$V,NO="/docs/contract/decodeEventLog";function I$(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new Bhe({docsPath:NO});const l=e.find(m=>m.type==="event"&&o===i4(ol(m)));if(!(l&&"name"in l)||l.type!=="event")throw new vV(o,{docsPath:NO});const{name:c,inputs:u}=l,h=u==null?void 0:u.some(m=>!("name"in m&&m.name)),f=h?[]:{},p=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const[w,y]=p[m],b=a[m];if(!b)throw new n4({abiItem:l,param:w});f[h?y:w.name||y]=_fe({param:w,value:b})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(r&&r!=="0x")try{const m=hm(g,r);if(m)if(h)for(let w=0;w<u.length;w++)f[w]=f[w]??m.shift();else for(let w=0;w<g.length;w++)f[g[w].name]=m[w]}catch(m){if(s)throw m instanceof yV||m instanceof EV?new nw({abiItem:l,data:r,params:g,size:Jr(r)}):m}else if(s)throw new nw({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function _fe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(hm([t],e)||[])[0]}function IV(t){const{abi:e,data:r}=t,n=Of(r,0,4),i=e.find(s=>s.type==="function"&&n===Pv(ol(s)));if(!i)throw new zhe(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?hm(i.inputs,Of(r,4)):void 0}}function sp(t){const{abi:e,args:r=[],name:n}=t,i=qi(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?Pv(a)===n:a.type==="event"?i4(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?VC(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=TV(a.inputs,o.inputs,r);if(c)throw new Whe({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function VC(t,e){const r=typeof t,n=e.type;switch(n){case"address":return wn(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>VC(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>VC(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function TV(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return TV(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?wn(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?wn(r[n],{strict:!1}):!1)return o}}const e9="/docs/contract/decodeFunctionResult";function op(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=sp({abi:e,args:r,name:n});if(!a)throw new Ig(n,{docsPath:e9});s=a}if(s.type!=="function")throw new Ig(void 0,{docsPath:e9});if(!s.outputs)throw new bV(s.name,{docsPath:e9});const o=hm(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const t9="/docs/contract/encodeDeployData";function s4(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new jhe({docsPath:t9});if(!("inputs"in i))throw new SO({docsPath:t9});if(!i.inputs||i.inputs.length===0)throw new SO({docsPath:t9});const s=ip(i.inputs,r);return wl([n,s])}const r9="/docs/contract/encodeErrorResult";function OO(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=sp({abi:e,args:n,name:r});if(!l)throw new $O(r,{docsPath:r9});i=l}if(i.type!=="error")throw new $O(void 0,{docsPath:r9});const s=ol(i),o=Pv(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new Uhe(i.name,{docsPath:r9});a=ip(i.inputs,n)}return wl([o,a])}class Cfe extends ve{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const MO="/docs/contract/encodeEventTopics";function Nv(t){var l;const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const c=sp({abi:e,name:r});if(!c)throw new IO(r,{docsPath:MO});i=c}if(i.type!=="event")throw new IO(void 0,{docsPath:MO});const s=ol(i),o=i4(s);let a=[];if(n&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(h=>n[h.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((h,f)=>Array.isArray(u[f])?u[f].map((p,g)=>RO({param:h,value:u[f][g]})):typeof u[f]<"u"&&u[f]!==null?RO({param:h,value:u[f]}):null))??[])}return[o,...a]}function RO({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return gi(dm(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Cfe(t.type);return ip([t],[e])}const jO="/docs/contract/encodeFunctionData";function Afe(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=sp({abi:e,args:r,name:n});if(!s)throw new Ig(n,{docsPath:jO});i=s}if(i.type!=="function")throw new Ig(void 0,{docsPath:jO});return{abi:[i],functionName:Pv(ol(i))}}function yi(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:Afe(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?ip(i.inputs,e??[]):void 0;return wl([s,o??"0x"])}const n9="/docs/contract/encodeFunctionResult";function kfe(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=sp({abi:e,name:r});if(!o)throw new Ig(r,{docsPath:n9});i=o}if(i.type!=="function")throw new Ig(void 0,{docsPath:n9});if(!i.outputs)throw new bV(i.name,{docsPath:n9});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new xV(n)})();return ip(i.outputs,s)}const Fn=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function PV({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Fn(e[s]):e[s]}`).join(", ")})`}function Ov(t,e){if(!wn(t,{strict:!1}))throw new gs({address:t});if(!wn(e,{strict:!1}))throw new gs({address:e});return t.toLowerCase()===e.toLowerCase()}function T$(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var a;try{const l=e.find(u=>u.type==="event"&&o.topics[0]===i4(u));if(!l)return null;const c=I$({...o,abi:[l],strict:i});return s&&!s.includes(c.eventName)||!Sfe({args:c.args,inputs:l.inputs,matchArgs:r})?null:{...c,...o}}catch(l){let c,u;if(l instanceof vV)return null;if(l instanceof nw||l instanceof n4){if(i)return null;c=l.abiItem.name,u=(a=l.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Sfe(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?Ov(o,a):s.type==="string"||s.type==="bytes"?gi(dm(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function sh(t,e="hex"){const r=NV(t),n=A$(new Uint8Array(r.length));return r.encode(n),e==="hex"?$n(n.bytes):n.bytes}function NV(t){return Array.isArray(t)?$fe(t.map(e=>NV(e))):Ife(t)}function $fe(t){const e=t.reduce((i,s)=>i+s.length,0),r=OV(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Ife(t){const e=typeof t=="string"?sl(t):t,r=OV(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function OV(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ve("Length is too large.")}function Tfe(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=gi(wl(["0x05",sh([e?Se(e):"0x",i,r?Se(r):"0x"])]));return n==="bytes"?sl(s):s}async function Pfe({hash:t,signature:e}){const r=qi(t)?t:Pr(t),{secp256k1:n}=await tc(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>U2e);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),g=DO(p);return new n.Signature(Yn(c),Yn(u)).addRecoveryBit(g)}const o=qi(e)?e:Pr(e);if(Jr(o)!==65)throw new Error("invalid signature length");const a=ua(`0x${o.slice(130)}`),l=DO(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function DO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function MV({hash:t,signature:e}){return Mhe(await Pfe({hash:t,signature:e}))}async function P$(t){const{authorization:e,signature:r}=t;return MV({hash:Tfe(e),signature:r??e})}const RV={gwei:9,wei:18},Nfe={ether:-9,wei:9};function Ln(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function ap(t,e="wei"){return Ln(t,RV[e])}function zs(t,e="wei"){return Ln(t,Nfe[e])}function Mv(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Ofe extends ve{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Mfe extends ve{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Rfe extends ve{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Mv(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class jfe extends ve{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Dfe extends ve{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var g;const p=Mv({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${ap(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${zs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${zs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jV extends ve{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class DV extends ve{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Lfe extends ve{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function N$(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>sl(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>$n(s))}function O$(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>sl(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>sl(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return r==="bytes"?s:s.map(o=>$n(o))}function Ffe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function Ufe(t,e,r){return t&e^~t&r}function Bfe(t,e,r){return t&e^t&r^e&r}class LV extends C${constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Z8(this.buffer)}update(e){$g(this),e=Sv(e),nh(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Z8(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$g(this),cV(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,ih(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;Ffe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Z8(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Bu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ki=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Si=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zfe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zu=new Uint32Array(64);let Wfe=class extends LV{constructor(e=32){super(64,e,8,!1),this.A=Bu[0]|0,this.B=Bu[1]|0,this.C=Bu[2]|0,this.D=Bu[3]|0,this.E=Bu[4]|0,this.F=Bu[5]|0,this.G=Bu[6]|0,this.H=Bu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)zu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=zu[h-15],p=zu[h-2],g=_l(f,7)^_l(f,18)^f>>>3,m=_l(p,17)^_l(p,19)^p>>>10;zu[h]=m+zu[h-7]+g+zu[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=_l(a,6)^_l(a,11)^_l(a,25),p=u+f+Ufe(a,l,c)+zfe[h]+zu[h]|0,m=(_l(n,2)^_l(n,13)^_l(n,22))+Bfe(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){ih(zu)}destroy(){this.set(0,0,0,0,0,0,0,0),ih(this.buffer)}};const FV=lV(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hfe=FV[0],qfe=FV[1],Wu=new Uint32Array(80),Hu=new Uint32Array(80);let UV=class extends LV{constructor(e=64){super(128,e,16,!1),this.Ah=Si[0]|0,this.Al=Si[1]|0,this.Bh=Si[2]|0,this.Bl=Si[3]|0,this.Ch=Si[4]|0,this.Cl=Si[5]|0,this.Dh=Si[6]|0,this.Dl=Si[7]|0,this.Eh=Si[8]|0,this.El=Si[9]|0,this.Fh=Si[10]|0,this.Fl=Si[11]|0,this.Gh=Si[12]|0,this.Gl=Si[13]|0,this.Hh=Si[14]|0,this.Hl=Si[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Wu[v]=e.getUint32(r),Hu[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const C=Wu[v-15]|0,x=Hu[v-15]|0,I=Ip(C,x,1)^Ip(C,x,8)^xO(C,x,7),$=Tp(C,x,1)^Tp(C,x,8)^EO(C,x,7),R=Wu[v-2]|0,T=Hu[v-2]|0,L=Ip(R,T,19)^W2(R,T,61)^xO(R,T,6),U=Tp(R,T,19)^H2(R,T,61)^EO(R,T,6),W=ehe($,U,Hu[v-7],Hu[v-16]),M=the(W,I,L,Wu[v-7],Wu[v-16]);Wu[v]=M|0,Hu[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const C=Ip(h,f,14)^Ip(h,f,18)^W2(h,f,41),x=Tp(h,f,14)^Tp(h,f,18)^H2(h,f,41),I=h&p^~h&m,$=f&g^~f&w,R=rhe(b,x,$,qfe[v],Hu[v]),T=nhe(R,y,C,I,Hfe[v],Wu[v]),L=R|0,U=Ip(n,i,28)^W2(n,i,34)^W2(n,i,39),W=Tp(n,i,28)^H2(n,i,34)^H2(n,i,39),M=n&s^n&a^s&a,A=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=Sc(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const _=Jde(L,W,A);n=Xde(_,T,U,M),i=_|0}({h:n,l:i}=Sc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Sc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Sc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Sc(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Sc(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=Sc(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=Sc(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=Sc(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){ih(Wu,Hu)}destroy(){ih(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vfe=class extends UV{constructor(){super(48),this.Ah=ki[0]|0,this.Al=ki[1]|0,this.Bh=ki[2]|0,this.Bl=ki[3]|0,this.Ch=ki[4]|0,this.Cl=ki[5]|0,this.Dh=ki[6]|0,this.Dl=ki[7]|0,this.Eh=ki[8]|0,this.El=ki[9]|0,this.Fh=ki[10]|0,this.Fl=ki[11]|0,this.Gh=ki[12]|0,this.Gl=ki[13]|0,this.Hh=ki[14]|0,this.Hl=ki[15]|0}};const BV=X6(()=>new Wfe),Nct=X6(()=>new UV),Oct=X6(()=>new Vfe),zV=BV;function Gfe(t,e){return zV(qi(t,{strict:!1})?dm(t):t)}function Kfe(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=Gfe(e);return i.set([r],0),n==="bytes"?i:$n(i)}function WV(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(Kfe({commitment:s,to:n,version:r}));return i}const LO=6,HV=32,M$=4096,qV=HV*M$,FO=qV*LO-1-1*M$*LO,VV=1;class Yfe extends ve{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class GV extends ve{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Qfe extends ve{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class Zfe extends ve{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${VV}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function Jfe(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?sl(t.data):t.data,n=Jr(r);if(!n)throw new GV;if(n>FO)throw new Yfe({maxSize:FO,size:n});const i=[];let s=!0,o=0;for(;s;){const a=A$(new Uint8Array(qV));let l=0;for(;l<M$;){const c=r.slice(o,o+(HV-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>$n(a.bytes))}function KV(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??Jfe({data:e,to:n}),s=t.commitments??N$({blobs:i,kzg:r,to:n}),o=t.proofs??O$({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const o4=2n**256n-1n;class GC extends ve{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Xfe extends ve{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class epe extends ve{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class YV extends ve{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class a4 extends ve{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class S0 extends ve{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(S0,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(S0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Mf extends ve{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${zs(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Mf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class KC extends ve{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${zs(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(KC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class YC extends ve{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(YC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class QC extends ve{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(QC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ZC extends ve{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(ZC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class JC extends ve{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(JC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class XC extends ve{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(XC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class e7 extends ve{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(e7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class t7 extends ve{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(t7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class sw extends ve{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${zs(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${zs(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(sw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Rv extends ve{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function tpe(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,i=r.address;if(!wn(i))throw new gs({address:i});if(n<0)throw new a4({chainId:n})}R$(t)}function rpe(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new GV;for(const r of e){const n=Jr(r),i=ua(Of(r,0,1));if(n!==32)throw new Qfe({hash:r,size:n});if(i!==VV)throw new Zfe({hash:r,version:i})}}R$(t)}function R$(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=t;if(e<=0)throw new a4({chainId:e});if(i&&!wn(i))throw new gs({address:i});if(n&&n>o4)throw new Mf({maxFeePerGas:n});if(r&&n&&r>n)throw new sw({maxFeePerGas:n,maxPriorityFeePerGas:r})}function npe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(e<=0)throw new a4({chainId:e});if(s&&!wn(s))throw new gs({address:s});if(r||i)throw new ve("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>o4)throw new Mf({maxFeePerGas:n})}function ipe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(s&&!wn(s))throw new gs({address:s});if(typeof e<"u"&&e<=0)throw new a4({chainId:e});if(r||i)throw new ve("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>o4)throw new Mf({maxFeePerGas:n})}function QV(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Rfe({transaction:t})}function l4(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new jfe({storageKey:i[s]});if(!wn(n,{strict:!1}))throw new gs({address:n});e.push([n,i])}return e}function spe(t,e){const r=QV(t);return r==="eip1559"?lpe(t,e):r==="eip2930"?cpe(t,e):r==="eip4844"?ape(t,e):r==="eip7702"?ope(t,e):upe(t,e)}function ope(t,e){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:h}=t;tpe(t);const f=l4(u),p=dpe(r);return wl(["0x04",sh([Se(n),s?Se(s):"0x",c?Se(c):"0x",l?Se(l):"0x",i?Se(i):"0x",o??"0x",a?Se(a):"0x",h??"0x",f,p,...jv(t,e)])])}function ape(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:h}=t;rpe(t);let f=t.blobVersionedHashes,p=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof p>"u")){const v=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(I=>$n(I)),C=t.kzg,x=N$({blobs:v,kzg:C});if(typeof f>"u"&&(f=WV({commitments:x})),typeof p>"u"){const I=O$({blobs:v,commitments:x,kzg:C});p=KV({blobs:v,commitments:x,proofs:I})}}const g=l4(u),m=[Se(r),i?Se(i):"0x",c?Se(c):"0x",l?Se(l):"0x",n?Se(n):"0x",s??"0x",o?Se(o):"0x",h??"0x",g,a?Se(a):"0x",f??[],...jv(t,e)],w=[],y=[],b=[];if(p)for(let v=0;v<p.length;v++){const{blob:C,commitment:x,proof:I}=p[v];w.push(C),y.push(x),b.push(I)}return wl(["0x03",sh(p?[m,w,y,b]:m)])}function lpe(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;R$(t);const h=l4(c),f=[Se(r),i?Se(i):"0x",l?Se(l):"0x",a?Se(a):"0x",n?Se(n):"0x",s??"0x",o?Se(o):"0x",u??"0x",h,...jv(t,e)];return wl(["0x02",sh(f)])}function cpe(t,e){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:l,gasPrice:c}=t;npe(t);const u=l4(l),h=[Se(r),s?Se(s):"0x",c?Se(c):"0x",n?Se(n):"0x",o??"0x",a?Se(a):"0x",i??"0x",u,...jv(t,e)];return wl(["0x01",sh(h)])}function upe(t,e){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:l}=t;ipe(t);let c=[s?Se(s):"0x",l?Se(l):"0x",n?Se(n):"0x",o??"0x",a?Se(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const p=27n+(e.v===27n?0n:1n);if(e.v!==p)throw new Mfe({v:e.v});return p})(),h=vo(e.r),f=vo(e.s);c=[...c,Se(u),h==="0x00"?"0x":h,f==="0x00"?"0x":f]}else r>0&&(c=[...c,Se(r),"0x","0x"]);return sh(c)}function jv(t,e){const r=e??t,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=vo(r.r),o=vo(r.s);return[typeof i=="number"?i?Se(1):"0x":n===0n?"0x":n===1n?Se(1):n===27n?"0x":Se(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function dpe(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:i,...s}=r,o=r.address;e.push([n?Pr(n):"0x",o,i?Pr(i):"0x",...jv({},s)])}return e}async function hpe({address:t,authorization:e,signature:r}){return Ov(Ur(t),await P$({authorization:e,signature:r}))}const fpe=t=>t,j$=t=>t;class hy extends ve{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${j$(o)}`,e&&`Request body: ${Fn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class D$ extends ve{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${j$(n)}`,`Request body: ${Fn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class UO extends ve{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${j$(r)}`,`Request body: ${Fn(e)}`],name:"TimeoutError"})}}const ppe=-1;class Ys extends ve{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof D$?e.code:r??ppe}}class To extends Ys{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class ow extends Ys{constructor(e){super(e,{code:ow.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class aw extends Ys{constructor(e){super(e,{code:aw.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(aw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class lw extends Ys{constructor(e,{method:r}={}){super(e,{code:lw.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(lw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class cw extends Ys{constructor(e){super(e,{code:cw.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(cw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Rf extends Ys{constructor(e){super(e,{code:Rf.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Rf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class jf extends Ys{constructor(e){super(e,{code:jf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class uw extends Ys{constructor(e){super(e,{code:uw.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(uw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qd extends Ys{constructor(e){super(e,{code:Qd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class dw extends Ys{constructor(e){super(e,{code:dw.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(dw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ef extends Ys{constructor(e,{method:r}={}){super(e,{code:ef.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Tg extends Ys{constructor(e){super(e,{code:Tg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class hw extends Ys{constructor(e){super(e,{code:hw.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(hw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ts extends To{constructor(e){super(e,{code:ts.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class fw extends To{constructor(e){super(e,{code:fw.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(fw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class pw extends To{constructor(e,{method:r}={}){super(e,{code:pw.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(pw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class gw extends To{constructor(e){super(e,{code:gw.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(gw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class mw extends To{constructor(e){super(e,{code:mw.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(mw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Df extends To{constructor(e){super(e,{code:Df.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Df,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Pg extends To{constructor(e){super(e,{code:Pg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class yw extends To{constructor(e){super(e,{code:yw.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(yw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ww extends To{constructor(e){super(e,{code:ww.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ww,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class vw extends To{constructor(e){super(e,{code:vw.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(vw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class bw extends To{constructor(e){super(e,{code:bw.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(bw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class xw extends To{constructor(e){super(e,{code:xw.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(xw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ng extends To{constructor(e){super(e,{code:Ng.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class gpe extends Ys{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const q2=new t4(8192);function mpe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(q2.get(r))return q2.get(r);const n=t().finally(()=>q2.delete(r));return q2.set(r,n),n}async function r7(t){return new Promise(e=>setTimeout(e,t))}function Ew(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await r7(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<r&&await n({count:a,error:c}))return l({error:c});s(c)}};o()})}function ype(t,e={}){return async(r,n={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...n},{method:c}=r;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new ef(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new ef(new Error("method not supported"),{method:c});const u=i?Sg(`${l}.${Fn(r)}`):void 0;return mpe(()=>Ew(async()=>{try{return await t(r)}catch(f){const p=f;switch(p.code){case ow.code:throw new ow(p);case aw.code:throw new aw(p);case lw.code:throw new lw(p,{method:r.method});case cw.code:throw new cw(p);case Rf.code:throw new Rf(p);case jf.code:throw new jf(p);case uw.code:throw new uw(p);case Qd.code:throw new Qd(p);case dw.code:throw new dw(p);case ef.code:throw new ef(p,{method:r.method});case Tg.code:throw new Tg(p);case hw.code:throw new hw(p);case ts.code:throw new ts(p);case fw.code:throw new fw(p);case pw.code:throw new pw(p);case gw.code:throw new gw(p);case mw.code:throw new mw(p);case Df.code:throw new Df(p);case Pg.code:throw new Pg(p);case yw.code:throw new yw(p);case ww.code:throw new ww(p);case vw.code:throw new vw(p);case bw.code:throw new bw(p);case xw.code:throw new xw(p);case Ng.code:throw new Ng(p);case 5e3:throw new ts(p);default:throw f instanceof ve?f:new gpe(p)}}},{delay:({count:f,error:p})=>{var g;if(p&&p instanceof hy){const m=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>wpe(f)}),{enabled:i,id:u})}}function wpe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Tg.code||t.code===Rf.code:t instanceof hy&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}const vpe="0.1.1";function bpe(){return vpe}let Xt=class n7 extends Error{constructor(e,r={}){const n=(()=>{var l;if(r.cause instanceof n7){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof n7&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${bpe()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return ZV(this,e)}};function ZV(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?ZV(t.cause,e):e?null:t}function Dv(t,e){if($0(t)>e)throw new Dpe({givenSize:$0(t),maxSize:e})}const Ic={zero:48,nine:57,A:65,F:70,a:97,f:102};function BO(t){if(t>=Ic.zero&&t<=Ic.nine)return t-Ic.zero;if(t>=Ic.A&&t<=Ic.F)return t-(Ic.A-10);if(t>=Ic.a&&t<=Ic.f)return t-(Ic.a-10)}function xpe(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Lpe({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function JV(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function c4(t,e){if(Eo(t)>e)throw new Hpe({givenSize:Eo(t),maxSize:e})}function Epe(t,e){if(typeof e=="number"&&e>0&&e>Eo(t)-1)throw new aG({offset:e,position:"start",size:Eo(t)})}function _pe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Eo(t)!==r-e)throw new aG({offset:r,position:"end",size:Eo(t)})}function XV(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new qpe({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Cpe="#__bigint";function eG(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+Cpe:i,r)}const Ape=new TextDecoder,kpe=new TextEncoder;function Spe(t){return t instanceof Uint8Array?t:typeof t=="string"?tG(t):$pe(t)}function $pe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function tG(t,e={}){const{size:r}=e;let n=t;r&&(c4(t,r),n=Ff(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=BO(i.charCodeAt(l++)),u=BO(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Xt(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function Ipe(t,e={}){const{size:r}=e,n=kpe.encode(t);return typeof r=="number"?(Dv(n,r),Tpe(n,r)):n}function Tpe(t,e){return xpe(t,{dir:"right",size:e})}function $0(t){return t.length}function Ppe(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function Npe(t,e={}){const{size:r}=e;typeof r<"u"&&Dv(t,r);const n=ll(t,e);return iG(n,e)}function Ope(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(Dv(n,r),n=rG(n)),n.length>1||n[0]>1)throw new jpe(n);return!!n[0]}function uu(t,e={}){const{size:r}=e;typeof r<"u"&&Dv(t,r);const n=ll(t,e);return sG(n,e)}function Mpe(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(Dv(n,r),n=Rpe(n)),Ape.decode(n)}function rG(t){return JV(t,{dir:"left"})}function Rpe(t){return JV(t,{dir:"right"})}class jpe extends Xt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Dpe=class extends Xt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Lpe=class extends Xt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Fpe=new TextEncoder,Upe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bpe(t,e={}){const{strict:r=!1}=e;if(!t)throw new zO(t);if(typeof t!="string")throw new zO(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new WO(t);if(!t.startsWith("0x"))throw new WO(t)}function al(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function zpe(t){return t instanceof Uint8Array?ll(t):Array.isArray(t)?ll(new Uint8Array(t)):t}function nG(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(c4(r,e.size),Lf(r,e.size)):r}function ll(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Upe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(c4(n,e.size),Ff(n,e.size)):n}function is(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new oG({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const l=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Lf(l,n):l}function L$(t,e={}){return ll(Fpe.encode(t),e)}function Lf(t,e){return XV(t,{dir:"left",size:e})}function Ff(t,e){return XV(t,{dir:"right",size:e})}function rc(t,e,r,n={}){const{strict:i}=n;Epe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&_pe(s,e,r),s}function Eo(t){return Math.ceil((t.length-2)/2)}function iG(t,e={}){const{signed:r}=e;e.size&&c4(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function sG(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:iG(t,e))}function Wpe(t,e={}){const{strict:r=!1}=e;try{return Bpe(t,{strict:r}),!0}catch{return!1}}let oG=class extends Xt{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class zO extends Xt{constructor(e){super(`Value \`${typeof e=="object"?eG(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class WO extends Xt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Hpe=class extends Xt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class aG extends Xt{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let qpe=class extends Xt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Vpe(t){return{address:t.address,amount:is(t.amount),index:is(t.index),validatorIndex:is(t.validatorIndex)}}function lG(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:is(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:is(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:is(t.gasLimit)},...typeof t.number=="bigint"&&{number:is(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:is(t.prevRandao)},...typeof t.time=="bigint"&&{time:is(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Vpe)}}}const y5=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i7=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],cG=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],uG=[...cG,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Gpe=[...cG,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],HO=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],qO=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],dG=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],VO=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Fct=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Kpe="0x82ad56cb",hG="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ype="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Qpe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",F$="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Zpe extends ve{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Jpe extends ve{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function GO(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function Xpe(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=GO(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=GO(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}class fG extends ve{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){var w;const g=r?yn(r):void 0;let m=Mv({from:g==null?void 0:g.address,to:h,value:typeof f<"u"&&`${ap(f)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${zs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${zs(c)} gwei`,nonce:u});p&&(m+=`
${Xpe(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class pG extends ve{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=sp({abi:r,args:n,name:o}),c=l?PV({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=l?ol(l,{includeName:!0}):void 0,h=Mv({address:i&&fpe(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class s7 extends ve{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,l;if(r&&r!=="0x")try{o=Efe({abi:e,data:r});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=mfe[p]}else{const p=u?ol(u,{includeName:!0}):void 0,g=u&&f?PV({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof wV&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=l,this.signature=c}}class e0e extends ve{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class t0e extends ve{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class u4 extends ve{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function fm({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new GC({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new GC({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function d4(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof ve?t.walk(i=>(i==null?void 0:i.code)===S0.code):t;return n instanceof ve?new S0({cause:t,message:n.details}):S0.nodeMessage.test(r)?new S0({cause:t,message:t.details}):Mf.nodeMessage.test(r)?new Mf({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):KC.nodeMessage.test(r)?new KC({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):YC.nodeMessage.test(r)?new YC({cause:t,nonce:e==null?void 0:e.nonce}):QC.nodeMessage.test(r)?new QC({cause:t,nonce:e==null?void 0:e.nonce}):ZC.nodeMessage.test(r)?new ZC({cause:t,nonce:e==null?void 0:e.nonce}):JC.nodeMessage.test(r)?new JC({cause:t}):XC.nodeMessage.test(r)?new XC({cause:t,gas:e==null?void 0:e.gas}):e7.nodeMessage.test(r)?new e7({cause:t,gas:e==null?void 0:e.gas}):t7.nodeMessage.test(r)?new t7({cause:t}):sw.nodeMessage.test(r)?new sw({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Rv({cause:t})}function gG(t,{docsPath:e,...r}){const n=(()=>{const i=d4(t,r);return i instanceof Rv?t:i})();return new fG(n,{docsPath:e,...r})}function h4(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}function U$(t,e){return({exclude:r,format:n})=>({exclude:r,format:i=>{const s=e(i);if(r)for(const o of r)delete s[o];return{...s,...n(i)}},type:t})}const r0e={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function pm(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=n0e(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>$n(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Se(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Se(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Se(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Se(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Se(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Se(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=r0e[t.type]),typeof t.value<"u"&&(e.value=Se(t.value)),e}function n0e(t){return t.map(e=>({address:e.address,r:e.r?Se(BigInt(e.r)):e.r,s:e.s?Se(BigInt(e.s)):e.s,chainId:Se(e.chainId),nonce:Se(e.nonce),...typeof e.yParity<"u"?{yParity:Se(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Se(e.v)}:{}}))}function B$(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const i9=new Map;function mG({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:g}=u[p];g==null||g([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:g}=u[p];g==null||g(f)}})},o=()=>i9.delete(e),a=()=>l().map(({args:u})=>u),l=()=>i9.get(e)||[],c=u=>i9.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=B$();return(r==null?void 0:r([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,n),h)}}}function KO(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new wO({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new wO({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function i0e(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Se(e)),r!==void 0&&(o.nonce=Se(r)),n!==void 0&&(o.state=KO(n)),i!==void 0){if(o.state)throw new Jpe;o.stateDiff=KO(i)}return o}function z$(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!wn(r,{strict:!1}))throw new gs({address:r});if(e[r])throw new Zpe({address:r});e[r]=i0e(n)}return e}function lp(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?yn(e):void 0;if(o&&!wn(o.address))throw new gs({address:o.address});if(s&&!wn(s))throw new gs({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Ofe;if(n&&n>o4)throw new Mf({maxFeePerGas:n});if(i&&n&&i>n)throw new sw({maxFeePerGas:n,maxPriorityFeePerGas:i})}async function f4(t,e){var M,A,_,S;const{account:r=t.account,authorizationList:n,batch:i=!!((M=t.batch)!=null&&M.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:C,value:x,stateOverride:I,...$}=e,R=r?yn(r):void 0;if(u&&(f||p))throw new ve("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&C)throw new ve("Cannot provide both `code` & `to` as parameters.");const T=u&&h,L=f&&p&&C&&h,U=T||L,W=T?yG({code:u,data:h}):L?a0e({data:h,factory:f,factoryData:p,to:C}):h;try{lp(e);const P=(typeof s=="bigint"?Se(s):void 0)||o,N=c?lG(c):void 0,D=z$(I),F=(S=(_=(A=t.chain)==null?void 0:A.formatters)==null?void 0:_.transactionRequest)==null?void 0:S.format,z=(F||pm)({...h4($,{format:F}),from:R==null?void 0:R.address,accessList:a,authorizationList:n,blobs:l,data:W,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:U?void 0:C,value:x});if(i&&s0e({request:z})&&!D&&!N)try{return await o0e(t,{...z,blockNumber:s,blockTag:o})}catch(G){if(!(G instanceof YV)&&!(G instanceof GC))throw G}const V=(()=>{const G=[z,P];return D&&N?[...G,D,N]:D?[...G,D]:N?[...G,{},N]:G})(),j=await t.request({method:"eth_call",params:V});return j==="0x"?{data:void 0}:{data:j}}catch(O){const P=l0e(O),{offchainLookup:N,offchainLookupSignature:D}=await tc(async()=>{const{offchainLookup:F,offchainLookupSignature:k}=await import("./ccip-BRIeiNiE.js");return{offchainLookup:F,offchainLookupSignature:k}},[]);if(t.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===D&&C)return{data:await N(t,{data:P,to:C})};throw U&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new t0e({factory:f}):gG(O,{...e,account:R,chain:t.chain})}}function s0e({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(Kpe)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function o0e(t,e){var m;const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return fm({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new YV})(),h=(typeof s=="bigint"?Se(s):void 0)||o,{schedule:f}=mG({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(w){return w.reduce((b,{data:v})=>b+(v.length-2),0)>r*2},fn:async w=>{const y=w.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),b=yi({abi:y5,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{...c===null?{data:yG({code:F$,data:b})}:{to:c,data:b}},h]});return op({abi:y5,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:g}]=await f({data:a,to:l});if(!g)throw new u4({data:p});return p==="0x"?{data:void 0}:{data:p}}function yG(t){const{code:e,data:r}=t;return s4({abi:tV(["constructor(bytes, bytes)"]),bytecode:hG,args:[e,r]})}function a0e(t){const{data:e,factory:r,factoryData:n,to:i}=t;return s4({abi:tV(["constructor(address, bytes, address, bytes)"]),bytecode:Ype,args:[i,e,r,n]})}function l0e(t){var r;if(!(t instanceof ve))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}const p4="x-batch-gateway:true";async function c0e(t){const{data:e,ccipRequest:r}=t,{args:[n]}=IV({abi:i7,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(p4)?await c0e({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(l){i[a]=!0,s[a]=u0e(l)}})),kfe({abi:i7,functionName:"query",result:[i,s]})}function u0e(t){return t.name==="HttpRequestError"&&t.status?OO({abi:i7,errorName:"HttpError",args:[t.status,t.shortMessage]}):OO({abi:[SV],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function wG({chain:t,currentChainId:e}){if(!t)throw new epe;if(e!==t.id)throw new Xfe({chain:t,currentChainId:e})}function vG(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const d0e=3;function Uf(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof u4?t:t instanceof ve?t.walk(g=>"data"in g)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof Tv?new e0e({functionName:s}):[d0e,Rf.code].includes(l)&&(c||u||h||f)?new s7({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof D$?u:f??h}):t;return new pG(p,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}class h0e extends ve{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var g;const p=Mv({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${ap(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${zs(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${zs(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${zs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function f0e(t,{docsPath:e,...r}){const n=(()=>{const i=d4(t,r);return i instanceof Rv?t:i})();return new h0e(n,{docsPath:e,...r})}function bG(t,{docsPath:e,...r}){const n=(()=>{const i=d4(t,r);return i instanceof Rv?t:i})();return new Dfe(n,{docsPath:e,...r})}const xG={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function g4(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ua(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ua(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?xG[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=g0e(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const p0e=U$("transaction",g4);function g0e(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function W$(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:g4(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const m0e=U$("block",W$);function xu(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const EG={"0x0":"reverted","0x1":"success"};function _G(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>xu(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ua(t.transactionIndex):null,status:t.status?EG[t.status]:null,type:t.type?xG[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const y0e=U$("transactionReceipt",_G);function ft(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}async function H$(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?Se(n):r]},{dedupe:!!n});return ua(i)}function CG(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function w0e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const YO=w0e();function v0e(t,e={}){return{async request(r){var f;const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,l={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:h}=l;try{const p=await CG(async({signal:m})=>{const w={...l,body:Array.isArray(n)?Fn(n.map(C=>({jsonrpc:"2.0",id:C.id??YO.take(),...C}))):Fn({jsonrpc:"2.0",id:n.id??YO.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(a>0?m:null)},y=new Request(t,w),b=await(s==null?void 0:s(y,w))??{...w,url:t};return await i(b.url??t,b)},{errorInstance:new UO({body:n,url:t}),timeout:a,signal:!0});o&&await o(p);let g;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(m){if(p.ok)throw m;g={error:g}}}if(!p.ok)throw new hy({body:n,details:Fn(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof hy||p instanceof UO?p:new hy({body:n,cause:p,url:t})}}}}const b0e=`Ethereum Signed Message:
`;function x0e(t){const e=typeof t=="string"?Sg(t):typeof t.raw=="string"?t.raw:$n(t.raw),r=Sg(`${b0e}${Jr(e)}`);return da([r,e])}function AG(t,e){return gi(x0e(t),e)}class E0e extends ve{constructor({domain:e}){super(`Invalid domain "${Fn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class _0e extends ve{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class C0e extends ve{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function A0e(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return Fn({domain:o,message:a,primaryType:n,types:i})}function kG(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(kV);if(f&&(typeof h=="number"||typeof h=="bigint")){const[m,w,y]=f;Se(h,{signed:w==="int",size:Number.parseInt(y,10)/8})}if(u==="address"&&typeof h=="string"&&!wn(h))throw new gs({address:h});const p=u.match(efe);if(p){const[m,w]=p;if(w&&Jr(h)!==Number.parseInt(w,10))throw new Hhe({expectedSize:Number.parseInt(w,10),givenSize:Jr(h)})}const g=i[u];g&&(k0e(u),s(g,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new E0e({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new _0e({primaryType:n,types:i})}function SG({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function k0e(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new C0e({type:t})}function S0e(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:SG({domain:e}),...t.types};kG({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push($0e({domain:e,types:i})),n!=="EIP712Domain"&&s.push($G({data:r,primaryType:n,types:i})),gi(da(s))}function $0e({domain:t,types:e}){return $G({data:t,primaryType:"EIP712Domain",types:e})}function $G({data:t,primaryType:e,types:r}){const n=IG({data:t,primaryType:e,types:r});return gi(n)}function IG({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[I0e({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=PG({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return ip(n,i)}function I0e({primaryType:t,types:e}){const r=Pr(T0e({primaryType:t,types:e}));return gi(r)}function T0e({primaryType:t,types:e}){let r="";const n=TG({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function TG({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),i=n==null?void 0:n[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])TG({primaryType:s.type,types:e},r);return r}function PG({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},gi(IG({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},gi(n)];if(r==="string")return[{type:"bytes32"},gi(Pr(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>PG({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},gi(ip(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}let P0e=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const N0e={checksum:new P0e(8192)},s9=N0e.checksum;function NG(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=e4(Spe(t));return r==="Bytes"?n:ll(n)}const O0e=/^0x[a-fA-F0-9]{40}$/;function m4(t,e={}){const{strict:r=!0}=e;if(!O0e.test(t))throw new QO({address:t,cause:new M0e});if(r){if(t.toLowerCase()===t)return;if(OG(t)!==t)throw new QO({address:t,cause:new R0e})}}function OG(t){if(s9.has(t))return s9.get(t);m4(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=NG(Ipe(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return s9.set(t,i),i}function o7(t,e={}){const{strict:r=!0}=e??{};try{return m4(t,{strict:r}),!0}catch{return!1}}class QO extends Xt{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class M0e extends Xt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class R0e extends Xt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const j0e=/^(.*)\[([0-9]*)\]$/,D0e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,MG=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ZO=2n**256n-1n;function Y0(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=G$(e.type);if(s){const[o,a]=s;return F0e(t,{...e,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(e.type==="tuple")return W0e(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return L0e(t,{checksum:n});if(e.type==="bool")return U0e(t);if(e.type.startsWith("bytes"))return B0e(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return z0e(t,e);if(e.type==="string")return H0e(t,{staticPosition:i});throw new Y$(e.type)}const JO=32,a7=32;function L0e(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?OG(s):s)(ll(Ppe(n,-20))),32]}function F0e(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=uu(t.readBytes(a7)),c=s+l,u=c+JO;t.setPosition(c);const h=uu(t.readBytes(JO)),f=_w(e);let p=0;const g=[];for(let m=0;m<h;++m){t.setPosition(u+(f?m*32:p));const[w,y]=Y0(t,e,{checksumAddress:n,staticPosition:u});p+=y,g.push(w)}return t.setPosition(s+32),[g,32]}if(_w(e)){const l=uu(t.readBytes(a7)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=Y0(t,e,{checksumAddress:n,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=Y0(t,e,{checksumAddress:n,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function U0e(t){return[Ope(t.readBytes(32),{size:32}),32]}function B0e(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=uu(t.readBytes(32));t.setPosition(r+o);const a=uu(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[ll(l),32]}return[ll(t.readBytes(Number.parseInt(i,10),32)),32]}function z0e(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?Npe(i,{signed:r}):uu(i,{signed:r}),32]}function W0e(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(_w(e)){const l=uu(t.readBytes(a7)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=Y0(t,h,{checksumAddress:n,staticPosition:c});a+=p,o[s?u:h==null?void 0:h.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=Y0(t,c,{checksumAddress:n,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=h}return[o,a]}function H0e(t,{staticPosition:e}){const r=uu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=uu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=Mpe(rG(s));return t.setPosition(e+32),[o,32]}function q0e({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(q$({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function q$({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=G$(n.type);if(i){const[s,o]=i;return G0e(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return J0e(r,{checksumAddress:t,parameter:n});if(n.type==="address")return V0e(r,{checksum:t});if(n.type==="bool")return Y0e(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=MG.exec(n.type)??[];return Q0e(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return K0e(r,{type:n.type});if(n.type==="string")return Z0e(r);throw new Y$(n.type)}function V$(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Eo(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(is(e+i,{size:32})),n.push(a),i+=Eo(a)):r.push(a)}return al(...r,...n)}function V0e(t,e){const{checksum:r=!1}=e;return m4(t,{strict:r}),{dynamic:!1,encoded:Lf(t.toLowerCase())}}function G0e(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new age(t);if(!s&&t.length!==n)throw new oge({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=q$({checksumAddress:r,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=V$(a);if(s){const c=is(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?al(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:al(...a.map(({encoded:l})=>l))}}function K0e(t,{type:e}){const[,r]=e.split("bytes"),n=Eo(t);if(!r){let i=t;return n%32!==0&&(i=Ff(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:al(Lf(is(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new jG({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:Ff(t)}}function Y0e(t){if(typeof t!="boolean")throw new Xt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Lf(nG(t))}}function Q0e(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new oG({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:is(t,{size:32,signed:e})}}function Z0e(t){const e=L$(t),r=Math.ceil(Eo(e)/32),n=[];for(let i=0;i<r;i++)n.push(Ff(rc(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:al(Ff(is(Eo(e),{size:32})),...n)}}function J0e(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],l=Array.isArray(t)?o:a.name,c=q$({checksumAddress:r,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?V$(s):al(...s.map(({encoded:o})=>o))}}function G$(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function _w(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(_w);const r=G$(t.type);return!!(r&&_w({...t,type:r[1]}))}const X0e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new rge({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new tge({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new XO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new XO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function ege(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(X0e);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class XO extends Xt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tge extends Xt{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class rge extends Xt{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function nge(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?tG(e):e,o=ege(s);if($0(s)===0&&t.length>0)throw new sge;if($0(s)&&$0(s)<32)throw new ige({data:typeof e=="string"?e:ll(e),parameters:t,size:$0(s)});let a=0;const l=n==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=Y0(o,u,{checksumAddress:i,staticPosition:0});a+=f,n==="Array"?l.push(h):l[u.name??c]=h}return l}function K$(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new DG({expectedLength:t.length,givenLength:e.length});const i=q0e({checksumAddress:n,parameters:t,values:e}),s=V$(i);return s.length===0?"0x":s}function l7(t,e){if(t.length!==e.length)throw new DG({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(l7.encode(i,s))}return al(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return m4(l),Lf(l.toLowerCase(),i?32:0)}if(r==="string")return L$(n);if(r==="bytes")return n;if(r==="bool")return Lf(nG(n),i?32:1);const s=r.match(MG);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return is(n,{size:i?32:h,signed:c==="int"})}const o=r.match(D0e);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(n.length-2)/2)throw new jG({expectedSize:Number.parseInt(c,10),value:n});return Ff(n,i?32:0)}const a=r.match(j0e);if(a&&Array.isArray(n)){const[l,c]=a,u=[];for(let h=0;h<n.length;h++)u.push(e(c,n[h],!0));return u.length===0?"0x":al(...u)}throw new Y$(r)}t.encode=e})(l7||(l7={}));function RG(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?yO(t):t}class ige extends Xt{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${d0(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class sge extends Xt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class oge extends Xt{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class jG extends Xt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Eo(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class DG extends Xt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class age extends Xt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Y$ extends Xt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class LG extends C${constructor(e,r){super(),this.finished=!1,this.destroyed=!1,she(e);const n=Sv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ih(s)}update(e){return $g(this),this.iHash.update(e),this}digestInto(e){$g(this),nh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const FG=(t,e,r)=>new LG(t,e).update(r).digest();FG.create=(t,e)=>new LG(t,e);function UG(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new o9({signature:t});if(typeof t.s>"u")throw new o9({signature:t});if(r&&typeof t.yParity>"u")throw new o9({signature:t});if(t.r<0n||t.r>ZO)throw new pge({value:t.r});if(t.s<0n||t.s>ZO)throw new gge({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Z$({value:t.yParity})}function lge(t){return BG(ll(t))}function BG(t){if(t.length!==130&&t.length!==132)throw new fge({signature:t});const e=BigInt(rc(t,0,32)),r=BigInt(rc(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Q$(i)}catch{throw new Z$({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function cge(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return uge(t)}function uge(t){const e=typeof t=="string"?BG(t):t instanceof Uint8Array?lge(t):typeof t.r=="string"?hge(t):t.v?dge(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return UG(e),e}function dge(t){return{r:t.r,s:t.s,yParity:Q$(t.v)}}function hge(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=Q$(r)),typeof n!="number")throw new Z$({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Q$(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new mge({value:t})}class fge extends Xt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Eo(zpe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class o9 extends Xt{constructor({signature:e}){super(`Signature \`${eG(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class pge extends Xt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class gge extends Xt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Z$ extends Xt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class mge extends Xt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function yge(t,e={}){return typeof t.chainId=="string"?wge(t):{...t,...e.signature}}function wge(t){const{address:e,chainId:r,nonce:n}=t,i=cge(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const vge="0x8010801080108010801080108010801080108010801080108010801080108010",bge=RG("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function zG(t){if(typeof t=="string"){if(rc(t,-32)!==vge)throw new _ge(t)}else UG(t.authorization)}function xge(t){zG(t);const e=sG(rc(t,-64,-32)),r=rc(t,-e-64,-64),n=rc(t,0,-e-64),[i,s,o]=nge(bge,r);return{authorization:yge({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function Ege(t){try{return zG(t),!0}catch{return!1}}let _ge=class extends Xt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class Cge extends ve{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function c7(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Cge({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${a}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function WG(t,e="wei"){return c7(t,RV[e])}const Age={path:"/api/v1/analytics_events",method:"POST"},kge={path:"/api/v1/apps/:app_id",method:"GET"},Sge={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},$ge={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},Ige={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},Tge={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},Pge={path:"/api/v1/farcaster/init",method:"POST"},Nge={path:"/api/v1/farcaster/authenticate",method:"POST"},Oge={path:"/api/v1/farcaster/link",method:"POST"},Mge={path:"/api/v1/farcaster/unlink",method:"POST"},Rge={path:"/api/v1/farcaster/status",method:"GET"},jge={path:"/api/v2/farcaster/init",method:"POST"},Dge={path:"/api/v2/farcaster/authenticate",method:"POST"},Lge={path:"/api/v1/guest/authenticate",method:"POST"},Fge={path:"/api/v1/mfa/passkeys/init",method:"POST"},Uge={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Bge={path:"/api/v1/oauth/authenticate",method:"POST"},zge={path:"/api/v1/oauth/init",method:"POST"},Wge={path:"/api/v1/oauth/link",method:"POST"},Hge={path:"/api/v1/oauth/unlink",method:"POST"},qge={path:"/api/v1/passkeys/link",method:"POST"},Vge={path:"/api/v1/passkeys/authenticate",method:"POST"},Gge={path:"/api/v1/passkeys/register",method:"POST"},Kge={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Yge={path:"/api/v1/passkeys/register/init",method:"POST"},Qge={path:"/api/v1/passkeys/link/init",method:"POST"},Zge={path:"/api/v1/passwordless/authenticate",method:"POST"},Jge={path:"/api/v1/passwordless/init",method:"POST"},Xge={path:"/api/v1/passwordless/link",method:"POST"},eme={path:"/api/v1/passwordless/unlink",method:"POST"},tme={path:"/api/v1/passwordless/update",method:"POST"},rme={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},nme={path:"/api/v1/passwordless_sms/init",method:"POST"},ime={path:"/api/v1/passwordless_sms/link",method:"POST"},sme={path:"/api/v1/passwordless_sms/unlink",method:"POST"},ome={path:"/api/v1/passwordless_sms/update",method:"POST"},ame={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},lme={path:"/api/v1/recovery/oauth/init",method:"POST"},cme={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},ume={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},dme={path:"/api/v1/recovery/configuration_icloud",method:"POST"},hme=(t,e)=>e?Object.entries(e).reduce((r,[n,i])=>r.replace(`:${n}`,`${i}`),t):t,eM={path:"/api/v1/sessions",method:"POST"},fme={path:"/api/v1/sessions/logout",method:"POST"},pme={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},HG={path:"/api/v1/siwe/init",method:"POST"},gme={path:"/api/v1/siwe/authenticate",method:"POST"},mme={path:"/api/v1/siwe/link",method:"POST"},yme={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},wme={path:"/api/v1/siwe/unlink",method:"POST"},vme={path:"/api/v1/siws/init",method:"POST"},bme={path:"/api/v1/siws/authenticate",method:"POST"},xme={path:"/api/v1/siws/link",method:"POST"},Eme={path:"/api/v1/siws/unlink",method:"POST"},_me={path:"/api/v1/users/me/accept_terms",method:"POST"},Cme={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},Ame={path:"/api/v1/wallets",method:"POST"},a9={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},kme={path:"/api/v1/wallets/revoke",method:"POST"};var gt,tM=((gt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",gt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",gt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",gt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",gt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",gt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",gt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",gt.INVALID_DATA="invalid_data",gt.INVALID_CREDENTIALS="invalid_credentials",gt.INVALID_CAPTCHA="invalid_captcha",gt.LINKED_TO_ANOTHER_USER="linked_to_another_user",gt.ALLOWLIST_REJECTED="allowlist_rejected",gt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",gt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",gt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",gt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",gt.TOO_MANY_REQUESTS="too_many_requests",gt.RESOURCE_CONFLICT="resource_conflict",gt.INVALID_ORIGIN="invalid_origin",gt.MISSING_ORIGIN="missing_origin",gt.INVALID_NATIVE_APP_ID="invalid_native_app_id",gt.TOKEN_ALREADY_USED="token_already_used",gt.ALREADY_LOGGED_OUT="already_logged_out",gt.NOT_SUPPORTED="not_supported",gt.USER_UNSUBSCRIBED="user_unsubscribed",gt.MAX_APPS_REACHED="max_apps_reached",gt.USER_LIMIT_REACHED="max_accounts_reached",gt.DEVICE_REVOKED="device_revoked",gt.WALLET_PASSWORD_EXISTS="wallet_password_exists",gt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",gt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",gt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",gt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",gt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",gt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",gt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",gt.CANNOT_SET_PASSWORD="cannot_set_password",gt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",gt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",gt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",gt.USER_DOES_NOT_EXIST="user_does_not_exist",gt.ALREADY_EXISTS="resource_already_exists",gt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",gt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",gt.FEATURE_NOT_ENABLED="feature_not_enabled",gt.INSUFFICIENT_FUNDS="insufficient_funds",gt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",gt.INVALID_POLICY_FORMAT="invalid_policy_format",gt.POLICY_VIOLATION="policy_violation",gt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",gt.INVALID_REQUEST="invalid_request",gt.SIGNUP_DISABLED="signup_disabled",gt);function rM(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),o=Number(n[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var Sme={}.constructor;function bf(t){return t!=null&&t.constructor===Sme}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function y4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ime(n.key),n)}}function w4(t,e,r){return e&&$me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t){var e=Tme(t,"string");return Og(e)=="symbol"?e:e+""}function Tme(t,e){if(Og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pme="1.2.0",Nme="1.7.35",nM=" ext. ",Ome=/^\d+$/,Jn=function(){function t(e){y4(this,t),qG(e),this.metadata=e,VG.call(this,e)}return w4(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&Ome.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new iM(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new iM(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),iM=function(){function t(e,r){y4(this,t),this.globalMetadataObject=r,this.metadata=e,VG.call(this,r.metadata)}return w4(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new Mme(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&sM(this.types(),r))return new jme(sM(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?nM:this.metadata[13]||nM}}])}(),Mme=function(){function t(e,r){y4(this,t),this._format=e,this.metadata=r}return w4(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Rme.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Rme=/^\(?\$1\)?$/,jme=function(){function t(e,r){y4(this,t),this.type=e,this.metadata=r}return w4(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function sM(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function qG(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!bf(t)||!bf(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(bf(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Dme(t)+": "+t,"."))}var Dme=function(e){return Og(e)};function v4(t,e){if(e=new Jn(e),e.hasCountry(t))return e.country(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function Lme(t,e){return e.countries.hasOwnProperty(t)}function VG(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?rM(e,Pme)===-1?this.v2=!0:rM(e,Nme)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function b4(t,e){return Fme(t,void 0,e)}function Fme(t,e,r){var n=r.type(e),i=n&&n.possibleLengths()||r.possibleLengths();if(!i)return"IS_POSSIBLE";var s=t.length,o=i[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Ume(t,e,r){if(e===void 0&&(e={}),r=new Jn(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.country(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return GG(t.phone||t.nationalNumber,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function GG(t,e){switch(b4(t,e)){case"IS_POSSIBLE":return!0;default:return!1}}function Eu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Bme(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=zme(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t,e){if(t){if(typeof t=="string")return oM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oM(t,e):void 0}}function oM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Wme=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function J$(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new Jn(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(Eu(n,r.nationalNumberPattern())){if(l9(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||l9(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=Bme(Wme),s;!(s=i()).done;){var o=s.value;if(l9(n,o,r))return o}}}}function l9(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Eu(t,e.pattern())}function Hme(t,e,r){if(e=e||{},r=new Jn(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return J$(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return Eu(n,r.nationalNumberPattern())}function qme(t,e,r){var n=new Jn(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return Vme(e,s,r)}):[]}function Vme(t,e,r){var n=new Jn(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var X$=2,Gme=17,Kme=3,ms="0-9---",Yme="--",Qme="/",Zme=".",Jme=" ",Xme="()\\[\\]",e1e="~",el="".concat(Yme).concat(Qme).concat(Zme).concat(Jme).concat(Xme).concat(e1e),x4="+",t1e=new RegExp("(["+ms+"])");function KG(t,e,r,n){if(e){var i=new Jn(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(t1e);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function u7(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,o=n.length-1,a=o>0&&n[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(r,e.nationalPrefixTransformRule()),o>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),a&&(s=n[1])}var c;if(a){var u=t.indexOf(n[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=n[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function d7(t,e){var r=u7(t,e),n=r.carrierCode,i=r.nationalNumber;if(i!==t){if(!r1e(t,i,e))return{nationalNumber:t};if(e.possibleLengths()&&!n1e(i,e))return{nationalNumber:t}}return{nationalNumber:i,carrierCode:n}}function r1e(t,e,r){return!(Eu(t,r.nationalNumberPattern())&&!Eu(e,r.nationalNumberPattern()))}function n1e(t,e){switch(b4(t,e)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function YG(t,e,r,n){var i=e?v4(e,n):r;if(t.indexOf(i)===0){n=new Jn(n),n.selectNumberingPlan(e,r);var s=t.slice(i.length),o=d7(s,n),a=o.nationalNumber,l=d7(t,n),c=l.nationalNumber;if(!Eu(c,n.nationalNumberPattern())&&Eu(a,n.nationalNumberPattern())||b4(c,n)==="TOO_LONG")return{countryCallingCode:i,number:s}}return{number:t}}function eI(t,e,r,n){if(!t)return{};var i;if(t[0]!=="+"){var s=KG(t,e,r,n);if(s&&s!==t)i=!0,t="+"+s;else{if(e||r){var o=YG(t,e,r,n),a=o.countryCallingCode,l=o.number;if(a)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:a,number:l}}return{number:t}}}if(t[1]==="0")return{};n=new Jn(n);for(var c=2;c-1<=Kme&&c<=t.length;){var u=t.slice(1,c);if(n.hasCallingCode(u))return n.selectNumberingPlan(u),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:u,number:t.slice(c)};c++}return{}}function QG(t){return t.replace(new RegExp("[".concat(el,"]+"),"g")," ").trim()}var ZG=/(\$\d)/;function JG(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(ZG,e.nationalPrefixFormattingRule()):e.format());return n?QG(s):s}var i1e=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function s1e(t,e,r){var n=new Jn(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(i1e.test(n.IDDPrefix()))return n.IDDPrefix()}var o1e=";ext=",Np=function(e){return"([".concat(ms,"]{1,").concat(e,"})")};function XG(t){var e="20",r="15",n="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=o1e+Np(e),g=s+l+o+Np(e)+a,m=s+c+o+Np(n)+a,w=u+Np(i)+"#",y=h+f+o+Np(r)+a,b=h+"(?:,)+"+o+Np(n)+a;return p+"|"+g+"|"+m+"|"+w+"|"+y+"|"+b}var a1e="["+ms+"]{"+X$+"}",l1e="["+x4+"]{0,1}(?:["+el+"]*["+ms+"]){3,}["+el+ms+"]*",c1e=new RegExp("^["+x4+"]{0,1}(?:["+el+"]*["+ms+"]){1,2}$","i"),u1e=l1e+"(?:"+XG()+")?",d1e=new RegExp("^"+a1e+"$|^"+u1e+"$","i");function h1e(t){return t.length>=X$&&d1e.test(t)}function f1e(t){return c1e.test(t)}function p1e(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function g1e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=m1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(t,e){if(t){if(typeof t=="string")return aM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aM(t,e):void 0}}function aM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function lM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(r),!0).forEach(function(n){y1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y1e(t,e,r){return(e=w1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w1e(t){var e=v1e(t,"string");return Cw(e)=="symbol"?e:e+""}function v1e(t,e){if(Cw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uM={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function b1e(t,e,r,n){if(r?r=cM(cM({},uM),r):r=uM,n=new Jn(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.country(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=w5(s,t.carrierCode,"NATIONAL",n,r),c9(o,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(o=w5(s,null,"INTERNATIONAL",n,r),o="+".concat(i," ").concat(o),c9(o,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return p1e({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var a=E1e(s,t.carrierCode,i,r.fromCountry,n);return c9(a,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function w5(t,e,r,n,i){var s=x1e(n.formats(),t);return s?JG(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function x1e(t,e){for(var r=g1e(t),n;!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(e.search(s)!==0)continue}if(Eu(e,i.pattern()))return i}}function c9(t,e,r,n){return e?n(t,e,r):t}function E1e(t,e,r,n,i){var s=v4(n,i.metadata);if(s===r){var o=w5(t,e,"NATIONAL",i);return r==="1"?r+" "+o:o}var a=s1e(n,void 0,i.metadata);if(a)return"".concat(a," ").concat(r," ").concat(w5(t,null,"INTERNATIONAL",i))}function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){_1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _1e(t,e,r){return(e=eK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eK(n.key),n)}}function k1e(t,e,r){return e&&A1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t){var e=S1e(t,"string");return Aw(e)=="symbol"?e:e+""}function S1e(t,e){if(Aw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tI=function(){function t(e,r,n){if(C1e(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(bf(r)&&bf(r.countries)){n=r;var i=e;if(!T1e.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=eI(i,void 0,void 0,n),o=s.countryCallingCode,a=s.number;if(r=a,e=o,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");qG(n);var l=I1e(e,n),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return k1e(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:qme(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Ume(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Hme(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Jn(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return J$(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return b1e(this,r,n?hM(hM({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])}(),$1e=function(e){return/^[A-Z]{2}$/.test(e)};function I1e(t,e){var r,n,i=new Jn(e);return $1e(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var T1e=/^\+\d+$/;function h7(t){"@babel/helpers - typeof";return h7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h7(t)}function P1e(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1e(t,e,r){return e=Sw(e),M1e(t,rI()?Reflect.construct(e,r||[],Sw(t).constructor):e.apply(t,r))}function M1e(t,e){if(e&&(h7(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function f7(t){var e=typeof Map=="function"?new Map:void 0;return f7=function(n){if(n===null||!L1e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return D1e(n,arguments,Sw(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),kw(i,n)},f7(t)}function D1e(t,e,r){if(rI())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&kw(i,r.prototype),i}function rI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!t})()}function L1e(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kw(t,e)}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sw(t)}var Kc=function(t){function e(r){var n;return N1e(this,e),n=O1e(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return j1e(e,t),P1e(e)}(f7(Error)),fM=new RegExp("(?:"+XG()+")$","i");function F1e(t){var e=t.search(fM);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(fM),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function U1e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=B1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(t,e){if(t){if(typeof t=="string")return pM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pM(t,e):void 0}}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var z1e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function tK(t){return z1e[t]}function v5(t){for(var e="",r=U1e(t.split("")),n;!(n=r()).done;){var i=n.value,s=tK(i);s&&(e+=s)}return e}function W1e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=H1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1e(t,e){if(t){if(typeof t=="string")return gM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gM(t,e):void 0}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mM(t){for(var e="",r=W1e(t.split("")),n;!(n=r()).done;){var i=n.value;e+=q1e(i,e)||""}return e}function q1e(t,e,r){return t==="+"?e?void 0:"+":tK(t)}function V1e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=G1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1e(t,e){if(t){if(typeof t=="string")return yM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yM(t,e):void 0}}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rK(t,e){var r=e.countries;e.defaultCountry;var n=e.metadata;n=new Jn(n);for(var i=V1e(r),s;!(s=i()).done;){var o=s.value;if(n.country(o),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return o}else if(J$({phone:t,country:o},void 0,n.metadata))return o}}function nK(t,e){var r=e.nationalNumber,n=e.defaultCountry,i=e.metadata,s=i.getCountryCodesForCallingCode(t);if(s)return s.length===1?s[0]:rK(r,{countries:s,defaultCountry:n,metadata:i.metadata})}var iK="+",K1e="[\\-\\.\\(\\)]?",wM="(["+ms+"]|"+K1e+")",Y1e="^\\"+iK+wM+"*["+ms+"]"+wM+"*$",Q1e=new RegExp(Y1e,"g"),p7=ms,Z1e="["+p7+"]+((\\-)*["+p7+"])*",J1e="a-zA-Z",X1e="["+J1e+"]+((\\-)*["+p7+"])*",eye="^("+Z1e+"\\.)*"+X1e+"\\.?$",tye=new RegExp(eye,"g"),vM="tel:",g7=";phone-context=",rye=";isub=";function nye(t){var e=t.indexOf(g7);if(e<0)return null;var r=e+g7.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function iye(t){return t===null?!0:t.length===0?!1:Q1e.test(t)||tye.test(t)}function sye(t,e){var r=e.extractFormattedPhoneNumber,n=nye(t);if(!iye(n))throw new Kc("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===iK&&(i+=n);var s=t.indexOf(vM),o;s>=0?o=s+vM.length:o=0;var a=t.indexOf(g7);i+=t.substring(o,a)}var l=i.indexOf(rye);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var oye=250,aye=new RegExp("["+x4+ms+"]"),lye=new RegExp("[^"+ms+"#]+$");function cye(t,e,r){if(e=e||{},r=new Jn(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new Kc("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=dye(t,e.v2,e.extract),i=n.number,s=n.ext,o=n.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Kc("TOO_SHORT"):new Kc("NOT_A_NUMBER");return{}}var a=fye(i,e.defaultCountry,e.defaultCallingCode,r),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new Kc("INVALID_COUNTRY");return{}}if(!c||c.length<X$){if(e.v2)throw new Kc("TOO_SHORT");return{}}if(c.length>Gme){if(e.v2)throw new Kc("TOO_LONG");return{}}if(e.v2){var p=new tI(u,c,r.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var g=(e.extended?r.hasSelectedNumberingPlan():l)?Eu(c,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:g,possible:g?!0:!!(e.extended===!0&&r.possibleLengths()&&GG(c,r)),phone:c,ext:s}:g?hye(l,c,s):{}}function uye(t,e,r){if(t){if(t.length>oye){if(r)throw new Kc("TOO_LONG");return}if(e===!1)return t;var n=t.search(aye);if(!(n<0))return t.slice(n).replace(lye,"")}}function dye(t,e,r){var n=sye(t,{extractFormattedPhoneNumber:function(o){return uye(o,r,e)}});if(!n)return{};if(!h1e(n))return f1e(n)?{error:"TOO_SHORT"}:{};var i=F1e(n);return i.ext?i:{number:n}}function hye(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function fye(t,e,r,n){var i=eI(mM(t),e,r,n.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)n.selectNumberingPlan(o);else if(a&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),o=r||v4(e,n.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=d7(mM(a),n),u=c.nationalNumber,h=c.carrierCode,f=nK(o,{nationalNumber:u,defaultCountry:e,metadata:n});return f&&(l=f,f==="001"||n.country(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function $w(t){"@babel/helpers - typeof";return $w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(t)}function bM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(r),!0).forEach(function(n){pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pye(t,e,r){return(e=gye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gye(t){var e=mye(t,"string");return $w(e)=="symbol"?e:e+""}function mye(t,e){if($w(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($w(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yye(t,e,r){return cye(t,xM(xM({},e),{},{v2:!0}),r)}function Iw(t){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(t)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){vye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vye(t,e,r){return(e=bye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bye(t){var e=xye(t,"string");return Iw(e)=="symbol"?e:e+""}function xye(t,e){if(Iw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eye(t,e){return kye(t)||Aye(t,e)||Cye(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(t,e){if(t){if(typeof t=="string")return _M(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_M(t,e):void 0}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Aye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kye(t){if(Array.isArray(t))return t}function Sye(t){var e=Array.prototype.slice.call(t),r=Eye(e,4),n=r[0],i=r[1],s=r[2],o=r[3],a,l,c;if(typeof n=="string")a=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=wye({defaultCountry:i},l));else if(bf(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function Tw(t){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(t)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){$ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ye(t,e,r){return(e=Iye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iye(t){var e=Tye(t,"string");return Tw(e)=="symbol"?e:e+""}function Tye(t,e){if(Tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pye(t,e,r){e&&e.defaultCountry&&!Lme(e.defaultCountry,r)&&(e=AM(AM({},e),{},{defaultCountry:void 0}));try{return yye(t,e,r)}catch(n){if(!(n instanceof Kc))throw n}}function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function kM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(r),!0).forEach(function(n){Nye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nye(t,e,r){return(e=Oye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oye(t){var e=Mye(t,"string");return Pw(e)=="symbol"?e:e+""}function Mye(t,e){if(Pw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rye(){var t=Sye(arguments),e=t.text,r=t.options,n=t.metadata;r=SM(SM({},r),{},{extract:!1});var i=Pye(e,r,n);return i&&i.isPossible()||!1}function Nw(t){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(t)}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fye(n.key),n)}}function Lye(t,e,r){return e&&Dye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t){var e=Uye(t,"string");return Nw(e)=="symbol"?e:e+""}function Uye(t,e){if(Nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bye=function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;jye(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return Lye(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function zye(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Wye(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(t,e){if(t){if(typeof t=="string")return $M(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$M(t,e):void 0}}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Da="x",u9=new RegExp(Da);function i3(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function IM(t,e){return t[e]===")"&&e++,Hye(t.slice(0,e))}function Hye(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(n,a),n=a+1}return i}function qye(t,e,r){for(var n=zye(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(u9)<0)return;e=t.search(u9),t=t.replace(u9,s)}return[t,e]}function Vye(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return Kye(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function Gye(t,e){return b4(t,e)==="IS_POSSIBLE"}function Kye(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=TM(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(o)return o}return TM(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function TM(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=JG(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.complexPrefixBeforeNationalSignificantNumber&&(o=t.complexPrefixBeforeNationalSignificantNumber+" "+o)),Yye(o,t))return o}function Yye(t,e){return v5(t)===e.getNationalDigits()}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function Qye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xye(n.key),n)}}function Jye(t,e,r){return e&&Zye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xye(t){var e=ewe(t,"string");return Ow(e)=="symbol"?e:e+""}function ewe(t,e){if(Ow(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var twe=function(){function t(){Qye(this,t)}return Jye(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([d9(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(iwe);if(!n){if(nwe.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),o=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(d9(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(d9(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:rwe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function rwe(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var nwe=/[\(\)\[\]\?\:\|]/,iwe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function d9(t){return t.length===1?t[0]:t}function PM(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=swe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NM(t,e):void 0}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mw(t){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(t)}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function awe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cwe(n.key),n)}}function lwe(t,e,r){return e&&awe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cwe(t){var e=uwe(t,"string");return Mw(e)=="symbol"?e:e+""}function uwe(t,e){if(Mw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dwe=function(){function t(e){owe(this,t),this.matchTree=new twe().parse(e)}return lwe(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=m7(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function m7(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=m7(i,o,r&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=PM(e.args),u;!(u=c()).done;){var h=u.value,f=m7(t,h,r);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=PM(e.args),g;!(g=p()).done;){var m=g.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function Rw(t){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}function OM(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=hwe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hwe(t,e){if(t){if(typeof t=="string")return MM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MM(t,e):void 0}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mwe(n.key),n)}}function gwe(t,e,r){return e&&pwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t){var e=ywe(t,"string");return Rw(e)=="symbol"?e:e+""}function ywe(t,e){if(Rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y7="9",wwe=15,vwe=i3(y7,wwe),bwe=/[- ]/,xwe=function(){return/\[([^\[\]])*\]/g},Ewe=function(){return/\d(?=[^,}][^,}])/g},_we=new RegExp("["+el+"]*\\$1["+el+"]*(\\$\\d["+el+"]*)*$"),RM=3,Cwe=function(){function t(e){e.state;var r=e.metadata;fwe(this,t),this.metadata=r,this.resetFormat()}return gwe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(Gye(n.nationalSignificantNumber,this.metadata))for(var s=OM(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=Vye(n,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Da),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Da),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,o=r.international,a=i,l=a.length-RM;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return n.formatSuits(c,o,s)&&n.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=r.leadingDigitsPatterns()[i];if(n.length<RM)try{return new dwe(o).match(n,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var c=a.value;return n.chosenFormat===c?0:_we.test(n.getFormatFormat(c,r.international))?n.createTemplateForFormat(c,r)?(n.chosenFormat=c,0):(n.matchingFormats=n.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=OM(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&bwe.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Da,n+1),i++;return IM(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Da)+i3(Da,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,o=n.nationalPrefix,a=n.complexPrefixBeforeNationalSignificantNumber,l=r.pattern();l=l.replace(xwe(),"\\d").replace(Ewe(),"\\d");var c=vwe.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,y7);u.test(h)&&(c=h);var f=this.getFormatFormat(r,s),p;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:o})){var g=f.replace(ZG,r.nationalPrefixFormattingRule());if(v5(r.nationalPrefixFormattingRule())===(o||"")+v5("$1")&&(f=g,p=!0,o))for(var m=o.length;m>0;)f=f.replace(/\d/,Da),m--}var w=c.replace(new RegExp(l),f).replace(new RegExp(y7,"g"),Da);return p||(a?w=i3(Da,a.length)+" "+w:o&&(w=i3(Da,o.length)+this.getSeparatorAfterNationalPrefix(r)+w)),s&&(w=QG(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=qye(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],IM(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var o=r.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function sK(t,e){return $we(t)||Swe(t,e)||kwe(t,e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(t,e){if(t){if(typeof t=="string")return jM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jM(t,e):void 0}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Swe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function $we(t){if(Array.isArray(t))return t}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Twe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nwe(n.key),n)}}function Pwe(t,e,r){return e&&Twe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nwe(t){var e=Owe(t,"string");return jw(e)=="symbol"?e:e+""}function Owe(t,e){if(jw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mwe="["+el+ms+"]+",Rwe=new RegExp("^"+Mwe+"$","i"),jwe="(?:["+x4+"]["+el+ms+"]*|["+el+ms+"]+)",Dwe=new RegExp("[^"+el+ms+"]+.*$"),Lwe=/[^\d\[\]]/,Fwe=function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;Iwe(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return Pwe(t,[{key:"input",value:function(r,n){var i=zwe(r),s=sK(i,2),o=s[0],a=s[1],l=v5(o),c;return a&&(n.digits||(n.startInternationalNumber(),l||(c=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=eI("+"+r.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&Lwe.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=u7(r,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,a,o,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=u7(r,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==n)return this.onExtractedNationalNumber(o,l,a,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,o){var a,l,c=s.lastIndexOf(i);if(c>=0&&c===s.length-i.length){l=!0;var u=s.slice(0,c);u!==r&&(a=u)}o({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberMatchesInput:l,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var o=KG(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return r.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=YG(r.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(n.number,i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])}();function Uwe(t){var e=t.search(jwe);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(Dwe,""),r&&(t="+"+t),t}}function Bwe(t){var e=Uwe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function zwe(t){var e=Bwe(t),r=sK(e,2),n=r[0],i=r[1];return Rwe.test(n)||(n=""),[n,i]}function Dw(t){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dw(t)}function Wwe(t,e){return Gwe(t)||Vwe(t,e)||qwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return DM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DM(t,e):void 0}}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Vwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Gwe(t){if(Array.isArray(t))return t}function Kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ywe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zwe(n.key),n)}}function Qwe(t,e,r){return e&&Ywe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zwe(t){var e=Jwe(t,"string");return Dw(e)=="symbol"?e:e+""}function Jwe(t,e){if(Dw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oK=function(){function t(e,r){Kwe(this,t),this.metadata=new Jn(r);var n=this.getCountryAndCallingCode(e),i=Wwe(n,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return Qwe(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(bf(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new Bye({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new Cwe({state:this.state,metadata:this.metadata}),this.parser=new Fwe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(a){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.complexPrefixBeforeNationalSignificantNumber,s=r.nationalPrefix,o=n,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(r?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,Da)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(nK(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,o=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+o:"+"+n;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,o=this._getCountry();if(n&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new Jn(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=rK(n,{countries:c,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});u&&(o=u)}}var h=new tI(o||s,n,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function Xwe(t){return new Jn(t).getCountries()}function eve(t,e,r){if(e[t])return new tI(t,e[t],r)}function E4(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(r[o]=l.request)})),s=>r[s]||t.request}async function aK(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=E4(t,{method:"eth_newFilter"}),u=s?Nv({abi:n,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?Se(o):o,toBlock:typeof l=="bigint"?Se(l):l,topics:u}]});return{abi:n,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class tve extends ve{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class nI extends ve{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class rve extends ve{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${zs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class lK extends ve{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function Ql(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,h;const s=i??!1,o=r!==void 0?Se(r):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new lK({blockHash:e,blockNumber:r});return(((h=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:h.format)||W$)(a)}async function iI(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function nve(t,e){return cK(t,e)}async function cK(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=r||await ft(t,Ql,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Yn(l)}catch{const[a,l]=await Promise.all([r?Promise.resolve(r):ft(t,Ql,"getBlock")({}),ft(t,iI,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new nI;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function ive(t,e){return w7(t,e)}async function w7(t,e){var f,p;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,m;return typeof((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((m=n==null?void 0:n.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new tve;const l=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),c=g=>g*BigInt(Math.ceil(o*l))/BigInt(l),u=r||await ft(t,Ql,"getBlock")({});if(typeof((p=n==null?void 0:n.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const g=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:c,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new nI;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await cK(t,{block:u,chain:n,request:i}),m=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??m+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await ft(t,iI,"getGasPrice")({}))}}async function gm(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ua(e)}const uK=["blobVersionedHashes","chainId","fees","gas","nonce","type"],LM=new Map;async function _4(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:c=uK,type:u}=e,h=r&&yn(r),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function g(){return p||(p=await ft(t,Ql,"getBlock")({blockTag:"latest"}),p)}let m;async function w(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await ft(t,gm,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&h)if(l){const y=await w();f.nonce=await l.consume({address:h.address,chainId:y,client:t})}else f.nonce=await ft(t,H$,"getTransactionCount")({address:h.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&n&&o){const y=N$({blobs:n,kzg:o});if(c.includes("blobVersionedHashes")){const b=WV({commitments:y,to:"hex"});f.blobVersionedHashes=b}if(c.includes("sidecars")){const b=O$({blobs:n,commitments:y,kzg:o}),v=KV({blobs:n,commitments:y,proofs:b,to:"hex"});f.sidecars=v}}if(c.includes("chainId")&&(f.chainId=await w()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=QV(f)}catch{let y=LM.get(t.uid);if(typeof y>"u"){const b=await g();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",LM.set(t.uid,y)}f.type=y?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await g(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await w7(t,{block:y,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new rve({maxPriorityFeePerGas:v});f.maxPriorityFeePerGas=v,f.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new nI;if(typeof e.gasPrice>"u"){const y=await g(),{gasPrice:b}=await w7(t,{block:y,chain:i,request:f,type:"legacy"});f.gasPrice=b}}return c.includes("gas")&&typeof s>"u"&&(f.gas=await ft(t,sI,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),lp(f),delete f.parameters,f}async function dK(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?Se(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function sI(t,e){var i,s,o;const{account:r=t.account}=e,n=r?yn(r):void 0;try{let A=function(S){const{block:O,request:P,rpcStateOverride:N}=S;return t.request({method:"eth_estimateGas",params:N?[P,O??t.experimental_blockTag??"latest",N]:O?[P,O]:[P]})};const{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,value:C,stateOverride:x,...I}=await _4(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),R=(typeof h=="bigint"?Se(h):void 0)||f,T=z$(x),L=await(async()=>{if(I.to)return I.to;if(l&&l.length>0)return await P$({authorization:l[0]}).catch(()=>{throw new ve("`to` is required. Could not infer from `authorizationList`")})})();lp(e);const U=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,M=(U||pm)({...h4(I,{format:U}),from:n==null?void 0:n.address,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:L,value:C});let _=BigInt(await A({block:R,request:M,rpcStateOverride:T}));if(l){const S=await dK(t,{address:M.from}),O=await Promise.all(l.map(async P=>{const{address:N}=P,D=await A({block:R,request:{authorizationList:void 0,data:p,from:n==null?void 0:n.address,to:N,value:Se(S)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(D)}));_+=O.reduce((P,N)=>P+N,0n)}return _}catch(a){throw f0e(a,{...e,account:n,chain:t.chain})}}async function sve(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,l=yi({abi:r,args:i,functionName:s});try{return await ft(t,sI,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:n,...a})}catch(c){const u=a.account?yn(a.account):void 0;throw Uf(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function oI(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(m=>Nv({abi:[m],eventName:m.name,args:o?void 0:a}))],s&&(h=h[0]));let f;r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof n=="bigint"?Se(n):n,toBlock:typeof i=="bigint"?Se(i):i}]});const p=f.map(g=>xu(g));return u?T$({abi:u,args:a,logs:p,strict:c}):p}async function hK(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?sp({abi:r,name:o}):void 0,h=u?void 0:r.filter(f=>f.type==="event");return ft(t,oI,"getLogs")({address:n,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function cl(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=yi({abi:r,args:i,functionName:s});try{const{data:l}=await ft(t,f4,"call")({...o,data:a,to:n});return op({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw Uf(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function ove(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?yn(a.account):t.account,c=yi({abi:r,args:i,functionName:o});try{const{data:u}=await ft(t,f4,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...a,account:l}),h=op({abi:r,args:i,functionName:o,data:u||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:n,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw Uf(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const h9=new Map,FM=new Map;let ave=0;function _u(t,e,r){const n=++ave,i=()=>h9.get(t)||[],s=()=>{const u=i();h9.set(t,u.filter(h=>h.id!==n))},o=()=>{const u=i();if(!u.some(f=>f.id===n))return;const h=FM.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(h9.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...h)=>{var p,g;const f=i();if(f.length!==0)for(const m of f)(g=(p=m.fns)[u])==null||g.call(p,...h)};const c=r(l);return typeof c=="function"&&FM.set(t,c),o}function mm(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(r==null?void 0:r(a))??n;await r7(l);const c=async()=>{i&&(await t({unpoll:s}),await r7(n),c())};c()})(),s}const lve=new Map,cve=new Map;function uve(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,lve),n=e(t,cve);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function dve(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=uve(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const hve=t=>`blockNumber.${t}`;async function Lv(t,{cacheTime:e=t.cacheTime}={}){const r=await dve(()=>t.request({method:"eth_blockNumber"}),{cacheKey:hve(t.uid),cacheTime:e});return BigInt(r)}async function C4(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>xu(s));return!("abi"in e)||!e.abi?i:T$({abi:e.abi,logs:i,strict:r})}async function A4(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function fve(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const w=f??!1,y=Fn(["watchContractEvent",n,i,s,t.uid,o,h,w,a]);return _u(y,{onLogs:c,onError:l},b=>{let v;a!==void 0&&(v=a-1n);let C,x=!1;const I=mm(async()=>{var $;if(!x){try{C=await ft(t,aK,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:w,fromBlock:a})}catch{}x=!0;return}try{let R;if(C)R=await ft(t,C4,"getFilterChanges")({filter:C});else{const T=await ft(t,Lv,"getBlockNumber")({});v&&v<T?R=await ft(t,hK,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:v+1n,toBlock:T,strict:w}):R=[],v=T}if(R.length===0)return;if(s)b.onLogs(R);else for(const T of R)b.onLogs([T])}catch(R){C&&R instanceof jf&&(x=!1),($=b.onError)==null||$.call(b,R)}},{emitOnBegin:!0,interval:h});return async()=>{C&&await ft(t,A4,"uninstallFilter")({filter:C}),I()}})})():(()=>{const w=f??!1,y=Fn(["watchContractEvent",n,i,s,t.uid,o,h,w]);let b=!0,v=()=>b=!1;return _u(y,{onLogs:c,onError:l},C=>((async()=>{try{const x=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),I=o?Nv({abi:r,eventName:o,args:i}):[],{unsubscribe:$}=await x.subscribe({params:["logs",{address:n,topics:I}],onData(R){var L;if(!b)return;const T=R.result;try{const{eventName:U,args:W}=I$({abi:r,data:T.data,topics:T.topics,strict:f}),M=xu(T,{args:W,eventName:U});C.onLogs([M])}catch(U){let W,M;if(U instanceof nw||U instanceof n4){if(f)return;W=U.abiItem.name,M=(L=U.abiItem.inputs)==null?void 0:L.some(_=>!("name"in _&&_.name))}const A=xu(T,{args:M?[]:{},eventName:W});C.onLogs([A])}},onError(R){var T;(T=C.onError)==null||T.call(C,R)}});v=$,b||v()}catch(x){l==null||l(x)}})(),()=>v()))})()}class cp extends ve{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class s3 extends ve{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function aI(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const f9=new t4(128);async function k4(t,e){var b,v,C,x;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:g,value:m,...w}=e;if(typeof r>"u")throw new cp({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?yn(r):null;try{lp(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await P$({authorization:s[0]}).catch(()=>{throw new ve("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let $;n!==null&&($=await ft(t,gm,"getChainId")({}),wG({currentChainId:$,chain:n}));const R=(C=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:C.format,L=(R||pm)({...h4(w,{format:R}),accessList:i,authorizationList:s,blobs:o,chainId:$,data:a,from:y==null?void 0:y.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:I,type:g,value:m}),U=f9.get(t.uid),W=U?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:W,params:[L]},{retryCount:0})}catch(M){if(U===!1)throw M;const A=M;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(_=>(f9.set(t.uid,!0),_)).catch(_=>{const S=_;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(f9.set(t.uid,!1),A):S});throw A}}if((y==null?void 0:y.type)==="local"){const $=await ft(t,_4,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:y.nonceManager,parameters:[...uK,"sidecars"],type:g,value:m,...w,to:I}),R=(x=n==null?void 0:n.serializers)==null?void 0:x.transaction,T=await y.signTransaction($,{serializer:R});return await ft(t,aI,"sendRawTransaction")({serializedTransaction:T})}throw(y==null?void 0:y.type)==="smart"?new s3({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new s3({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(I){throw I instanceof s3?I:bG(I,{...e,account:y,chain:e.chain||void 0})}}async function pve(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=e;if(typeof n>"u")throw new cp({docsPath:"/docs/contract/writeContract"});const c=n?yn(n):null,u=yi({abi:r,args:s,functionName:a});try{return await ft(t,k4,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:c,...l})}catch(h){throw Uf(h,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:c==null?void 0:c.address})}}class gve extends ve{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const fK="0x5792579257925792579257925792579257925792579257925792579257925792",pK=Se(0,{size:32});async function mve(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=r?yn(r):null,h=e.calls.map(f=>{const p=f,g=p.abi?yi({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&g?da([g,p.dataSuffix]):g,to:p.to,value:p.value?Se(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:n,chainId:Se(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(n&&Object.values(n).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Pg(new ve(b,{details:b}))}if(a&&h.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ng(new ve(y,{details:y}))}const g=[];for(const y of h){const b=k4(t,{account:u,chain:i,data:y.data,to:y.to,value:y.value?Yn(y.value):void 0});g.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(g);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const w=m.map(y=>y.status==="fulfilled"?y.value:pK);return{id:da([...w,Se(i.id,{size:32}),fK])}}throw bG(f,{...e,account:u,chain:e.chain})}}async function gK(t,e){async function r(u){if(u.endsWith(fK.slice(2))){const f=vo(HC(u,-64,-32)),p=HC(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(p.map(w=>pK.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=g.some(w=>w===null)?100:g.every(w=>(w==null?void 0:w.status)==="0x1")?200:g.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:ua(f),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:n,chainId:i?ua(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:Yn(u.blockNumber),gasUsed:Yn(u.gasUsed),status:EG[u.status]})))??[],statusCode:c,status:l,version:o}}async function yve(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=Fn(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:h,reject:f}=B$();let p;const g=_u(c,{resolve:h,reject:f},m=>{const w=mm(async()=>{const y=b=>{clearTimeout(p),w(),b(),g()};try{const b=await Ew(async()=>{const v=await ft(t,gK,"getCallsStatus")({id:r});if(l&&v.status==="failure")throw new gve(v);return v},{retryCount:s,delay:o});if(!i(b))return;y(()=>m.resolve(b))}catch(b){y(()=>m.reject(b))}},{interval:n,emitOnBegin:!0});return w});return p=a?setTimeout(()=>{g(),clearTimeout(p),f(new wve({id:r}))},a):void 0,await u}class wve extends ve{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const v7=256;let V2=v7,G2;function mK(t=11){if(!G2||V2+t>v7*2){G2="",V2=0;for(let e=0;e<v7;e++)G2+=(256+Math.random()*256|0).toString(16).substring(1)}return G2.substring(V2,V2+++t)}function lI(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(r==null?void 0:r.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?yn(t.account):void 0,{config:p,request:g,value:m}=t.transport({chain:r,pollingInterval:u}),w={...p,...m},y={account:f,batch:e,cacheTime:h,ccipRead:n,chain:r,key:i,name:s,pollingInterval:u,request:g,transport:w,type:o,uid:mK(),...a?{experimental_blockTag:a}:{}};function b(v){return C=>{const x=C(v);for(const $ in y)delete x[$];const I={...v,...x};return Object.assign(I,{extend:b(I)})}}return Object.assign(y,{extend:b(y)})}function cI(t){var r,n,i,s,o,a;if(!(t instanceof ve))return!1;const e=t.walk(l=>l instanceof s7);return e instanceof s7?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((n=e.data)==null?void 0:n.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function yK(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return qi(e)?e:null}function b7(t){let e=new Uint8Array(32).fill(0);if(!t)return $n(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=yK(r[n]),s=i?dm(i):gi(vf(r[n]),"bytes");e=gi(da([e,s]),"bytes")}return $n(e)}function vve(t){return`[${t.slice(2)}]`}function bve(t){const e=new Uint8Array(32).fill(0);return t?yK(t)||gi(vf(t)):$n(e)}function uI(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(vf(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=vf(i[s]);o.byteLength>255&&(o=vf(vve(bve(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function xve(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return fm({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[b7(s),BigInt(i)]:[b7(s)];try{const f=yi({abi:qO,functionName:"addr",args:h}),p={address:c,abi:uG,functionName:"resolveWithGateways",args:[Pr(uI(s)),f,o??[p4]],blockNumber:r,blockTag:n},m=await ft(t,cl,"readContract")(p);if(m[0]==="0x")return null;const w=op({abi:qO,args:h,functionName:"addr",data:m[0]});return w==="0x"||vo(w)==="0x00"?null:w}catch(f){if(a)throw f;if(cI(f))return null;throw f}}class Eve extends ve{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class r1 extends ve{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class dI extends ve{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _ve extends ve{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Cve=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ave=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,kve=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Sve=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function $ve(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function UM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function wK({uri:t,gatewayUrls:e}){const r=kve.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=UM(e==null?void 0:e.ipfs,"https://ipfs.io"),i=UM(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(Cve),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||Ave.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(Sve,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new dI({uri:t})}function vK(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Eve({data:t});return t.image||t.image_url||t.image_data}async function Ive({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await hI({gatewayUrls:t,uri:vK(r)})}catch{throw new dI({uri:e})}}async function hI({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=wK({uri:e,gatewayUrls:t});if(n||await $ve(r))return r;throw new dI({uri:e})}function Tve(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new r1({reason:"Only EIP-155 supported"});if(!o)throw new r1({reason:"Chain ID not found"});if(!l)throw new r1({reason:"Contract address not found"});if(!i)throw new r1({reason:"Token ID not found"});if(!a)throw new r1({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function Pve(t,{nft:e}){if(e.namespace==="erc721")return cl(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return cl(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new _ve({namespace:e.namespace})}async function Nve(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?Ove(t,{gatewayUrls:e,record:r}):hI({uri:r,gatewayUrls:e})}async function Ove(t,{gatewayUrls:e,record:r}){const n=Tve(r),i=await Pve(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=wK({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return hI({uri:vK(u),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),Ive({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function bK(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return fm({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:uG,args:[Pr(uI(s)),yi({abi:HO,functionName:"text",args:[b7(s),i]}),o??[p4]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await ft(t,cl,"readContract")(h);if(p[0]==="0x")return null;const g=op({abi:HO,functionName:"text",data:p[0]});return g===""?null:g}catch(h){if(a)throw h;if(cI(h))return null;throw h}}async function Mve(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await ft(t,bK,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await Nve(t,{record:l,gatewayUrls:n})}catch{return null}}async function Rve(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return fm({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:Gpe,args:[r,s,o??[p4]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},h=ft(t,cl,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(cI(u))return null;throw u}}async function jve(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return fm({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await ft(t,cl,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Pr(uI(i))],blockNumber:r,blockTag:n});return l}async function xK(t,e){var w,y,b;const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...g}=e,m=r?yn(r):void 0;try{lp(e);const C=(typeof n=="bigint"?Se(n):void 0)||i,x=(b=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,$=(x||pm)({...h4(g,{format:x}),from:m==null?void 0:m.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p}),R=await t.request({method:"eth_createAccessList",params:[$,C]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(v){throw gG(v,{...e,account:m,chain:t.chain})}}async function Dve(t){const e=E4(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function EK(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(n?[n]:void 0),c=E4(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>Nv({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Se(s):s,toBlock:typeof a=="bigint"?Se(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function _K(t){const e=E4(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function Lve(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Fve(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?Se(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),ua(s)}async function x7(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?Se(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class Uve extends ve{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Bve(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await ft(t,cl,"readContract")({abi:zve,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Uve({address:r}):o}}const zve=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Wve(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function Hve(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?Se(r):void 0,o=await t.request({method:"eth_feeHistory",params:[Se(e),s||n,i]},{dedupe:!!s});return Wve(o)}async function qve(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>xu(s));return e.abi?T$({abi:e.abi,logs:i,strict:r}):i}function Vve(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Gve(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ua(t.nonce):void 0,storageProof:t.storageProof?Vve(t.storageProof):void 0}}async function Kve(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?Se(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return Gve(a)}async function Yve(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?Se(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function fI(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var u,h,f;const o=n||"latest",a=r!==void 0?Se(r):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Se(s)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Se(s)]},{dedupe:!!a}),!l)throw new jV({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||g4)(l)}async function Qve(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([ft(t,Lv,"getBlockNumber")({}),e?ft(t,fI,"getTransaction")({hash:e}):void 0]),s=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return s?n-s+1n:0n}async function o3(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new DV({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||_G)(r)}async function Zve(t,e){var b;const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return fm({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let g=0,m=0;for(let v=0;v<c.length;v++){const{abi:C,address:x,args:I,functionName:$}=c[v];try{const R=yi({abi:C,args:I,functionName:$});m+=(R.length-2)/2,u>0&&m>u&&p[g].length>0&&(g++,m=(R.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:R,target:x}]}catch(R){const T=Uf(R,{abi:C,address:x,args:I,docsPath:"/docs/contract/multicall",functionName:$,sender:r});if(!i)throw T;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:x}]}}const w=await Promise.allSettled(p.map(v=>ft(t,cl,"readContract")({...f===null?{code:F$}:{address:f},abi:y5,account:r,args:[v],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),y=[];for(let v=0;v<w.length;v++){const C=w[v];if(C.status==="rejected"){if(!i)throw C.reason;for(let I=0;I<p[v].length;I++)y.push({status:"failure",error:C.reason,result:void 0});continue}const x=C.value;for(let I=0;I<x.length;I++){const{returnData:$,success:R}=x[I],{callData:T}=p[v][I],{abi:L,address:U,functionName:W,args:M}=c[y.length];try{if(T==="0x")throw new Tv;if(!R)throw new u4({data:$});const A=op({abi:L,args:M,data:$,functionName:W});y.push(i?{result:A,status:"success"}:A)}catch(A){const _=Uf(A,{abi:L,address:U,args:M,docsPath:"/docs/contract/multicall",functionName:W});if(!i)throw _;y.push({error:_,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new ve("multicall results mismatch");return y}async function E7(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?lG(f.blockOverrides):void 0,g=f.calls.map(w=>{const y=w,b=y.account?yn(y.account):void 0,v=y.abi?yi(y):y.data,C={...y,data:y.dataSuffix?da([v||"0x",y.dataSuffix]):v,from:y.from??(b==null?void 0:b.address)};return lp(C),pm(C)}),m=f.stateOverrides?z$(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:g,stateOverrides:m})}const u=(typeof r=="bigint"?Se(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...W$(f),calls:f.calls.map((g,m)=>{var L,U;const{abi:w,args:y,functionName:b,to:v}=i[p].calls[m],C=((L=g.error)==null?void 0:L.data)??g.returnData,x=BigInt(g.gasUsed),I=(U=g.logs)==null?void 0:U.map(W=>xu(W)),$=g.status==="0x1"?"success":"failure",R=w&&$==="success"&&C!=="0x"?op({abi:w,data:C,functionName:b}):null,T=(()=>{var M;if($==="success")return;let W;if(((M=g.error)==null?void 0:M.data)==="0x"?W=new Tv:g.error&&(W=new u4(g.error)),!!W)return Uf(W,{abi:w??[],address:v??"0x",args:y,functionName:b??"<unknown>"})})();return{data:C,gasUsed:x,logs:I,status:$,...$==="success"?{result:R}:{error:T}}})}))}catch(l){const c=l,u=d4(c,{});throw u instanceof Rv?c:u}}function _7(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new Xt("Unable to normalize signature.");return i}function C7(t,e){const r=typeof t,n=e.type;switch(n){case"address":return o7(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>C7(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>C7(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function CK(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return CK(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?o7(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?o7(r[n],{strict:!1}):!1)return o}}function AK(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?mO(t):t;return{...n,...r?{hash:I0(n)}:{}}}function Jve(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=Wpe(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?kK(c)===rc(e,0,4):c.type==="event"?I0(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new A7({name:e});if(o.length===1)return{...o[0],...i?{hash:I0(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:I0(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?C7(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=CK(c.inputs,a.inputs,n);if(h)throw new e2e({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new A7({name:e});return{...l,...i?{hash:I0(l)}:{}}}function kK(t){return rc(I0(t),0,4)}function Xve(t){const e=typeof t=="string"?t:m5(t);return _7(e)}function I0(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:NG(L$(Xve(t)))}class e2e extends Xt{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${_7(m5(e.abiItem))}\`, and`,`\`${r.type}\` in \`${_7(m5(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class A7 extends Xt{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function t2e(t,e){var i;const{bytecode:r,args:n}=e;return al(r,(i=t.inputs)!=null&&i.length&&(n!=null&&n.length)?K$(t.inputs,n):"0x")}function r2e(t){return AK(t)}function n2e(t,...e){const{overloads:r}=t,n=r?i2e([t,...r],t.name,{args:e[0]}):t,i=s2e(n),s=e.length>0?K$(n.inputs,e[0]):void 0;return s?al(i,s):i}function Op(t,e={}){return AK(t,e)}function i2e(t,e,r){const n=Jve(t,e,r);if(n.type!=="function")throw new A7({name:e,type:"function"});return n}function s2e(t){return kK(t)}const o2e="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Cl="0x0000000000000000000000000000000000000000",a2e="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function l2e(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?yn(e.account):void 0;if(o&&!c)throw new ve("`account` is required when `traceAssetChanges` is true");const u=c?t2e(r2e("constructor(bytes, bytes)"),{bytecode:hG,args:[a2e,n2e(Op("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async P=>{if(!P.data&&!P.abi)return;const{accessList:N}=await xK(t,{account:c.address,...P,data:P.abi?yi(P):P.data});return N.map(({address:D,storageKeys:F})=>F.length>0?D:null)})).then(P=>P.flat().filter(Boolean)):[],f=await E7(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((P,N)=>({abi:[Op("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:P,from:Cl,nonce:N})),stateOverrides:[{address:Cl,nonce:0}]}]:[],{calls:[...i,{}].map(P=>({...P,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((P,N)=>({abi:[Op("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:P,from:Cl,nonce:N})),stateOverrides:[{address:Cl,nonce:0}]},{calls:h.map((P,N)=>({to:P,abi:[Op("function decimals() returns (uint256)")],functionName:"decimals",from:Cl,nonce:N})),stateOverrides:[{address:Cl,nonce:0}]},{calls:h.map((P,N)=>({to:P,abi:[Op("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Cl,nonce:N})),stateOverrides:[{address:Cl,nonce:0}]},{calls:h.map((P,N)=>({to:P,abi:[Op("function symbol() returns (string)")],functionName:"symbol",from:Cl,nonce:N})),stateOverrides:[{address:Cl,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[g,m,,w,y,b,v,C]=o?f:[],{calls:x,...I}=p,$=x.slice(0,-1)??[],R=(g==null?void 0:g.calls)??[],T=(m==null?void 0:m.calls)??[],L=[...R,...T].map(P=>P.status==="success"?Yn(P.data):null),U=(w==null?void 0:w.calls)??[],W=(y==null?void 0:y.calls)??[],M=[...U,...W].map(P=>P.status==="success"?Yn(P.data):null),A=((b==null?void 0:b.calls)??[]).map(P=>P.status==="success"?P.result:null),_=((C==null?void 0:C.calls)??[]).map(P=>P.status==="success"?P.result:null),S=((v==null?void 0:v.calls)??[]).map(P=>P.status==="success"?P.result:null),O=[];for(const[P,N]of M.entries()){const D=L[P];if(typeof N!="bigint"||typeof D!="bigint")continue;const F=A[P-1],k=_[P-1],z=S[P-1],V=P===0?{address:o2e,decimals:18,symbol:"ETH"}:{address:h[P-1],decimals:z||F?Number(F??1):void 0,symbol:k??void 0};O.some(j=>j.token.address===V.address)||O.push({token:V,value:{pre:D,post:N,diff:N-D}})}return{assetChanges:O,block:I,results:$}}const SK="0x6492649264926492649264926492649264926492649264926492649264926492";function c2e(t){if(rc(t,-32)!==SK)throw new h2e(t)}function u2e(t){const{data:e,signature:r,to:n}=t;return al(K$(RG("address, bytes, bytes"),[n,e,r]),SK)}function d2e(t){try{return c2e(t),!0}catch{return!1}}class h2e extends Xt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pI=BigInt(0),k7=BigInt(1);function Fv(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gI(t){if(!Fv(t))throw new Error("Uint8Array expected")}function Lw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function K2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $K(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?pI:BigInt("0x"+t)}const IK=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",f2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fw(t){if(gI(t),IK)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=f2e[t[r]];return e}const Tc={_0:48,_9:57,A:65,F:70,a:97,f:102};function BM(t){if(t>=Tc._0&&t<=Tc._9)return t-Tc._0;if(t>=Tc.A&&t<=Tc.F)return t-(Tc.A-10);if(t>=Tc.a&&t<=Tc.f)return t-(Tc.a-10)}function b5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(IK)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=BM(t.charCodeAt(s)),a=BM(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function xf(t){return $K(Fw(t))}function TK(t){return gI(t),$K(Fw(Uint8Array.from(t).reverse()))}function Uv(t,e){return b5(t.toString(16).padStart(e*2,"0"))}function PK(t,e){return Uv(t,e).reverse()}function Vo(t,e,r){let n;if(typeof e=="string")try{n=b5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Fv(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function x5(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];gI(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const p9=t=>typeof t=="bigint"&&pI<=t;function mI(t,e,r){return p9(t)&&p9(e)&&p9(r)&&e<=t&&t<r}function Q0(t,e,r,n){if(!mI(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function p2e(t){let e;for(e=0;t>pI;t>>=k7,e+=1);return e}const S4=t=>(k7<<BigInt(t))-k7,g9=t=>new Uint8Array(t),zM=t=>Uint8Array.from(t);function g2e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=g9(t),i=g9(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),l=(h=g9(0))=>{i=a(zM([0]),h),n=a(),h.length!==0&&(i=a(zM([1]),h),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){n=a();const p=n.slice();f.push(p),h+=n.length}return x5(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const m2e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Fv(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $4(t,e,r={}){const n=(i,s,o)=>{const a=m2e[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function WM(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const js=BigInt(0),hs=BigInt(1),tf=BigInt(2),y2e=BigInt(3),NK=BigInt(4),OK=BigInt(5),MK=BigInt(8);function Ts(t,e){const r=t%e;return r>=js?r:e+r}function Ro(t,e,r){let n=t;for(;e-- >js;)n*=n,n%=r;return n}function S7(t,e){if(t===js)throw new Error("invert: expected non-zero number");if(e<=js)throw new Error("invert: expected positive modulus, got "+e);let r=Ts(t,e),n=e,i=js,s=hs;for(;r!==js;){const a=n/r,l=n%r,c=i-s*a;n=r,r=l,i=s,s=c}if(n!==hs)throw new Error("invert: does not exist");return Ts(i,e)}function RK(t,e){const r=(t.ORDER+hs)/NK,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function w2e(t,e){const r=(t.ORDER-OK)/MK,n=t.mul(e,tf),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,tf),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function v2e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-hs,r=0;for(;e%tf===js;)e/=tf,r++;let n=tf;const i=yI(t);for(;HM(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return RK;let s=i.pow(n,e);const o=(e+hs)/tf;return function(l,c){if(l.is0(c))return c;if(HM(l,c)!==1)throw new Error("Cannot find square root");let u=r,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let g=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const w=hs<<BigInt(u-g-1),y=l.pow(h,w);u=g,h=l.sqr(y),f=l.mul(f,h),p=l.mul(p,y)}return p}}function b2e(t){return t%NK===y2e?RK:t%MK===OK?w2e:v2e(t)}const x2e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E2e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=x2e.reduce((n,i)=>(n[i]="function",n),e);return $4(t,r)}function _2e(t,e,r){if(r<js)throw new Error("invalid exponent, negatives unsupported");if(r===js)return t.ONE;if(r===hs)return e;let n=t.ONE,i=e;for(;r>js;)r&hs&&(n=t.mul(n,i)),i=t.sqr(i),r>>=hs;return n}function jK(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function HM(t,e){const r=(t.ORDER-hs)/tf,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function DK(t,e){e!==void 0&&rw(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function yI(t,e,r=!1,n={}){if(t<=js)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=DK(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:S4(i),ZERO:js,ONE:hs,create:l=>Ts(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return js<=l&&l<t},is0:l=>l===js,isOdd:l=>(l&hs)===hs,neg:l=>Ts(-l,t),eql:(l,c)=>l===c,sqr:l=>Ts(l*l,t),add:(l,c)=>Ts(l+c,t),sub:(l,c)=>Ts(l-c,t),mul:(l,c)=>Ts(l*c,t),pow:(l,c)=>_2e(a,l,c),div:(l,c)=>Ts(l*S7(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>S7(l,t),sqrt:n.sqrt||(l=>(o||(o=b2e(t)),o(a,l))),toBytes:l=>r?PK(l,s):Uv(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?TK(l):xf(l)},invertBatch:l=>jK(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function LK(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function FK(t){const e=LK(t);return e+Math.ceil(e/2)}function C2e(t,e,r=!1){const n=t.length,i=LK(e),s=FK(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?TK(t):xf(t),a=Ts(o,e-hs)+hs;return r?PK(a,i):Uv(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qM=BigInt(0),$7=BigInt(1);function m9(t,e){const r=e.negate();return t?r:e}function UK(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function y9(t,e){UK(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=S4(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function VM(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=$7);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function A2e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function k2e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const w9=new WeakMap,BK=new WeakMap;function v9(t){return BK.get(t)||1}function S2e(t,e){return{constTimeNegate:m9,hasPrecomputes(r){return v9(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>qM;)n&$7&&(i=i.add(s)),s=s.double(),n>>=$7;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=y9(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=y9(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:g}=VM(i,l,a);i=c,h?o=o.add(m9(p,n[g])):s=s.add(m9(f,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=y9(r,e);for(let a=0;a<o.windows&&i!==qM;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=VM(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(r,n,i){let s=w9.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&w9.set(n,i(s))),s},wNAFCached(r,n,i){const s=v9(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=v9(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){UK(n,e),BK.set(r,n),w9.delete(r)}}}function $2e(t,e,r,n){A2e(r,t),k2e(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=p2e(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=S4(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(f=f.add(g),p!==0)for(let m=0;m<l;m++)f=f.double()}return f}function zK(t){return E2e(t.Fp),$4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...DK(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GM(t){t.lowS!==void 0&&Lw("lowS",t.lowS),t.prehash!==void 0&&Lw("prehash",t.prehash)}function I2e(t){const e=zK(t);$4(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class T2e extends Error{constructor(e=""){super(e)}}const Yc={Err:T2e,_tlv:{encode:(t,e)=>{const{Err:r}=Yc;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=K2(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?K2(i.length/2|128):"";return K2(t)+s+i+e},decode(t,e){const{Err:r}=Yc;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Yc;if(t<nu)throw new e("integer: negative integers are not allowed");let r=K2(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Yc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xf(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Yc,i=Vo("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Yc,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function b9(t,e){return Fw(Uv(t,e))}const nu=BigInt(0),qn=BigInt(1);BigInt(2);const x9=BigInt(3),P2e=BigInt(4);function N2e(t){const e=I2e(t),{Fp:r}=e,n=yI(e.n,e.nBitLength),i=e.toBytes||((v,C,x)=>{const I=C.toAffine();return x5(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),s=e.fromBytes||(v=>{const C=v.subarray(1),x=r.fromBytes(C.subarray(0,r.BYTES)),I=r.fromBytes(C.subarray(r.BYTES,2*r.BYTES));return{x,y:I}});function o(v){const{a:C,b:x}=e,I=r.sqr(v),$=r.mul(I,v);return r.add(r.add($,r.mul(v,C)),x)}function a(v,C){const x=r.sqr(C),I=o(v);return r.eql(x,I)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,x9),P2e),c=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,c)))throw new Error("bad curve params: a or b");function u(v){return mI(v,qn,e.n)}function h(v){const{allowedPrivateKeyLengths:C,nByteLength:x,wrapPrivateKey:I,n:$}=e;if(C&&typeof v!="bigint"){if(Fv(v)&&(v=Fw(v)),typeof v!="string"||!C.includes(v.length))throw new Error("invalid private key");v=v.padStart(x*2,"0")}let R;try{R=typeof v=="bigint"?v:xf(Vo("private key",v,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof v)}return I&&(R=Ts(R,$)),Q0("private key",R,qn,$),R}function f(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const p=WM((v,C)=>{const{px:x,py:I,pz:$}=v;if(r.eql($,r.ONE))return{x,y:I};const R=v.is0();C==null&&(C=R?r.ONE:r.inv($));const T=r.mul(x,C),L=r.mul(I,C),U=r.mul($,C);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),g=WM(v=>{if(v.is0()){if(e.allowInfinityPoint&&!r.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:C,y:x}=v.toAffine();if(!r.isValid(C)||!r.isValid(x))throw new Error("bad point: x or y not FE");if(!a(C,x))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(C,x,I){if(C==null||!r.isValid(C))throw new Error("x required");if(x==null||!r.isValid(x)||r.is0(x))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required");this.px=C,this.py=x,this.pz=I,Object.freeze(this)}static fromAffine(C){const{x,y:I}=C||{};if(!C||!r.isValid(x)||!r.isValid(I))throw new Error("invalid affine point");if(C instanceof m)throw new Error("projective point not allowed");const $=R=>r.eql(R,r.ZERO);return $(x)&&$(I)?m.ZERO:new m(x,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const x=jK(r,C.map(I=>I.pz));return C.map((I,$)=>I.toAffine(x[$])).map(m.fromAffine)}static fromHex(C){const x=m.fromAffine(s(Vo("pointHex",C)));return x.assertValidity(),x}static fromPrivateKey(C){return m.BASE.multiply(h(C))}static msm(C,x){return $2e(m,n,C,x)}_setWindowSize(C){b.setWindowSize(this,C)}assertValidity(){g(this)}hasEvenY(){const{y:C}=this.toAffine();if(r.isOdd)return!r.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){f(C);const{px:x,py:I,pz:$}=this,{px:R,py:T,pz:L}=C,U=r.eql(r.mul(x,L),r.mul(R,$)),W=r.eql(r.mul(I,L),r.mul(T,$));return U&&W}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:x}=e,I=r.mul(x,x9),{px:$,py:R,pz:T}=this;let L=r.ZERO,U=r.ZERO,W=r.ZERO,M=r.mul($,$),A=r.mul(R,R),_=r.mul(T,T),S=r.mul($,R);return S=r.add(S,S),W=r.mul($,T),W=r.add(W,W),L=r.mul(C,W),U=r.mul(I,_),U=r.add(L,U),L=r.sub(A,U),U=r.add(A,U),U=r.mul(L,U),L=r.mul(S,L),W=r.mul(I,W),_=r.mul(C,_),S=r.sub(M,_),S=r.mul(C,S),S=r.add(S,W),W=r.add(M,M),M=r.add(W,M),M=r.add(M,_),M=r.mul(M,S),U=r.add(U,M),_=r.mul(R,T),_=r.add(_,_),M=r.mul(_,S),L=r.sub(L,M),W=r.mul(_,A),W=r.add(W,W),W=r.add(W,W),new m(L,U,W)}add(C){f(C);const{px:x,py:I,pz:$}=this,{px:R,py:T,pz:L}=C;let U=r.ZERO,W=r.ZERO,M=r.ZERO;const A=e.a,_=r.mul(e.b,x9);let S=r.mul(x,R),O=r.mul(I,T),P=r.mul($,L),N=r.add(x,I),D=r.add(R,T);N=r.mul(N,D),D=r.add(S,O),N=r.sub(N,D),D=r.add(x,$);let F=r.add(R,L);return D=r.mul(D,F),F=r.add(S,P),D=r.sub(D,F),F=r.add(I,$),U=r.add(T,L),F=r.mul(F,U),U=r.add(O,P),F=r.sub(F,U),M=r.mul(A,D),U=r.mul(_,P),M=r.add(U,M),U=r.sub(O,M),M=r.add(O,M),W=r.mul(U,M),O=r.add(S,S),O=r.add(O,S),P=r.mul(A,P),D=r.mul(_,D),O=r.add(O,P),P=r.sub(S,P),P=r.mul(A,P),D=r.add(D,P),S=r.mul(O,D),W=r.add(W,S),S=r.mul(F,D),U=r.mul(N,U),U=r.sub(U,S),S=r.mul(N,O),M=r.mul(F,M),M=r.add(M,S),new m(U,W,M)}subtract(C){return this.add(C.negate())}is0(){return this.equals(m.ZERO)}wNAF(C){return b.wNAFCached(this,C,m.normalizeZ)}multiplyUnsafe(C){const{endo:x,n:I}=e;Q0("scalar",C,nu,I);const $=m.ZERO;if(C===nu)return $;if(this.is0()||C===qn)return this;if(!x||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,C,m.normalizeZ);let{k1neg:R,k1:T,k2neg:L,k2:U}=x.splitScalar(C),W=$,M=$,A=this;for(;T>nu||U>nu;)T&qn&&(W=W.add(A)),U&qn&&(M=M.add(A)),A=A.double(),T>>=qn,U>>=qn;return R&&(W=W.negate()),L&&(M=M.negate()),M=new m(r.mul(M.px,x.beta),M.py,M.pz),W.add(M)}multiply(C){const{endo:x,n:I}=e;Q0("scalar",C,qn,I);let $,R;if(x){const{k1neg:T,k1:L,k2neg:U,k2:W}=x.splitScalar(C);let{p:M,f:A}=this.wNAF(L),{p:_,f:S}=this.wNAF(W);M=b.constTimeNegate(T,M),_=b.constTimeNegate(U,_),_=new m(r.mul(_.px,x.beta),_.py,_.pz),$=M.add(_),R=A.add(S)}else{const{p:T,f:L}=this.wNAF(C);$=T,R=L}return m.normalizeZ([$,R])[0]}multiplyAndAddUnsafe(C,x,I){const $=m.BASE,R=(L,U)=>U===nu||U===qn||!L.equals($)?L.multiplyUnsafe(U):L.multiply(U),T=R(this,x).add(R(C,I));return T.is0()?void 0:T}toAffine(C){return p(this,C)}isTorsionFree(){const{h:C,isTorsionFree:x}=e;if(C===qn)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:x}=e;return C===qn?this:x?x(m,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return Lw("isCompressed",C),this.assertValidity(),i(m,this,C)}toHex(C=!0){return Lw("isCompressed",C),Fw(this.toRawBytes(C))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:w,nBitLength:y}=e,b=S2e(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function O2e(t){const e=zK(t);return $4(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function M2e(t){const e=O2e(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function l(_){return Ts(_,n)}function c(_){return S7(_,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=N2e({...e,toBytes(_,S,O){const P=S.toAffine(),N=r.toBytes(P.x),D=x5;return Lw("isCompressed",O),O?D(Uint8Array.from([S.hasEvenY()?2:3]),N):D(Uint8Array.from([4]),N,r.toBytes(P.y))},fromBytes(_){const S=_.length,O=_[0],P=_.subarray(1);if(S===o&&(O===2||O===3)){const N=xf(P);if(!mI(N,qn,r.ORDER))throw new Error("Point is not on curve");const D=f(N);let F;try{F=r.sqrt(D)}catch(V){const j=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+j)}const k=(F&qn)===qn;return(O&1)===1!==k&&(F=r.neg(F)),{x:N,y:F}}else if(S===a&&O===4){const N=r.fromBytes(P.subarray(0,r.BYTES)),D=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:N,y:D}}else{const N=o,D=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+D+", got "+S)}}});function g(_){const S=n>>qn;return _>S}function m(_){return g(_)?l(-_):_}const w=(_,S,O)=>xf(_.slice(S,O));class y{constructor(S,O,P){Q0("r",S,qn,n),Q0("s",O,qn,n),this.r=S,this.s=O,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(S){const O=i;return S=Vo("compactSignature",S,O*2),new y(w(S,0,O),w(S,O,2*O))}static fromDER(S){const{r:O,s:P}=Yc.toSig(Vo("DER",S));return new y(O,P)}assertValidity(){}addRecoveryBit(S){return new y(this.r,this.s,S)}recoverPublicKey(S){const{r:O,s:P,recovery:N}=this,D=$(Vo("msgHash",S));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const F=N===2||N===3?O+e.n:O;if(F>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=N&1?"03":"02",z=u.fromHex(k+b9(F,r.BYTES)),V=c(F),j=l(-D*V),G=l(P*V),Q=u.BASE.multiplyAndAddUnsafe(z,j,G);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return b5(this.toDERHex())}toDERHex(){return Yc.hexFromSig(this)}toCompactRawBytes(){return b5(this.toCompactHex())}toCompactHex(){const S=i;return b9(this.r,S)+b9(this.s,S)}}const b={isValidPrivateKey(_){try{return h(_),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const _=FK(e.n);return C2e(e.randomBytes(_),e.n)},precompute(_=8,S=u.BASE){return S._setWindowSize(_),S.multiply(BigInt(3)),S}};function v(_,S=!0){return u.fromPrivateKey(_).toRawBytes(S)}function C(_){if(typeof _=="bigint")return!1;if(_ instanceof u)return!0;const O=Vo("key",_).length,P=r.BYTES,N=P+1,D=2*P+1;if(!(e.allowedPrivateKeyLengths||i===N))return O===N||O===D}function x(_,S,O=!0){if(C(_)===!0)throw new Error("first arg must be private key");if(C(S)===!1)throw new Error("second arg must be public key");return u.fromHex(S).multiply(h(_)).toRawBytes(O)}const I=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const S=xf(_),O=_.length*8-s;return O>0?S>>BigInt(O):S},$=e.bits2int_modN||function(_){return l(I(_))},R=S4(s);function T(_){return Q0("num < 2^"+s,_,nu,R),Uv(_,i)}function L(_,S,O=U){if(["recovered","canonical"].some(re=>re in O))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:N}=e;let{lowS:D,prehash:F,extraEntropy:k}=O;D==null&&(D=!0),_=Vo("msgHash",_),GM(O),F&&(_=Vo("prehashed msgHash",P(_)));const z=$(_),V=h(S),j=[T(V),T(z)];if(k!=null&&k!==!1){const re=k===!0?N(r.BYTES):k;j.push(Vo("extraEntropy",re))}const G=x5(...j),Q=z;function K(re){const le=I(re);if(!p(le))return;const ne=c(le),ae=u.BASE.multiply(le).toAffine(),ye=l(ae.x);if(ye===nu)return;const de=l(ne*l(Q+ye*V));if(de===nu)return;let he=(ae.x===ye?0:2)|Number(ae.y&qn),Xe=de;return D&&g(de)&&(Xe=m(de),he^=1),new y(ye,Xe,he)}return{seed:G,k2sig:K}}const U={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function M(_,S,O=U){const{seed:P,k2sig:N}=L(_,S,O),D=e;return g2e(D.hash.outputLen,D.nByteLength,D.hmac)(P,N)}u.BASE._setWindowSize(8);function A(_,S,O,P=W){var he;const N=_;S=Vo("msgHash",S),O=Vo("publicKey",O);const{lowS:D,prehash:F,format:k}=P;if(GM(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const z=typeof N=="string"||Fv(N),V=!z&&!k&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!z&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,G;try{if(V&&(j=new y(N.r,N.s)),z){try{k!=="compact"&&(j=y.fromDER(N))}catch(Xe){if(!(Xe instanceof Yc.Err))throw Xe}!j&&k!=="der"&&(j=y.fromCompact(N))}G=u.fromHex(O)}catch{return!1}if(!j||D&&j.hasHighS())return!1;F&&(S=e.hash(S));const{r:Q,s:K}=j,re=$(S),le=c(K),ne=l(re*le),ae=l(Q*le),ye=(he=u.BASE.multiplyAndAddUnsafe(G,ne,ae))==null?void 0:he.toAffine();return ye?l(ye.x)===Q:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:x,sign:M,verify:A,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R2e(t){return{hash:t,hmac:(e,...r)=>FG(t,e,fhe(...r)),randomBytes:ghe}}function j2e(t,e){const r=n=>M2e({...t,...R2e(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const WK=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),KM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),D2e=BigInt(0),L2e=BigInt(1),I7=BigInt(2),YM=(t,e)=>(t+e/I7)/e;function F2e(t){const e=WK,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=Ro(u,r,e)*u%e,f=Ro(h,r,e)*u%e,p=Ro(f,I7,e)*c%e,g=Ro(p,i,e)*p%e,m=Ro(g,s,e)*g%e,w=Ro(m,a,e)*m%e,y=Ro(w,l,e)*w%e,b=Ro(y,a,e)*m%e,v=Ro(b,r,e)*u%e,C=Ro(v,o,e)*g%e,x=Ro(C,n,e)*c%e,I=Ro(x,I7,e);if(!T7.eql(T7.sqr(I),t))throw new Error("Cannot find square root");return I}const T7=yI(WK,void 0,void 0,{sqrt:F2e}),HK=j2e({a:D2e,b:BigInt(7),Fp:T7,n:KM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=KM,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-L2e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=YM(s*t,e),l=YM(-n*t,e);let c=Ts(t-a*r-l*i,e),u=Ts(-a*n-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},BV),U2e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:HK},Symbol.toStringTag,{value:"Module"}));function B2e({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new HK.Signature(Yn(t),Yn(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:sl(o)}async function I4(t,e){var a,l,c,u,h,f;const{address:r,hash:n,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((c=(l=(a=t.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:s=e.multicallAddress??((f=(h=(u=t.chain)==null?void 0:u.contracts)==null?void 0:h.multicall3)==null?void 0:f.address)}=e,o=(()=>{const p=e.signature;return qi(p)?p:typeof p=="object"&&"r"in p&&"s"in p?B2e(p):$n(p)})();try{return Ege(o)?await z2e(t,{...e,multicallAddress:s,signature:o}):await W2e(t,{...e,verifierAddress:i,signature:o})}catch(p){try{if(Ov(Ur(r),await MV({hash:n,signature:o})))return!0}catch{}if(p instanceof Bf)return!1;throw p}}async function z2e(t,e){var w;const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=xge(e.signature);if(await x7(t,{address:r,blockNumber:n,blockTag:i})===wl(["0xef0100",a.address]))return await H2e(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Se(a.r,{size:32}),s:Se(a.s,{size:32}),yParity:a.yParity};if(!await hpe({address:r,authorization:f}))throw new Bf;const g=await ft(t,cl,"readContract")({...o?{address:o}:{code:F$},authorizationList:[f],abi:y5,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??r,callData:l}]:[],{allowFailure:!0,target:r,callData:yi({abi:dG,functionName:"isValidSignature",args:[s,c]})}]]}),m=(w=g[g.length-1])==null?void 0:w.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Bf}async function W2e(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!n&&!i||d2e(o)?o:u2e({data:i,signature:o,to:n}))(),u=a?{to:a,data:yi({abi:VO,functionName:"isValidSig",args:[r,s,c]}),...l}:{data:s4({abi:VO,args:[r,s,c],bytecode:Qpe}),...l},{data:h}=await ft(t,f4,"call")(u).catch(f=>{throw f instanceof fG?new Bf:f});if(Ude(h??"0x0"))return!0;throw new Bf}async function H2e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=e;if((await ft(t,cl,"readContract")({address:r,abi:dG,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof pG?new Bf:l})).startsWith("0x1626ba7e"))return!0;throw new Bf}class Bf extends Error{}async function q2e(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=AG(r);return I4(t,{address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function V2e(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=S0e({message:o,primaryType:a,types:l,domain:c});return I4(t,{address:r,factory:n,factoryData:i,hash:h,signature:s,...u})}function qK(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=Fn(["watchBlockNumber",t.uid,e,r,o]);return _u(h,{onBlockNumber:n,onError:i},f=>mm(async()=>{var p;try{const g=await ft(t,Lv,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(g===l)return;if(g-l>1&&r)for(let m=l+1n;m<g;m++)f.onBlockNumber(m,l),l=m}(l===void 0||g>l)&&(f.onBlockNumber(g,l),l=g)}catch(g){(p=f.onError)==null||p.call(f,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=Fn(["watchBlockNumber",t.uid,e,r]);return _u(h,{onBlockNumber:n,onError:i},f=>{let p=!0,g=()=>p=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(y){var v;if(!p)return;const b=Yn((v=y.result)==null?void 0:v.number);f.onBlockNumber(b,l),l=b},onError(y){var b;(b=f.onError)==null||b.call(f,y)}});g=w,p||g()}catch(m){i==null||i(m)}})(),()=>g()})})()}async function G2e(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:x})=>~~(1<<x)*200,timeout:l=18e4}=e,c=Fn(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var x;return e.pollingInterval?e.pollingInterval:(x=t.chain)!=null&&x.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,f,p,g=!1,m,w;const{promise:y,resolve:b,reject:v}=B$(),C=l?setTimeout(()=>{w==null||w(),m==null||m(),v(new Lfe({hash:i}))},l):void 0;return m=_u(c,{onReplaced:s,resolve:b,reject:v},async x=>{if(p=await ft(t,o3,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&n<=1){clearTimeout(C),x.resolve(p),m==null||m();return}w=ft(t,qK,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(I){const $=T=>{clearTimeout(C),w==null||w(),T(),m==null||m()};let R=I;if(!g)try{if(p){if(n>1&&(!p.blockNumber||R-p.blockNumber+1n<n))return;$(()=>x.resolve(p));return}if(r&&!h&&(g=!0,await Ew(async()=>{h=await ft(t,fI,"getTransaction")({hash:i}),h.blockNumber&&(R=h.blockNumber)},{delay:a,retryCount:o}),g=!1),p=await ft(t,o3,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||R-p.blockNumber+1n<n))return;$(()=>x.resolve(p))}catch(T){if(T instanceof jV||T instanceof DV){if(!h){g=!1;return}try{f=h,g=!0;const L=await Ew(()=>ft(t,Ql,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:M})=>M instanceof lK});g=!1;const U=L.transactions.find(({from:M,nonce:A})=>M===f.from&&A===f.nonce);if(!U||(p=await ft(t,o3,"getTransactionReceipt")({hash:U.hash}),n>1&&(!p.blockNumber||R-p.blockNumber+1n<n)))return;let W="replaced";U.to===f.to&&U.value===f.value&&U.input===f.input?W="repriced":U.from===U.to&&U.value===0n&&(W="cancelled"),$(()=>{var M;(M=x.onReplaced)==null||M.call(x,{reason:W,replacedTransaction:f,transaction:U,transactionReceipt:p}),x.resolve(p)})}catch(L){$(()=>x.reject(L))}}else $(()=>x.reject(T))}}})}),y}function K2e(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const g=Fn(["watchBlocks",t.uid,e,r,n,u,l]);return _u(g,{onBlock:i,onError:s},m=>mm(async()=>{var w;try{const y=await ft(t,Ql,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&(h==null?void 0:h.number)!=null){if(y.number===h.number)return;if(y.number-h.number>1&&r)for(let b=(h==null?void 0:h.number)+1n;b<y.number;b++){const v=await ft(t,Ql,"getBlock")({blockNumber:b,includeTransactions:u});m.onBlock(v,h),h=v}}((h==null?void 0:h.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>h.number)&&(m.onBlock(y,h),h=y)}catch(y){(w=m.onError)==null||w.call(m,y)}},{emitOnBegin:n,interval:l}))})():(()=>{let g=!0,m=!0,w=()=>g=!1;return(async()=>{try{n&&ft(t,Ql,"getBlock")({blockTag:e,includeTransactions:u}).then(v=>{g&&m&&(i(v,void 0),m=!1)}).catch(s);const y=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(v){var x;if(!g)return;const C=await ft(t,Ql,"getBlock")({blockNumber:(x=v.result)==null?void 0:x.number,includeTransactions:u}).catch(()=>{});g&&(i(C,h),m=!1,h=C)},onError(v){s==null||s(v)}});w=b,g||w()}catch(y){s==null||s(y)}})(),()=>w()})()}function Y2e(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const w=Fn(["watchEvent",e,r,n,t.uid,i,u,o]);return _u(w,{onLogs:l,onError:a},y=>{let b;o!==void 0&&(b=o-1n);let v,C=!1;const x=mm(async()=>{var I;if(!C){try{v=await ft(t,EK,"createEventFilter")({address:e,args:r,event:i,events:s,strict:p,fromBlock:o})}catch{}C=!0;return}try{let $;if(v)$=await ft(t,C4,"getFilterChanges")({filter:v});else{const R=await ft(t,Lv,"getBlockNumber")({});b&&b!==R?$=await ft(t,oI,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:b+1n,toBlock:R}):$=[],b=R}if($.length===0)return;if(n)y.onLogs($);else for(const R of $)y.onLogs([R])}catch($){v&&$ instanceof jf&&(C=!1),(I=y.onError)==null||I.call(y,$)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await ft(t,A4,"uninstallFilter")({filter:v}),x()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),v=s??(i?[i]:void 0);let C=[];v&&(C=[v.flatMap($=>Nv({abi:[$],eventName:$.name,args:r}))],i&&(C=C[0]));const{unsubscribe:x}=await b.subscribe({params:["logs",{address:e,topics:C}],onData(I){var R;if(!w)return;const $=I.result;try{const{eventName:T,args:L}=I$({abi:v??[],data:$.data,topics:$.topics,strict:p}),U=xu($,{args:L,eventName:T});l([U])}catch(T){let L,U;if(T instanceof nw||T instanceof n4){if(h)return;L=T.abiItem.name,U=(R=T.abiItem.inputs)==null?void 0:R.some(M=>!("name"in M&&M.name))}const W=xu($,{args:U?[]:{},eventName:L});l([W])}},onError(I){a==null||a(I)}});y=x,w||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function Q2e(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=Fn(["watchPendingTransactions",t.uid,e,s]);return _u(c,{onTransactions:n,onError:r},u=>{let h;const f=mm(async()=>{var p;try{if(!h)try{h=await ft(t,_K,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const g=await ft(t,C4,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)u.onTransactions(g);else for(const m of g)u.onTransactions([m])}catch(g){(p=u.onError)==null||p.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await ft(t,A4,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;n([p])},onError(f){r==null||r(f)}});u=h,c||u()}catch(h){r==null||r(h)}})(),()=>u()})()}function Z2e(t){var h,f,p;const{scheme:e,statement:r,...n}=((h=t.match(J2e))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(X2e))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const J2e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,X2e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ebe(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!wn(n.address,{strict:!1})||e&&!Ov(n.address,e))return!1}catch{return!1}return!0}async function tbe(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=Z2e(i);if(!u.address||!ebe({address:r,domain:n,message:u,nonce:s,scheme:o,time:l}))return!1;const f=AG(i);return I4(t,{address:u.address,hash:f,signature:a,...c})}function T4(t){return{call:e=>f4(t,e),createAccessList:e=>xK(t,e),createBlockFilter:()=>Dve(t),createContractEventFilter:e=>aK(t,e),createEventFilter:e=>EK(t,e),createPendingTransactionFilter:()=>_K(t),estimateContractGas:e=>sve(t,e),estimateGas:e=>sI(t,e),getBalance:e=>dK(t,e),getBlobBaseFee:()=>Lve(t),getBlock:e=>Ql(t,e),getBlockNumber:e=>Lv(t,e),getBlockTransactionCount:e=>Fve(t,e),getBytecode:e=>x7(t,e),getChainId:()=>gm(t),getCode:e=>x7(t,e),getContractEvents:e=>hK(t,e),getEip712Domain:e=>Bve(t,e),getEnsAddress:e=>xve(t,e),getEnsAvatar:e=>Mve(t,e),getEnsName:e=>Rve(t,e),getEnsResolver:e=>jve(t,e),getEnsText:e=>bK(t,e),getFeeHistory:e=>Hve(t,e),estimateFeesPerGas:e=>ive(t,e),getFilterChanges:e=>C4(t,e),getFilterLogs:e=>qve(t,e),getGasPrice:()=>iI(t),getLogs:e=>oI(t,e),getProof:e=>Kve(t,e),estimateMaxPriorityFeePerGas:e=>nve(t,e),getStorageAt:e=>Yve(t,e),getTransaction:e=>fI(t,e),getTransactionConfirmations:e=>Qve(t,e),getTransactionCount:e=>H$(t,e),getTransactionReceipt:e=>o3(t,e),multicall:e=>Zve(t,e),prepareTransactionRequest:e=>_4(t,e),readContract:e=>cl(t,e),sendRawTransaction:e=>aI(t,e),simulate:e=>E7(t,e),simulateBlocks:e=>E7(t,e),simulateCalls:e=>l2e(t,e),simulateContract:e=>ove(t,e),verifyHash:e=>I4(t,e),verifyMessage:e=>q2e(t,e),verifySiweMessage:e=>tbe(t,e),verifyTypedData:e=>V2e(t,e),uninstallFilter:e=>A4(t,e),waitForTransactionReceipt:e=>G2e(t,e),watchBlocks:e=>K2e(t,e),watchBlockNumber:e=>qK(t,e),watchContractEvent:e=>fve(t,e),watchEvent:e=>Y2e(t,e),watchPendingTransactions:e=>Q2e(t,e)}}function Cu(t){const{key:e="public",name:r="Public Client"}=t;return lI({...t,key:e,name:r,type:"publicClient"}).extend(T4)}async function rbe(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Se(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function nbe(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=s4({abi:r,args:n,bytecode:i});return k4(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function ibe(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Iv(n))}async function sbe(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?yn(r):void 0,s=n?[i==null?void 0:i.address,[Se(n)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof n=="number"?a[n]:a}async function obe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function VK(t,e){var l;const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new cp({docsPath:"/docs/eip7702/prepareAuthorization"});const s=yn(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:yn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await ft(t,gm,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ft(t,H$,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Ov(o.address,s.address))&&(a.nonce+=1)),a}async function abe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>Ur(r))}async function lbe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function cbe(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function ube(t,e){const{account:r=t.account}=e;if(!r)throw new cp({docsPath:"/docs/eip7702/signAuthorization"});const n=yn(r);if(!n.signAuthorization)throw new s3({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await VK(t,e);return n.signAuthorization(i)}async function dbe(t,{account:e=t.account,message:r}){if(!e)throw new cp({docsPath:"/docs/actions/wallet/signMessage"});const n=yn(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?Sg(r):r.raw instanceof Uint8Array?Pr(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function hbe(t,e){var c,u,h,f;const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new cp({docsPath:"/docs/actions/wallet/signTransaction"});const s=yn(r);lp({account:s,...e});const o=await ft(t,gm,"getChainId")({});n!==null&&wG({currentChainId:o,chain:n});const a=(n==null?void 0:n.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||pm;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(h=t.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:Se(o),from:s.address}]},{retryCount:0})}async function fbe(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new cp({docsPath:"/docs/actions/wallet/signTypedData"});const o=yn(r),a={EIP712Domain:SG({domain:n}),...e.types};if(kG({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const l=A0e({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function pbe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Se(e)}]},{retryCount:0})}async function gbe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function mbe(t){return{addChain:e=>rbe(t,e),deployContract:e=>nbe(t,e),getAddresses:()=>ibe(t),getCallsStatus:e=>gK(t,e),getCapabilities:e=>sbe(t,e),getChainId:()=>gm(t),getPermissions:()=>obe(t),prepareAuthorization:e=>VK(t,e),prepareTransactionRequest:e=>_4(t,e),requestAddresses:()=>abe(t),requestPermissions:e=>lbe(t,e),sendCalls:e=>mve(t,e),sendRawTransaction:e=>aI(t,e),sendTransaction:e=>k4(t,e),showCallsStatus:e=>cbe(t,e),signAuthorization:e=>ube(t,e),signMessage:e=>dbe(t,e),signTransaction:e=>hbe(t,e),signTypedData:e=>fbe(t,e),switchChain:e=>pbe(t,e),waitForCallsStatus:e=>yve(t,e),watchAsset:e=>gbe(t,e),writeContract:e=>pve(t,e)}}function GK(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return lI({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(mbe)}function KK({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=mK();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:ype(n,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function YK(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>KK({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class ybe extends ve{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function fc(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:g})=>{const{batchSize:m=1e3,wait:w=0}=typeof r=="object"?r:{},y=e.retryCount??p,b=g??e.timeout??1e4,v=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!v)throw new ybe;const C=v0e(v,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:c,timeout:b});return KK({key:s,methods:o,name:a,async request({method:x,params:I}){const $={method:x,params:I},{schedule:R}=mG({id:v,wait:w,shouldSplitBatch(W){return W.length>m},fn:W=>C.request({body:W}),sort:(W,M)=>W.id-M.id}),T=async W=>r?R(W):[await C.request({body:W})],[{error:L,result:U}]=await T($);if(h)return{error:L,result:U};if(L)throw new D$({body:$,error:L,url:v});return U},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:v})}}let wbe=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(pme,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const vbe=new TextEncoder,QK=new TextDecoder,bbe=t=>{let e=t;typeof e=="string"&&(e=vbe.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},xbe=t=>bbe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Ebe=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},_be=t=>{let e=t;e instanceof Uint8Array&&(e=QK.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Ebe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Cbe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class Ph extends Cbe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Abe(t){return typeof t=="object"&&t!==null}function kbe(t){if(!Abe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const zf=xbe,Sbe=_be;function P7(t){if(typeof t!="string")throw new Ph("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Ph("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Ph("Invalid JWT");if(!e)throw new Ph("JWTs must contain a payload");let n;try{n=Sbe(e)}catch{throw new Ph("Failed to base64url decode the payload")}let i;try{i=JSON.parse(QK.decode(n))}catch{throw new Ph("Failed to parse the decoded payload as JSON")}if(!kbe(i))throw new Ph("Invalid JWT Claims Set");return i}let U1=class ZK{static parse(e){try{return new ZK(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=P7(e)}},JK=class N7{async updateOnCrossAppAuthentication(e,r){let n=r.access_token,i=N7.providerAccessTokenStorageKey(e);await this._storage.put(i,n)}async getProviderAccessToken(e){let r=N7.providerAccessTokenStorageKey(e),n=await this._storage.get(r);if(typeof n!="string")return null;try{if(new U1(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(r),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Ige,{params:{app_id:this._privyInternal.appId}})}constructor(e,r){this._privyInternal=e,this._storage=r}};JK.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let $be=class{async revoke(){await this._privyInternal.fetch(kme,{})}constructor(e){this._privyInternal=e}};function Ibe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const ba={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},P4={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},ym={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},wI={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},xa={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},N4={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},Tbe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},O4={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},Pbe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},Nbe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},Obe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},Mbe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Rbe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},XK={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},jbe={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},Dbe={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Ea={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},xc={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},M4={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Qs={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Bv={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},Lbe={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},vI={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},bI={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},eY={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},tY={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},zv=[Ea,vI,Rbe,ba,P4,xc,M4,Qs,Bv,O4,Pbe,Nbe,Obe,xa,N4,Tbe,Dbe,XK,jbe,ym,wI,bI,tY,eY,Lbe,Mbe],rY=new Set(zv.map(t=>t.id));function xI(t){let e=t.filter(r=>!rY.has(r.id));return zv.concat(e)}const nY=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let r=zv.find(s=>s.id===e.id),n=(i=r==null?void 0:r.rpcUrls.privy)==null?void 0:i.http[0];return n?Ibe(e,n):e});let E9=class extends Error{constructor({error:e,code:r}){super(e),this.error=e,this.code=r}},cr=class extends Error{constructor({error:e,code:r}){super(e),this.code=r,this.error=e}},Fbe=class extends Error{constructor({error:e,code:r,response:n}){super(e),this.code=r,this.error=e,this.response=n}};const bd=t=>!!t.id&&t.recovery_method==="privy-v2";let Ube=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(bd(this._account))throw new cr({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new cr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new cr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s}};const Bbe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var xs;(xs={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",xs.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",xs.INVALID_DATA="invalid_data",xs.LINKED_TO_ANOTHER_USER="linked_to_another_user",xs.ALLOWLIST_REJECTED="allowlist_rejected",xs.OAUTH_USER_DENIED="oauth_user_denied",xs.UNKNOWN_AUTH_ERROR="unknown_auth_error",xs.USER_EXITED_AUTH_FLOW="exited_auth_flow",xs.MUST_BE_AUTHENTICATED="must_be_authenticated",xs.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",xs.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",xs.CLIENT_REQUEST_TIMEOUT="client_request_timeout",xs.INVALID_CREDENTIALS="invalid_credentials";let zbe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},a3=class extends Error{constructor(e,r){super(r),this.type=e}},iY=class extends zbe{constructor(e,r,n){super(e,r,n),this.type="connector_error"}},QM=class extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}};const Ka={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function Wbe(t){let e=t.type;return typeof e=="string"&&Bbe.includes(e)}function EI(t){return Wbe(t)&&t.type==="wallet_not_on_device"}async function O7(t,{request:e}){return await t.fetchPrivyRoute(Ame,{body:e})}async function _9({context:t,chainType:e}){return{wallet:await O7(t,{request:{chain_type:e,owner_id:void 0}})}}const Hbe="logger/5.8.0";let ZM=!1,JM=!1;const l3={debug:1,default:2,info:2,warning:3,error:4,off:5};let XM=l3.default,C9=null;function qbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const eR=qbe();var M7;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(M7||(M7={}));var Ua;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ua||(Ua={}));const tR="0123456789abcdef";class ge{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();l3[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(XM>l3[n])&&console.log.apply(console,r)}debug(...e){this._log(ge.levels.DEBUG,e)}info(...e){this._log(ge.levels.INFO,e)}warn(...e){this._log(ge.levels.WARNING,e)}makeError(e,r,n){if(JM)return this.makeError("censored error",r,{});r||(r=ge.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const c=n[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=tR[c[h]>>4],u+=tR[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ua.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ua.CALL_EXCEPTION:case Ua.INSUFFICIENT_FUNDS:case Ua.MISSING_NEW:case Ua.NONCE_EXPIRED:case Ua.REPLACEMENT_UNDERPRICED:case Ua.TRANSACTION_REPLACED:case Ua.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ge.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){eR&&this.throwError("platform missing String.prototype.normalize",ge.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eR})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ge.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ge.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ge.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ge.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ge.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return C9||(C9=new ge(Hbe)),C9}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ZM){if(!e)return;this.globalLogger().throwError("error censorship permanent",ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}JM=!!e,ZM=!!r}static setLogLevel(e){const r=l3[e.toLowerCase()];if(r==null){ge.globalLogger().warn("invalid log level - "+e);return}XM=r}static from(e){return new ge(e)}}ge.errors=Ua;ge.levels=M7;const Vbe="properties/5.8.0";var Gbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const E5=new ge(Vbe);function Ht(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function B1(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ci(t){return Gbe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Kbe(t,e){(!t||typeof t!="object")&&E5.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||E5.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Ds(t){const e={};for(const r in t)e[r]=t[r];return e}const Ybe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function sY(t){if(t==null||Ybe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!sY(n))return!1}return!0}return E5.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Qbe(t){if(sY(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Uw(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Ht(e,r,Uw(n))}return e}return E5.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Uw(t){return Qbe(t)}class Zbe{constructor(e){for(const r in e)this[r]=Uw(e[r])}}const Jbe="abstract-signer/5.8.0";var $a=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ho=new ge(Jbe),Xbe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],e3e=[ge.errors.INSUFFICIENT_FUNDS,ge.errors.NONCE_EXPIRED,ge.errors.REPLACEMENT_UNDERPRICED];class R4{constructor(){Ho.checkAbstract(new.target,R4),Ht(this,"_isSigner",!0)}getBalance(e){return $a(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return $a(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return $a(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield ci(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return $a(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ci(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return $a(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return $a(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return $a(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return $a(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return $a(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Xbe.indexOf(n)===-1&&Ho.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Ds(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Ho.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return $a(this,void 0,void 0,function*(){const r=yield ci(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>$a(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ho.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Ho.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Ho.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Ho.throwError("network does not support EIP-1559",ge.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Ho.throwError("failed to get consistent fee data",ge.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(e3e.indexOf(i.code)>=0)throw i;return Ho.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ge.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ho.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield ci(r)})}_checkProvider(e){this.provider||Ho.throwError("missing provider",ge.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class _I extends R4{constructor(e,r){super(),Ht(this,"address",e),Ht(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Ho.throwError(e,ge.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new _I(this.address,e)}}var CI={exports:{}};const t3e={},r3e=Object.freeze(Object.defineProperty({__proto__:null,default:t3e},Symbol.toStringTag,{value:"Module"})),n3e=M6(r3e);CI.exports;(function(t){(function(e,r){function n(M,A){if(!M)throw new Error(A||"Assertion failed")}function i(M,A){M.super_=A;var _=function(){};_.prototype=A.prototype,M.prototype=new _,M.prototype.constructor=M}function s(M,A,_){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((A==="le"||A==="be")&&(_=A,A=10),this._init(M||0,A||10,_||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=n3e.Buffer}catch{}s.isBN=function(A){return A instanceof s?!0:A!==null&&typeof A=="object"&&A.constructor.wordSize===s.wordSize&&Array.isArray(A.words)},s.max=function(A,_){return A.cmp(_)>0?A:_},s.min=function(A,_){return A.cmp(_)<0?A:_},s.prototype._init=function(A,_,S){if(typeof A=="number")return this._initNumber(A,_,S);if(typeof A=="object")return this._initArray(A,_,S);_==="hex"&&(_=16),n(_===(_|0)&&_>=2&&_<=36),A=A.toString().replace(/\s+/g,"");var O=0;A[0]==="-"&&(O++,this.negative=1),O<A.length&&(_===16?this._parseHex(A,O,S):(this._parseBase(A,_,O),S==="le"&&this._initArray(this.toArray(),_,S)))},s.prototype._initNumber=function(A,_,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[A&67108863],this.length=1):A<4503599627370496?(this.words=[A&67108863,A/67108864&67108863],this.length=2):(n(A<9007199254740992),this.words=[A&67108863,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},s.prototype._initArray=function(A,_,S){if(n(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var P,N,D=0;if(S==="be")for(O=A.length-1,P=0;O>=0;O-=3)N=A[O]|A[O-1]<<8|A[O-2]<<16,this.words[P]|=N<<D&67108863,this.words[P+1]=N>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);else if(S==="le")for(O=0,P=0;O<A.length;O+=3)N=A[O]|A[O+1]<<8|A[O+2]<<16,this.words[P]|=N<<D&67108863,this.words[P+1]=N>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);return this._strip()};function a(M,A){var _=M.charCodeAt(A);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;n(!1,"Invalid character in "+M)}function l(M,A,_){var S=a(M,_);return _-1>=A&&(S|=a(M,_-1)<<4),S}s.prototype._parseHex=function(A,_,S){this.length=Math.ceil((A.length-_)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var P=0,N=0,D;if(S==="be")for(O=A.length-1;O>=_;O-=2)D=l(A,_,O)<<P,this.words[N]|=D&67108863,P>=18?(P-=18,N+=1,this.words[N]|=D>>>26):P+=8;else{var F=A.length-_;for(O=F%2===0?_+1:_;O<A.length;O+=2)D=l(A,_,O)<<P,this.words[N]|=D&67108863,P>=18?(P-=18,N+=1,this.words[N]|=D>>>26):P+=8}this._strip()};function c(M,A,_,S){for(var O=0,P=0,N=Math.min(M.length,_),D=A;D<N;D++){var F=M.charCodeAt(D)-48;O*=S,F>=49?P=F-49+10:F>=17?P=F-17+10:P=F,n(F>=0&&P<S,"Invalid character"),O+=P}return O}s.prototype._parseBase=function(A,_,S){this.words=[0],this.length=1;for(var O=0,P=1;P<=67108863;P*=_)O++;O--,P=P/_|0;for(var N=A.length-S,D=N%O,F=Math.min(N,N-D)+S,k=0,z=S;z<F;z+=O)k=c(A,z,z+O,_),this.imuln(P),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(D!==0){var V=1;for(k=c(A,z,A.length,_),z=0;z<D;z++)V*=_;this.imuln(V),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this._strip()},s.prototype.copy=function(A){A.words=new Array(this.length);for(var _=0;_<this.length;_++)A.words[_]=this.words[_];A.length=this.length,A.negative=this.negative,A.red=this.red};function u(M,A){M.words=A.words,M.length=A.length,M.negative=A.negative,M.red=A.red}if(s.prototype._move=function(A){u(A,this)},s.prototype.clone=function(){var A=new s(null);return this.copy(A),A},s.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(A,_){A=A||10,_=_|0||1;var S;if(A===16||A==="hex"){S="";for(var O=0,P=0,N=0;N<this.length;N++){var D=this.words[N],F=((D<<O|P)&16777215).toString(16);P=D>>>24-O&16777215,O+=2,O>=26&&(O-=26,N--),P!==0||N!==this.length-1?S=f[6-F.length]+F+S:S=F+S}for(P!==0&&(S=P.toString(16)+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(A|0)&&A>=2&&A<=36){var k=p[A],z=g[A];S="";var V=this.clone();for(V.negative=0;!V.isZero();){var j=V.modrn(z).toString(A);V=V.idivn(z),V.isZero()?S=j+S:S=f[k-j.length]+j+S}for(this.isZero()&&(S="0"+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=this.words[1]*67108864:this.length===3&&this.words[2]===1?A+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(A,_){return this.toArrayLike(o,A,_)}),s.prototype.toArray=function(A,_){return this.toArrayLike(Array,A,_)};var m=function(A,_){return A.allocUnsafe?A.allocUnsafe(_):new A(_)};s.prototype.toArrayLike=function(A,_,S){this._strip();var O=this.byteLength(),P=S||Math.max(1,O);n(O<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var N=m(A,P),D=_==="le"?"LE":"BE";return this["_toArrayLike"+D](N,O),N},s.prototype._toArrayLikeLE=function(A,_){for(var S=0,O=0,P=0,N=0;P<this.length;P++){var D=this.words[P]<<N|O;A[S++]=D&255,S<A.length&&(A[S++]=D>>8&255),S<A.length&&(A[S++]=D>>16&255),N===6?(S<A.length&&(A[S++]=D>>24&255),O=0,N=0):(O=D>>>24,N+=2)}if(S<A.length)for(A[S++]=O;S<A.length;)A[S++]=0},s.prototype._toArrayLikeBE=function(A,_){for(var S=A.length-1,O=0,P=0,N=0;P<this.length;P++){var D=this.words[P]<<N|O;A[S--]=D&255,S>=0&&(A[S--]=D>>8&255),S>=0&&(A[S--]=D>>16&255),N===6?(S>=0&&(A[S--]=D>>24&255),O=0,N=0):(O=D>>>24,N+=2)}if(S>=0)for(A[S--]=O;S>=0;)A[S--]=0},Math.clz32?s.prototype._countBits=function(A){return 32-Math.clz32(A)}:s.prototype._countBits=function(A){var _=A,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},s.prototype._zeroBits=function(A){if(A===0)return 26;var _=A,S=0;return _&8191||(S+=13,_>>>=13),_&127||(S+=7,_>>>=7),_&15||(S+=4,_>>>=4),_&3||(S+=2,_>>>=2),_&1||S++,S},s.prototype.bitLength=function(){var A=this.words[this.length-1],_=this._countBits(A);return(this.length-1)*26+_};function w(M){for(var A=new Array(M.bitLength()),_=0;_<A.length;_++){var S=_/26|0,O=_%26;A[_]=M.words[S]>>>O&1}return A}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(A+=S,S!==26)break}return A},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},s.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var _=0;_<A.length;_++)this.words[_]=this.words[_]|A.words[_];return this._strip()},s.prototype.ior=function(A){return n((this.negative|A.negative)===0),this.iuor(A)},s.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},s.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},s.prototype.iuand=function(A){var _;this.length>A.length?_=A:_=this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=_.length,this._strip()},s.prototype.iand=function(A){return n((this.negative|A.negative)===0),this.iuand(A)},s.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},s.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},s.prototype.iuxor=function(A){var _,S;this.length>A.length?(_=this,S=A):(_=A,S=this);for(var O=0;O<S.length;O++)this.words[O]=_.words[O]^S.words[O];if(this!==_)for(;O<_.length;O++)this.words[O]=_.words[O];return this.length=_.length,this._strip()},s.prototype.ixor=function(A){return n((this.negative|A.negative)===0),this.iuxor(A)},s.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},s.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},s.prototype.inotn=function(A){n(typeof A=="number"&&A>=0);var _=Math.ceil(A/26)|0,S=A%26;this._expand(_),S>0&&_--;for(var O=0;O<_;O++)this.words[O]=~this.words[O]&67108863;return S>0&&(this.words[O]=~this.words[O]&67108863>>26-S),this._strip()},s.prototype.notn=function(A){return this.clone().inotn(A)},s.prototype.setn=function(A,_){n(typeof A=="number"&&A>=0);var S=A/26|0,O=A%26;return this._expand(S+1),_?this.words[S]=this.words[S]|1<<O:this.words[S]=this.words[S]&~(1<<O),this._strip()},s.prototype.iadd=function(A){var _;if(this.negative!==0&&A.negative===0)return this.negative=0,_=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,_=this.isub(A),A.negative=1,_._normSign();var S,O;this.length>A.length?(S=this,O=A):(S=A,O=this);for(var P=0,N=0;N<O.length;N++)_=(S.words[N]|0)+(O.words[N]|0)+P,this.words[N]=_&67108863,P=_>>>26;for(;P!==0&&N<S.length;N++)_=(S.words[N]|0)+P,this.words[N]=_&67108863,P=_>>>26;if(this.length=S.length,P!==0)this.words[this.length]=P,this.length++;else if(S!==this)for(;N<S.length;N++)this.words[N]=S.words[N];return this},s.prototype.add=function(A){var _;return A.negative!==0&&this.negative===0?(A.negative=0,_=this.sub(A),A.negative^=1,_):A.negative===0&&this.negative!==0?(this.negative=0,_=A.sub(this),this.negative=1,_):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},s.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var _=this.iadd(A);return A.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,P;S>0?(O=this,P=A):(O=A,P=this);for(var N=0,D=0;D<P.length;D++)_=(O.words[D]|0)-(P.words[D]|0)+N,N=_>>26,this.words[D]=_&67108863;for(;N!==0&&D<O.length;D++)_=(O.words[D]|0)+N,N=_>>26,this.words[D]=_&67108863;if(N===0&&D<O.length&&O!==this)for(;D<O.length;D++)this.words[D]=O.words[D];return this.length=Math.max(this.length,D),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(A){return this.clone().isub(A)};function y(M,A,_){_.negative=A.negative^M.negative;var S=M.length+A.length|0;_.length=S,S=S-1|0;var O=M.words[0]|0,P=A.words[0]|0,N=O*P,D=N&67108863,F=N/67108864|0;_.words[0]=D;for(var k=1;k<S;k++){for(var z=F>>>26,V=F&67108863,j=Math.min(k,A.length-1),G=Math.max(0,k-M.length+1);G<=j;G++){var Q=k-G|0;O=M.words[Q]|0,P=A.words[G]|0,N=O*P+V,z+=N/67108864|0,V=N&67108863}_.words[k]=V|0,F=z|0}return F!==0?_.words[k]=F|0:_.length--,_._strip()}var b=function(A,_,S){var O=A.words,P=_.words,N=S.words,D=0,F,k,z,V=O[0]|0,j=V&8191,G=V>>>13,Q=O[1]|0,K=Q&8191,re=Q>>>13,le=O[2]|0,ne=le&8191,ae=le>>>13,ye=O[3]|0,de=ye&8191,he=ye>>>13,Xe=O[4]|0,ie=Xe&8191,xe=Xe>>>13,be=O[5]|0,se=be&8191,we=be>>>13,vt=O[6]|0,ce=vt&8191,Ie=vt>>>13,Fe=O[7]|0,tt=Fe&8191,Qe=Fe>>>13,$t=O[8]|0,ht=$t&8191,it=$t>>>13,ke=O[9]|0,Te=ke&8191,fe=ke>>>13,Ve=P[0]|0,st=Ve&8191,Ke=Ve>>>13,at=P[1]|0,Pe=at&8191,dt=at>>>13,Et=P[2]|0,bt=Et&8191,Be=Et>>>13,Sr=P[3]|0,Ge=Sr&8191,Bt=Sr>>>13,Zi=P[4]|0,nr=Zi&8191,er=Zi>>>13,B=P[5]|0,H=B&8191,Y=B>>>13,Z=P[6]|0,X=Z&8191,te=Z>>>13,me=P[7]|0,pe=me&8191,ze=me>>>13,xt=P[8]|0,_e=xt&8191,Le=xt>>>13,lt=P[9]|0,Ue=lt&8191,Ee=lt>>>13;S.negative=A.negative^_.negative,S.length=19,F=Math.imul(j,st),k=Math.imul(j,Ke),k=k+Math.imul(G,st)|0,z=Math.imul(G,Ke);var pt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(pt>>>26)|0,pt&=67108863,F=Math.imul(K,st),k=Math.imul(K,Ke),k=k+Math.imul(re,st)|0,z=Math.imul(re,Ke),F=F+Math.imul(j,Pe)|0,k=k+Math.imul(j,dt)|0,k=k+Math.imul(G,Pe)|0,z=z+Math.imul(G,dt)|0;var At=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(At>>>26)|0,At&=67108863,F=Math.imul(ne,st),k=Math.imul(ne,Ke),k=k+Math.imul(ae,st)|0,z=Math.imul(ae,Ke),F=F+Math.imul(K,Pe)|0,k=k+Math.imul(K,dt)|0,k=k+Math.imul(re,Pe)|0,z=z+Math.imul(re,dt)|0,F=F+Math.imul(j,bt)|0,k=k+Math.imul(j,Be)|0,k=k+Math.imul(G,bt)|0,z=z+Math.imul(G,Be)|0;var Lt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,F=Math.imul(de,st),k=Math.imul(de,Ke),k=k+Math.imul(he,st)|0,z=Math.imul(he,Ke),F=F+Math.imul(ne,Pe)|0,k=k+Math.imul(ne,dt)|0,k=k+Math.imul(ae,Pe)|0,z=z+Math.imul(ae,dt)|0,F=F+Math.imul(K,bt)|0,k=k+Math.imul(K,Be)|0,k=k+Math.imul(re,bt)|0,z=z+Math.imul(re,Be)|0,F=F+Math.imul(j,Ge)|0,k=k+Math.imul(j,Bt)|0,k=k+Math.imul(G,Ge)|0,z=z+Math.imul(G,Bt)|0;var Kt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(ie,st),k=Math.imul(ie,Ke),k=k+Math.imul(xe,st)|0,z=Math.imul(xe,Ke),F=F+Math.imul(de,Pe)|0,k=k+Math.imul(de,dt)|0,k=k+Math.imul(he,Pe)|0,z=z+Math.imul(he,dt)|0,F=F+Math.imul(ne,bt)|0,k=k+Math.imul(ne,Be)|0,k=k+Math.imul(ae,bt)|0,z=z+Math.imul(ae,Be)|0,F=F+Math.imul(K,Ge)|0,k=k+Math.imul(K,Bt)|0,k=k+Math.imul(re,Ge)|0,z=z+Math.imul(re,Bt)|0,F=F+Math.imul(j,nr)|0,k=k+Math.imul(j,er)|0,k=k+Math.imul(G,nr)|0,z=z+Math.imul(G,er)|0;var tr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(tr>>>26)|0,tr&=67108863,F=Math.imul(se,st),k=Math.imul(se,Ke),k=k+Math.imul(we,st)|0,z=Math.imul(we,Ke),F=F+Math.imul(ie,Pe)|0,k=k+Math.imul(ie,dt)|0,k=k+Math.imul(xe,Pe)|0,z=z+Math.imul(xe,dt)|0,F=F+Math.imul(de,bt)|0,k=k+Math.imul(de,Be)|0,k=k+Math.imul(he,bt)|0,z=z+Math.imul(he,Be)|0,F=F+Math.imul(ne,Ge)|0,k=k+Math.imul(ne,Bt)|0,k=k+Math.imul(ae,Ge)|0,z=z+Math.imul(ae,Bt)|0,F=F+Math.imul(K,nr)|0,k=k+Math.imul(K,er)|0,k=k+Math.imul(re,nr)|0,z=z+Math.imul(re,er)|0,F=F+Math.imul(j,H)|0,k=k+Math.imul(j,Y)|0,k=k+Math.imul(G,H)|0,z=z+Math.imul(G,Y)|0;var Yt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,F=Math.imul(ce,st),k=Math.imul(ce,Ke),k=k+Math.imul(Ie,st)|0,z=Math.imul(Ie,Ke),F=F+Math.imul(se,Pe)|0,k=k+Math.imul(se,dt)|0,k=k+Math.imul(we,Pe)|0,z=z+Math.imul(we,dt)|0,F=F+Math.imul(ie,bt)|0,k=k+Math.imul(ie,Be)|0,k=k+Math.imul(xe,bt)|0,z=z+Math.imul(xe,Be)|0,F=F+Math.imul(de,Ge)|0,k=k+Math.imul(de,Bt)|0,k=k+Math.imul(he,Ge)|0,z=z+Math.imul(he,Bt)|0,F=F+Math.imul(ne,nr)|0,k=k+Math.imul(ne,er)|0,k=k+Math.imul(ae,nr)|0,z=z+Math.imul(ae,er)|0,F=F+Math.imul(K,H)|0,k=k+Math.imul(K,Y)|0,k=k+Math.imul(re,H)|0,z=z+Math.imul(re,Y)|0,F=F+Math.imul(j,X)|0,k=k+Math.imul(j,te)|0,k=k+Math.imul(G,X)|0,z=z+Math.imul(G,te)|0;var pr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(pr>>>26)|0,pr&=67108863,F=Math.imul(tt,st),k=Math.imul(tt,Ke),k=k+Math.imul(Qe,st)|0,z=Math.imul(Qe,Ke),F=F+Math.imul(ce,Pe)|0,k=k+Math.imul(ce,dt)|0,k=k+Math.imul(Ie,Pe)|0,z=z+Math.imul(Ie,dt)|0,F=F+Math.imul(se,bt)|0,k=k+Math.imul(se,Be)|0,k=k+Math.imul(we,bt)|0,z=z+Math.imul(we,Be)|0,F=F+Math.imul(ie,Ge)|0,k=k+Math.imul(ie,Bt)|0,k=k+Math.imul(xe,Ge)|0,z=z+Math.imul(xe,Bt)|0,F=F+Math.imul(de,nr)|0,k=k+Math.imul(de,er)|0,k=k+Math.imul(he,nr)|0,z=z+Math.imul(he,er)|0,F=F+Math.imul(ne,H)|0,k=k+Math.imul(ne,Y)|0,k=k+Math.imul(ae,H)|0,z=z+Math.imul(ae,Y)|0,F=F+Math.imul(K,X)|0,k=k+Math.imul(K,te)|0,k=k+Math.imul(re,X)|0,z=z+Math.imul(re,te)|0,F=F+Math.imul(j,pe)|0,k=k+Math.imul(j,ze)|0,k=k+Math.imul(G,pe)|0,z=z+Math.imul(G,ze)|0;var rt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(rt>>>26)|0,rt&=67108863,F=Math.imul(ht,st),k=Math.imul(ht,Ke),k=k+Math.imul(it,st)|0,z=Math.imul(it,Ke),F=F+Math.imul(tt,Pe)|0,k=k+Math.imul(tt,dt)|0,k=k+Math.imul(Qe,Pe)|0,z=z+Math.imul(Qe,dt)|0,F=F+Math.imul(ce,bt)|0,k=k+Math.imul(ce,Be)|0,k=k+Math.imul(Ie,bt)|0,z=z+Math.imul(Ie,Be)|0,F=F+Math.imul(se,Ge)|0,k=k+Math.imul(se,Bt)|0,k=k+Math.imul(we,Ge)|0,z=z+Math.imul(we,Bt)|0,F=F+Math.imul(ie,nr)|0,k=k+Math.imul(ie,er)|0,k=k+Math.imul(xe,nr)|0,z=z+Math.imul(xe,er)|0,F=F+Math.imul(de,H)|0,k=k+Math.imul(de,Y)|0,k=k+Math.imul(he,H)|0,z=z+Math.imul(he,Y)|0,F=F+Math.imul(ne,X)|0,k=k+Math.imul(ne,te)|0,k=k+Math.imul(ae,X)|0,z=z+Math.imul(ae,te)|0,F=F+Math.imul(K,pe)|0,k=k+Math.imul(K,ze)|0,k=k+Math.imul(re,pe)|0,z=z+Math.imul(re,ze)|0,F=F+Math.imul(j,_e)|0,k=k+Math.imul(j,Le)|0,k=k+Math.imul(G,_e)|0,z=z+Math.imul(G,Le)|0;var tn=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(tn>>>26)|0,tn&=67108863,F=Math.imul(Te,st),k=Math.imul(Te,Ke),k=k+Math.imul(fe,st)|0,z=Math.imul(fe,Ke),F=F+Math.imul(ht,Pe)|0,k=k+Math.imul(ht,dt)|0,k=k+Math.imul(it,Pe)|0,z=z+Math.imul(it,dt)|0,F=F+Math.imul(tt,bt)|0,k=k+Math.imul(tt,Be)|0,k=k+Math.imul(Qe,bt)|0,z=z+Math.imul(Qe,Be)|0,F=F+Math.imul(ce,Ge)|0,k=k+Math.imul(ce,Bt)|0,k=k+Math.imul(Ie,Ge)|0,z=z+Math.imul(Ie,Bt)|0,F=F+Math.imul(se,nr)|0,k=k+Math.imul(se,er)|0,k=k+Math.imul(we,nr)|0,z=z+Math.imul(we,er)|0,F=F+Math.imul(ie,H)|0,k=k+Math.imul(ie,Y)|0,k=k+Math.imul(xe,H)|0,z=z+Math.imul(xe,Y)|0,F=F+Math.imul(de,X)|0,k=k+Math.imul(de,te)|0,k=k+Math.imul(he,X)|0,z=z+Math.imul(he,te)|0,F=F+Math.imul(ne,pe)|0,k=k+Math.imul(ne,ze)|0,k=k+Math.imul(ae,pe)|0,z=z+Math.imul(ae,ze)|0,F=F+Math.imul(K,_e)|0,k=k+Math.imul(K,Le)|0,k=k+Math.imul(re,_e)|0,z=z+Math.imul(re,Le)|0,F=F+Math.imul(j,Ue)|0,k=k+Math.imul(j,Ee)|0,k=k+Math.imul(G,Ue)|0,z=z+Math.imul(G,Ee)|0;var kt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(kt>>>26)|0,kt&=67108863,F=Math.imul(Te,Pe),k=Math.imul(Te,dt),k=k+Math.imul(fe,Pe)|0,z=Math.imul(fe,dt),F=F+Math.imul(ht,bt)|0,k=k+Math.imul(ht,Be)|0,k=k+Math.imul(it,bt)|0,z=z+Math.imul(it,Be)|0,F=F+Math.imul(tt,Ge)|0,k=k+Math.imul(tt,Bt)|0,k=k+Math.imul(Qe,Ge)|0,z=z+Math.imul(Qe,Bt)|0,F=F+Math.imul(ce,nr)|0,k=k+Math.imul(ce,er)|0,k=k+Math.imul(Ie,nr)|0,z=z+Math.imul(Ie,er)|0,F=F+Math.imul(se,H)|0,k=k+Math.imul(se,Y)|0,k=k+Math.imul(we,H)|0,z=z+Math.imul(we,Y)|0,F=F+Math.imul(ie,X)|0,k=k+Math.imul(ie,te)|0,k=k+Math.imul(xe,X)|0,z=z+Math.imul(xe,te)|0,F=F+Math.imul(de,pe)|0,k=k+Math.imul(de,ze)|0,k=k+Math.imul(he,pe)|0,z=z+Math.imul(he,ze)|0,F=F+Math.imul(ne,_e)|0,k=k+Math.imul(ne,Le)|0,k=k+Math.imul(ae,_e)|0,z=z+Math.imul(ae,Le)|0,F=F+Math.imul(K,Ue)|0,k=k+Math.imul(K,Ee)|0,k=k+Math.imul(re,Ue)|0,z=z+Math.imul(re,Ee)|0;var gr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(gr>>>26)|0,gr&=67108863,F=Math.imul(Te,bt),k=Math.imul(Te,Be),k=k+Math.imul(fe,bt)|0,z=Math.imul(fe,Be),F=F+Math.imul(ht,Ge)|0,k=k+Math.imul(ht,Bt)|0,k=k+Math.imul(it,Ge)|0,z=z+Math.imul(it,Bt)|0,F=F+Math.imul(tt,nr)|0,k=k+Math.imul(tt,er)|0,k=k+Math.imul(Qe,nr)|0,z=z+Math.imul(Qe,er)|0,F=F+Math.imul(ce,H)|0,k=k+Math.imul(ce,Y)|0,k=k+Math.imul(Ie,H)|0,z=z+Math.imul(Ie,Y)|0,F=F+Math.imul(se,X)|0,k=k+Math.imul(se,te)|0,k=k+Math.imul(we,X)|0,z=z+Math.imul(we,te)|0,F=F+Math.imul(ie,pe)|0,k=k+Math.imul(ie,ze)|0,k=k+Math.imul(xe,pe)|0,z=z+Math.imul(xe,ze)|0,F=F+Math.imul(de,_e)|0,k=k+Math.imul(de,Le)|0,k=k+Math.imul(he,_e)|0,z=z+Math.imul(he,Le)|0,F=F+Math.imul(ne,Ue)|0,k=k+Math.imul(ne,Ee)|0,k=k+Math.imul(ae,Ue)|0,z=z+Math.imul(ae,Ee)|0;var ct=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(ct>>>26)|0,ct&=67108863,F=Math.imul(Te,Ge),k=Math.imul(Te,Bt),k=k+Math.imul(fe,Ge)|0,z=Math.imul(fe,Bt),F=F+Math.imul(ht,nr)|0,k=k+Math.imul(ht,er)|0,k=k+Math.imul(it,nr)|0,z=z+Math.imul(it,er)|0,F=F+Math.imul(tt,H)|0,k=k+Math.imul(tt,Y)|0,k=k+Math.imul(Qe,H)|0,z=z+Math.imul(Qe,Y)|0,F=F+Math.imul(ce,X)|0,k=k+Math.imul(ce,te)|0,k=k+Math.imul(Ie,X)|0,z=z+Math.imul(Ie,te)|0,F=F+Math.imul(se,pe)|0,k=k+Math.imul(se,ze)|0,k=k+Math.imul(we,pe)|0,z=z+Math.imul(we,ze)|0,F=F+Math.imul(ie,_e)|0,k=k+Math.imul(ie,Le)|0,k=k+Math.imul(xe,_e)|0,z=z+Math.imul(xe,Le)|0,F=F+Math.imul(de,Ue)|0,k=k+Math.imul(de,Ee)|0,k=k+Math.imul(he,Ue)|0,z=z+Math.imul(he,Ee)|0;var It=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(Te,nr),k=Math.imul(Te,er),k=k+Math.imul(fe,nr)|0,z=Math.imul(fe,er),F=F+Math.imul(ht,H)|0,k=k+Math.imul(ht,Y)|0,k=k+Math.imul(it,H)|0,z=z+Math.imul(it,Y)|0,F=F+Math.imul(tt,X)|0,k=k+Math.imul(tt,te)|0,k=k+Math.imul(Qe,X)|0,z=z+Math.imul(Qe,te)|0,F=F+Math.imul(ce,pe)|0,k=k+Math.imul(ce,ze)|0,k=k+Math.imul(Ie,pe)|0,z=z+Math.imul(Ie,ze)|0,F=F+Math.imul(se,_e)|0,k=k+Math.imul(se,Le)|0,k=k+Math.imul(we,_e)|0,z=z+Math.imul(we,Le)|0,F=F+Math.imul(ie,Ue)|0,k=k+Math.imul(ie,Ee)|0,k=k+Math.imul(xe,Ue)|0,z=z+Math.imul(xe,Ee)|0;var br=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(br>>>26)|0,br&=67108863,F=Math.imul(Te,H),k=Math.imul(Te,Y),k=k+Math.imul(fe,H)|0,z=Math.imul(fe,Y),F=F+Math.imul(ht,X)|0,k=k+Math.imul(ht,te)|0,k=k+Math.imul(it,X)|0,z=z+Math.imul(it,te)|0,F=F+Math.imul(tt,pe)|0,k=k+Math.imul(tt,ze)|0,k=k+Math.imul(Qe,pe)|0,z=z+Math.imul(Qe,ze)|0,F=F+Math.imul(ce,_e)|0,k=k+Math.imul(ce,Le)|0,k=k+Math.imul(Ie,_e)|0,z=z+Math.imul(Ie,Le)|0,F=F+Math.imul(se,Ue)|0,k=k+Math.imul(se,Ee)|0,k=k+Math.imul(we,Ue)|0,z=z+Math.imul(we,Ee)|0;var Mr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,F=Math.imul(Te,X),k=Math.imul(Te,te),k=k+Math.imul(fe,X)|0,z=Math.imul(fe,te),F=F+Math.imul(ht,pe)|0,k=k+Math.imul(ht,ze)|0,k=k+Math.imul(it,pe)|0,z=z+Math.imul(it,ze)|0,F=F+Math.imul(tt,_e)|0,k=k+Math.imul(tt,Le)|0,k=k+Math.imul(Qe,_e)|0,z=z+Math.imul(Qe,Le)|0,F=F+Math.imul(ce,Ue)|0,k=k+Math.imul(ce,Ee)|0,k=k+Math.imul(Ie,Ue)|0,z=z+Math.imul(Ie,Ee)|0;var _i=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(_i>>>26)|0,_i&=67108863,F=Math.imul(Te,pe),k=Math.imul(Te,ze),k=k+Math.imul(fe,pe)|0,z=Math.imul(fe,ze),F=F+Math.imul(ht,_e)|0,k=k+Math.imul(ht,Le)|0,k=k+Math.imul(it,_e)|0,z=z+Math.imul(it,Le)|0,F=F+Math.imul(tt,Ue)|0,k=k+Math.imul(tt,Ee)|0,k=k+Math.imul(Qe,Ue)|0,z=z+Math.imul(Qe,Ee)|0;var Th=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Th>>>26)|0,Th&=67108863,F=Math.imul(Te,_e),k=Math.imul(Te,Le),k=k+Math.imul(fe,_e)|0,z=Math.imul(fe,Le),F=F+Math.imul(ht,Ue)|0,k=k+Math.imul(ht,Ee)|0,k=k+Math.imul(it,Ue)|0,z=z+Math.imul(it,Ee)|0;var Hm=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Hm>>>26)|0,Hm&=67108863,F=Math.imul(Te,Ue),k=Math.imul(Te,Ee),k=k+Math.imul(fe,Ue)|0,z=Math.imul(fe,Ee);var E8=(D+F|0)+((k&8191)<<13)|0;return D=(z+(k>>>13)|0)+(E8>>>26)|0,E8&=67108863,N[0]=pt,N[1]=At,N[2]=Lt,N[3]=Kt,N[4]=tr,N[5]=Yt,N[6]=pr,N[7]=rt,N[8]=tn,N[9]=kt,N[10]=gr,N[11]=ct,N[12]=It,N[13]=br,N[14]=Mr,N[15]=_i,N[16]=Th,N[17]=Hm,N[18]=E8,D!==0&&(N[19]=D,S.length++),S};Math.imul||(b=y);function v(M,A,_){_.negative=A.negative^M.negative,_.length=M.length+A.length;for(var S=0,O=0,P=0;P<_.length-1;P++){var N=O;O=0;for(var D=S&67108863,F=Math.min(P,A.length-1),k=Math.max(0,P-M.length+1);k<=F;k++){var z=P-k,V=M.words[z]|0,j=A.words[k]|0,G=V*j,Q=G&67108863;N=N+(G/67108864|0)|0,Q=Q+D|0,D=Q&67108863,N=N+(Q>>>26)|0,O+=N>>>26,N&=67108863}_.words[P]=D,S=N,N=O}return S!==0?_.words[P]=S:_.length--,_._strip()}function C(M,A,_){return v(M,A,_)}s.prototype.mulTo=function(A,_){var S,O=this.length+A.length;return this.length===10&&A.length===10?S=b(this,A,_):O<63?S=y(this,A,_):O<1024?S=v(this,A,_):S=C(this,A,_),S},s.prototype.mul=function(A){var _=new s(null);return _.words=new Array(this.length+A.length),this.mulTo(A,_)},s.prototype.mulf=function(A){var _=new s(null);return _.words=new Array(this.length+A.length),C(this,A,_)},s.prototype.imul=function(A){return this.clone().mulTo(A,this)},s.prototype.imuln=function(A){var _=A<0;_&&(A=-A),n(typeof A=="number"),n(A<67108864);for(var S=0,O=0;O<this.length;O++){var P=(this.words[O]|0)*A,N=(P&67108863)+(S&67108863);S>>=26,S+=P/67108864|0,S+=N>>>26,this.words[O]=N&67108863}return S!==0&&(this.words[O]=S,this.length++),this.length=A===0?1:this.length,_?this.ineg():this},s.prototype.muln=function(A){return this.clone().imuln(A)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(A){var _=w(A);if(_.length===0)return new s(1);for(var S=this,O=0;O<_.length&&_[O]===0;O++,S=S.sqr());if(++O<_.length)for(var P=S.sqr();O<_.length;O++,P=P.sqr())_[O]!==0&&(S=S.mul(P));return S},s.prototype.iushln=function(A){n(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26,O=67108863>>>26-_<<26-_,P;if(_!==0){var N=0;for(P=0;P<this.length;P++){var D=this.words[P]&O,F=(this.words[P]|0)-D<<_;this.words[P]=F|N,N=D>>>26-_}N&&(this.words[P]=N,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this._strip()},s.prototype.ishln=function(A){return n(this.negative===0),this.iushln(A)},s.prototype.iushrn=function(A,_,S){n(typeof A=="number"&&A>=0);var O;_?O=(_-_%26)/26:O=0;var P=A%26,N=Math.min((A-P)/26,this.length),D=67108863^67108863>>>P<<P,F=S;if(O-=N,O=Math.max(0,O),F){for(var k=0;k<N;k++)F.words[k]=this.words[k];F.length=N}if(N!==0)if(this.length>N)for(this.length-=N,k=0;k<this.length;k++)this.words[k]=this.words[k+N];else this.words[0]=0,this.length=1;var z=0;for(k=this.length-1;k>=0&&(z!==0||k>=O);k--){var V=this.words[k]|0;this.words[k]=z<<26-P|V>>>P,z=V&D}return F&&z!==0&&(F.words[F.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(A,_,S){return n(this.negative===0),this.iushrn(A,_,S)},s.prototype.shln=function(A){return this.clone().ishln(A)},s.prototype.ushln=function(A){return this.clone().iushln(A)},s.prototype.shrn=function(A){return this.clone().ishrn(A)},s.prototype.ushrn=function(A){return this.clone().iushrn(A)},s.prototype.testn=function(A){n(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26,O=1<<_;if(this.length<=S)return!1;var P=this.words[S];return!!(P&O)},s.prototype.imaskn=function(A){n(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var O=67108863^67108863>>>_<<_;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(A){return this.clone().imaskn(A)},s.prototype.iaddn=function(A){return n(typeof A=="number"),n(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(this.words[0]|0)<=A?(this.words[0]=A-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},s.prototype._iaddn=function(A){this.words[0]+=A;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},s.prototype.isubn=function(A){if(n(typeof A=="number"),n(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},s.prototype.addn=function(A){return this.clone().iaddn(A)},s.prototype.subn=function(A){return this.clone().isubn(A)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(A,_,S){var O=A.length+S,P;this._expand(O);var N,D=0;for(P=0;P<A.length;P++){N=(this.words[P+S]|0)+D;var F=(A.words[P]|0)*_;N-=F&67108863,D=(N>>26)-(F/67108864|0),this.words[P+S]=N&67108863}for(;P<this.length-S;P++)N=(this.words[P+S]|0)+D,D=N>>26,this.words[P+S]=N&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,P=0;P<this.length;P++)N=-(this.words[P]|0)+D,D=N>>26,this.words[P]=N&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(A,_){var S=this.length-A.length,O=this.clone(),P=A,N=P.words[P.length-1]|0,D=this._countBits(N);S=26-D,S!==0&&(P=P.ushln(S),O.iushln(S),N=P.words[P.length-1]|0);var F=O.length-P.length,k;if(_!=="mod"){k=new s(null),k.length=F+1,k.words=new Array(k.length);for(var z=0;z<k.length;z++)k.words[z]=0}var V=O.clone()._ishlnsubmul(P,1,F);V.negative===0&&(O=V,k&&(k.words[F]=1));for(var j=F-1;j>=0;j--){var G=(O.words[P.length+j]|0)*67108864+(O.words[P.length+j-1]|0);for(G=Math.min(G/N|0,67108863),O._ishlnsubmul(P,G,j);O.negative!==0;)G--,O.negative=0,O._ishlnsubmul(P,1,j),O.isZero()||(O.negative^=1);k&&(k.words[j]=G)}return k&&k._strip(),O._strip(),_!=="div"&&S!==0&&O.iushrn(S),{div:k||null,mod:O}},s.prototype.divmod=function(A,_,S){if(n(!A.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,P,N;return this.negative!==0&&A.negative===0?(N=this.neg().divmod(A,_),_!=="mod"&&(O=N.div.neg()),_!=="div"&&(P=N.mod.neg(),S&&P.negative!==0&&P.iadd(A)),{div:O,mod:P}):this.negative===0&&A.negative!==0?(N=this.divmod(A.neg(),_),_!=="mod"&&(O=N.div.neg()),{div:O,mod:N.mod}):this.negative&A.negative?(N=this.neg().divmod(A.neg(),_),_!=="div"&&(P=N.mod.neg(),S&&P.negative!==0&&P.isub(A)),{div:N.div,mod:P}):A.length>this.length||this.cmp(A)<0?{div:new s(0),mod:this}:A.length===1?_==="div"?{div:this.divn(A.words[0]),mod:null}:_==="mod"?{div:null,mod:new s(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new s(this.modrn(A.words[0]))}:this._wordDiv(A,_)},s.prototype.div=function(A){return this.divmod(A,"div",!1).div},s.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},s.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},s.prototype.divRound=function(A){var _=this.divmod(A);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(A):_.mod,O=A.ushrn(1),P=A.andln(1),N=S.cmp(O);return N<0||P===1&&N===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},s.prototype.modrn=function(A){var _=A<0;_&&(A=-A),n(A<=67108863);for(var S=(1<<26)%A,O=0,P=this.length-1;P>=0;P--)O=(S*O+(this.words[P]|0))%A;return _?-O:O},s.prototype.modn=function(A){return this.modrn(A)},s.prototype.idivn=function(A){var _=A<0;_&&(A=-A),n(A<=67108863);for(var S=0,O=this.length-1;O>=0;O--){var P=(this.words[O]|0)+S*67108864;this.words[O]=P/A|0,S=P%A}return this._strip(),_?this.ineg():this},s.prototype.divn=function(A){return this.clone().idivn(A)},s.prototype.egcd=function(A){n(A.negative===0),n(!A.isZero());var _=this,S=A.clone();_.negative!==0?_=_.umod(A):_=_.clone();for(var O=new s(1),P=new s(0),N=new s(0),D=new s(1),F=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++F;for(var k=S.clone(),z=_.clone();!_.isZero();){for(var V=0,j=1;!(_.words[0]&j)&&V<26;++V,j<<=1);if(V>0)for(_.iushrn(V);V-- >0;)(O.isOdd()||P.isOdd())&&(O.iadd(k),P.isub(z)),O.iushrn(1),P.iushrn(1);for(var G=0,Q=1;!(S.words[0]&Q)&&G<26;++G,Q<<=1);if(G>0)for(S.iushrn(G);G-- >0;)(N.isOdd()||D.isOdd())&&(N.iadd(k),D.isub(z)),N.iushrn(1),D.iushrn(1);_.cmp(S)>=0?(_.isub(S),O.isub(N),P.isub(D)):(S.isub(_),N.isub(O),D.isub(P))}return{a:N,b:D,gcd:S.iushln(F)}},s.prototype._invmp=function(A){n(A.negative===0),n(!A.isZero());var _=this,S=A.clone();_.negative!==0?_=_.umod(A):_=_.clone();for(var O=new s(1),P=new s(0),N=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var D=0,F=1;!(_.words[0]&F)&&D<26;++D,F<<=1);if(D>0)for(_.iushrn(D);D-- >0;)O.isOdd()&&O.iadd(N),O.iushrn(1);for(var k=0,z=1;!(S.words[0]&z)&&k<26;++k,z<<=1);if(k>0)for(S.iushrn(k);k-- >0;)P.isOdd()&&P.iadd(N),P.iushrn(1);_.cmp(S)>=0?(_.isub(S),O.isub(P)):(S.isub(_),P.isub(O))}var V;return _.cmpn(1)===0?V=O:V=P,V.cmpn(0)<0&&V.iadd(A),V},s.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var _=this.clone(),S=A.clone();_.negative=0,S.negative=0;for(var O=0;_.isEven()&&S.isEven();O++)_.iushrn(1),S.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var P=_.cmp(S);if(P<0){var N=_;_=S,S=N}else if(P===0||S.cmpn(1)===0)break;_.isub(S)}while(!0);return S.iushln(O)},s.prototype.invm=function(A){return this.egcd(A).a.umod(A)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(A){return this.words[0]&A},s.prototype.bincn=function(A){n(typeof A=="number");var _=A%26,S=(A-_)/26,O=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=O,this;for(var P=O,N=S;P!==0&&N<this.length;N++){var D=this.words[N]|0;D+=P,P=D>>>26,D&=67108863,this.words[N]=D}return P!==0&&(this.words[N]=P,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(A){var _=A<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var S;if(this.length>1)S=1;else{_&&(A=-A),n(A<=67108863,"Number is too big");var O=this.words[0]|0;S=O===A?0:O<A?-1:1}return this.negative!==0?-S|0:S},s.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var _=this.ucmp(A);return this.negative!==0?-_|0:_},s.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var O=this.words[S]|0,P=A.words[S]|0;if(O!==P){O<P?_=-1:O>P&&(_=1);break}}return _},s.prototype.gtn=function(A){return this.cmpn(A)===1},s.prototype.gt=function(A){return this.cmp(A)===1},s.prototype.gten=function(A){return this.cmpn(A)>=0},s.prototype.gte=function(A){return this.cmp(A)>=0},s.prototype.ltn=function(A){return this.cmpn(A)===-1},s.prototype.lt=function(A){return this.cmp(A)===-1},s.prototype.lten=function(A){return this.cmpn(A)<=0},s.prototype.lte=function(A){return this.cmp(A)<=0},s.prototype.eqn=function(A){return this.cmpn(A)===0},s.prototype.eq=function(A){return this.cmp(A)===0},s.red=function(A){return new U(A)},s.prototype.toRed=function(A){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(A){return this.red=A,this},s.prototype.forceRed=function(A){return n(!this.red,"Already a number in reduction context"),this._forceRed(A)},s.prototype.redAdd=function(A){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},s.prototype.redIAdd=function(A){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},s.prototype.redSub=function(A){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},s.prototype.redISub=function(A){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},s.prototype.redShl=function(A){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},s.prototype.redMul=function(A){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},s.prototype.redIMul=function(A){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(A){return n(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var x={k256:null,p224:null,p192:null,p25519:null};function I(M,A){this.name=M,this.p=new s(A,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var A=new s(null);return A.words=new Array(Math.ceil(this.n/13)),A},I.prototype.ireduce=function(A){var _=A,S;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),S=_.bitLength();while(S>this.n);var O=S<this.n?-1:_.ucmp(this.p);return O===0?(_.words[0]=0,_.length=1):O>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},I.prototype.split=function(A,_){A.iushrn(this.n,0,_)},I.prototype.imulK=function(A){return A.imul(this.k)};function $(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i($,I),$.prototype.split=function(A,_){for(var S=4194303,O=Math.min(A.length,9),P=0;P<O;P++)_.words[P]=A.words[P];if(_.length=O,A.length<=9){A.words[0]=0,A.length=1;return}var N=A.words[9];for(_.words[_.length++]=N&S,P=10;P<A.length;P++){var D=A.words[P]|0;A.words[P-10]=(D&S)<<4|N>>>22,N=D}N>>>=22,A.words[P-10]=N,N===0&&A.length>10?A.length-=10:A.length-=9},$.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var _=0,S=0;S<A.length;S++){var O=A.words[S]|0;_+=O*977,A.words[S]=_&67108863,_=O*64+(_/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A};function R(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,I);function T(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(T,I);function L(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,I),L.prototype.imulK=function(A){for(var _=0,S=0;S<A.length;S++){var O=(A.words[S]|0)*19+_,P=O&67108863;O>>>=26,A.words[S]=P,_=O}return _!==0&&(A.words[A.length++]=_),A},s._prime=function(A){if(x[A])return x[A];var _;if(A==="k256")_=new $;else if(A==="p224")_=new R;else if(A==="p192")_=new T;else if(A==="p25519")_=new L;else throw new Error("Unknown prime "+A);return x[A]=_,_};function U(M){if(typeof M=="string"){var A=s._prime(M);this.m=A.p,this.prime=A}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}U.prototype._verify1=function(A){n(A.negative===0,"red works only with positives"),n(A.red,"red works only with red numbers")},U.prototype._verify2=function(A,_){n((A.negative|_.negative)===0,"red works only with positives"),n(A.red&&A.red===_.red,"red works only with red numbers")},U.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(u(A,A.umod(this.m)._forceRed(this)),A)},U.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},U.prototype.add=function(A,_){this._verify2(A,_);var S=A.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},U.prototype.iadd=function(A,_){this._verify2(A,_);var S=A.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},U.prototype.sub=function(A,_){this._verify2(A,_);var S=A.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},U.prototype.isub=function(A,_){this._verify2(A,_);var S=A.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},U.prototype.shl=function(A,_){return this._verify1(A),this.imod(A.ushln(_))},U.prototype.imul=function(A,_){return this._verify2(A,_),this.imod(A.imul(_))},U.prototype.mul=function(A,_){return this._verify2(A,_),this.imod(A.mul(_))},U.prototype.isqr=function(A){return this.imul(A,A.clone())},U.prototype.sqr=function(A){return this.mul(A,A)},U.prototype.sqrt=function(A){if(A.isZero())return A.clone();var _=this.m.andln(3);if(n(_%2===1),_===3){var S=this.m.add(new s(1)).iushrn(2);return this.pow(A,S)}for(var O=this.m.subn(1),P=0;!O.isZero()&&O.andln(1)===0;)P++,O.iushrn(1);n(!O.isZero());var N=new s(1).toRed(this),D=N.redNeg(),F=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new s(2*k*k).toRed(this);this.pow(k,F).cmp(D)!==0;)k.redIAdd(D);for(var z=this.pow(k,O),V=this.pow(A,O.addn(1).iushrn(1)),j=this.pow(A,O),G=P;j.cmp(N)!==0;){for(var Q=j,K=0;Q.cmp(N)!==0;K++)Q=Q.redSqr();n(K<G);var re=this.pow(z,new s(1).iushln(G-K-1));V=V.redMul(re),z=re.redSqr(),j=j.redMul(z),G=K}return V},U.prototype.invm=function(A){var _=A._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},U.prototype.pow=function(A,_){if(_.isZero())return new s(1).toRed(this);if(_.cmpn(1)===0)return A.clone();var S=4,O=new Array(1<<S);O[0]=new s(1).toRed(this),O[1]=A;for(var P=2;P<O.length;P++)O[P]=this.mul(O[P-1],A);var N=O[0],D=0,F=0,k=_.bitLength()%26;for(k===0&&(k=26),P=_.length-1;P>=0;P--){for(var z=_.words[P],V=k-1;V>=0;V--){var j=z>>V&1;if(N!==O[0]&&(N=this.sqr(N)),j===0&&D===0){F=0;continue}D<<=1,D|=j,F++,!(F!==S&&(P!==0||V!==0))&&(N=this.mul(N,O[D]),F=0,D=0)}k=26}return N},U.prototype.convertTo=function(A){var _=A.umod(this.m);return _===A?_.clone():_},U.prototype.convertFrom=function(A){var _=A.clone();return _.red=null,_},s.mont=function(A){return new W(A)};function W(M){U.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,U),W.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},W.prototype.convertFrom=function(A){var _=this.imod(A.mul(this.rinv));return _.red=null,_},W.prototype.imul=function(A,_){if(A.isZero()||_.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(_),O=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(O).iushrn(this.shift),N=P;return P.cmp(this.m)>=0?N=P.isub(this.m):P.cmpn(0)<0&&(N=P.iadd(this.m)),N._forceRed(this)},W.prototype.mul=function(A,_){if(A.isZero()||_.isZero())return new s(0)._forceRed(this);var S=A.mul(_),O=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(O).iushrn(this.shift),N=P;return P.cmp(this.m)>=0?N=P.isub(this.m):P.cmpn(0)<0&&(N=P.iadd(this.m)),N._forceRed(this)},W.prototype.invm=function(A){var _=this.imod(A._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(t,CS)})(CI);var i3e=CI.exports;const _t=ko(i3e),s3e="bytes/5.8.0",nn=new ge(s3e);function oY(t){return!!t.toHexString}function Z0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Z0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function AI(t){return Ar(t)&&!(t.length%2)||wm(t)}function rR(t){return typeof t=="number"&&t==t&&t%1===0}function wm(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!rR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!rR(r)||r<0||r>=256)return!1}return!0}function Nt(t,e){if(e||(e={}),typeof t=="number"){nn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Z0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),oY(t)&&(t=t.toHexString()),Ar(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":nn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Z0(new Uint8Array(n))}return wm(t)?Z0(new Uint8Array(t)):nn.throwArgumentError("invalid arrayify value","value",t)}function rf(t){const e=t.map(i=>Nt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Z0(n)}function Mg(t){let e=Nt(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function o3e(t,e){t=Nt(t),t.length>e&&nn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Z0(r)}function Ar(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const A9="0123456789abcdef";function Pt(t,e){if(e||(e={}),typeof t=="number"){nn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=A9[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),oY(t))return t.toHexString();if(Ar(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":nn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(wm(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=A9[(i&240)>>4]+A9[i&15]}return r}return nn.throwArgumentError("invalid hexlify value","value",t)}function Wf(t){if(typeof t!="string")t=Pt(t);else if(!Ar(t)||t.length%2)return null;return(t.length-2)/2}function rs(t,e,r){return typeof t!="string"?t=Pt(t):(!Ar(t)||t.length%2)&&nn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function go(t){let e="0x";return t.forEach(r=>{e+=Pt(r).substring(2)}),e}function kI(t){const e=a3e(Pt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function a3e(t){typeof t!="string"&&(t=Pt(t)),Ar(t)||nn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function on(t,e){for(typeof t!="string"?t=Pt(t):Ar(t)||nn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&nn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function j4(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(AI(t)){let r=Nt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Pt(r.slice(0,32)),e.s=Pt(r.slice(32,64))):r.length===65?(e.r=Pt(r.slice(0,32)),e.s=Pt(r.slice(32,64)),e.v=r[64]):nn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:nn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Pt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=o3e(Nt(e._vs),32);e._vs=Pt(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&nn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Pt(i);e.s==null?e.s=o:e.s!==o&&nn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?nn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&nn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ar(e.r)?nn.throwArgumentError("signature missing or invalid r","signature",t):e.r=on(e.r,32),e.s==null||!Ar(e.s)?nn.throwArgumentError("signature missing or invalid s","signature",t):e.s=on(e.s,32);const r=Nt(e.s);r[0]>=128&&nn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Pt(r);e._vs&&(Ar(e._vs)||nn.throwArgumentError("signature invalid _vs","signature",t),e._vs=on(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&nn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const aY="bignumber/5.8.0";var _5=_t.BN;const Wc=new ge(aY),k9={},nR=9007199254740991;function l3e(t){return t!=null&&(We.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ar(t)||typeof t=="bigint"||wm(t))}let iR=!1;class We{constructor(e,r){e!==k9&&Wc.throwError("cannot call constructor directly; use BigNumber.from",ge.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Es(Wt(this).fromTwos(e))}toTwos(e){return Es(Wt(this).toTwos(e))}abs(){return this._hex[0]==="-"?We.from(this._hex.substring(1)):this}add(e){return Es(Wt(this).add(Wt(e)))}sub(e){return Es(Wt(this).sub(Wt(e)))}div(e){return We.from(e).isZero()&&jo("division-by-zero","div"),Es(Wt(this).div(Wt(e)))}mul(e){return Es(Wt(this).mul(Wt(e)))}mod(e){const r=Wt(e);return r.isNeg()&&jo("division-by-zero","mod"),Es(Wt(this).umod(r))}pow(e){const r=Wt(e);return r.isNeg()&&jo("negative-power","pow"),Es(Wt(this).pow(r))}and(e){const r=Wt(e);return(this.isNegative()||r.isNeg())&&jo("unbound-bitwise-result","and"),Es(Wt(this).and(r))}or(e){const r=Wt(e);return(this.isNegative()||r.isNeg())&&jo("unbound-bitwise-result","or"),Es(Wt(this).or(r))}xor(e){const r=Wt(e);return(this.isNegative()||r.isNeg())&&jo("unbound-bitwise-result","xor"),Es(Wt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&jo("negative-width","mask"),Es(Wt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&jo("negative-width","shl"),Es(Wt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&jo("negative-width","shr"),Es(Wt(this).shrn(e))}eq(e){return Wt(this).eq(Wt(e))}lt(e){return Wt(this).lt(Wt(e))}lte(e){return Wt(this).lte(Wt(e))}gt(e){return Wt(this).gt(Wt(e))}gte(e){return Wt(this).gte(Wt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Wt(this).isZero()}toNumber(){try{return Wt(this).toNumber()}catch{jo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Wc.throwError("this platform does not support BigInt",ge.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?iR||(iR=!0,Wc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Wc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ge.errors.UNEXPECTED_ARGUMENT,{}):Wc.throwError("BigNumber.toString does not accept parameters",ge.errors.UNEXPECTED_ARGUMENT,{})),Wt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof We)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new We(k9,Bw(e)):e.match(/^-?[0-9]+$/)?new We(k9,Bw(new _5(e))):Wc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&jo("underflow","BigNumber.from",e),(e>=nR||e<=-nR)&&jo("overflow","BigNumber.from",e),We.from(String(e));const r=e;if(typeof r=="bigint")return We.from(r.toString());if(wm(r))return We.from(Pt(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return We.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ar(n)||n[0]==="-"&&Ar(n.substring(1))))return We.from(n)}return Wc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Bw(t){if(typeof t!="string")return Bw(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Wc.throwArgumentError("invalid hex","value",t),t=Bw(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Es(t){return We.from(Bw(t))}function Wt(t){const e=We.from(t).toHexString();return e[0]==="-"?new _5("-"+e.substring(3),16):new _5(e.substring(2),16)}function jo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Wc.throwError(t,ge.errors.NUMERIC_FAULT,n)}function c3e(t){return new _5(t,36).toString(16)}const as=new ge(aY),fy={},lY=We.from(0),cY=We.from(-1);function uY(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),as.throwError(t,ge.errors.NUMERIC_FAULT,i)}let py="0";for(;py.length<256;)py+=py;function SI(t){if(typeof t!="number")try{t=We.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+py.substring(0,t):as.throwArgumentError("invalid decimal size","decimals",t)}function S9(t,e){e==null&&(e=0);const r=SI(e);t=We.from(t);const n=t.lt(lY);n&&(t=t.mul(cY));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Ol(t,e){e==null&&(e=0);const r=SI(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&as.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&as.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&as.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&uY("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=We.from(s),l=We.from(o);let c=a.mul(r).add(l);return n&&(c=c.mul(cY)),c}class J0{constructor(e,r,n,i){e!==fy&&as.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=SI(i),Object.freeze(this)}static from(e){if(e instanceof J0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||as.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&as.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&as.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&as.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new J0(fy,r,n,i)}}class oi{constructor(e,r,n,i){e!==fy&&as.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&as.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ol(this._value,this.format.decimals),n=Ol(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ol(this._value,this.format.decimals),n=Ol(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ol(this._value,this.format.decimals),n=Ol(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ol(this._value,this.format.decimals),n=Ol(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(sR.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(sR.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&as.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+py.substring(0,e),this.format),i=u3e.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&as.throwArgumentError("invalid byte width","width",e);const r=We.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return on(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!l3e(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(S9(e,r),J0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=J0.from(r),i=Ol(e,n.decimals);!n.signed&&i.lt(lY)&&uY("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=on(s,n.width/8));const o=S9(i,n.decimals);return new oi(fy,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=J0.from(r);if(Nt(e).length>n.width/8)throw new Error("overflow");let i=We.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=S9(i,n.decimals);return new oi(fy,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(wm(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==ge.errors.INVALID_ARGUMENT)throw n}return as.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const sR=oi.from(1),u3e=oi.from("0.5"),d3e="abstract-provider/5.8.0";var h3e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const f3e=new ge(d3e);class p3e extends Zbe{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class $I{constructor(){f3e.checkAbstract(new.target,$I),Ht(this,"_isProvider",!0)}getFeeData(){return h3e(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield ci({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=We.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const g3e="networks/5.8.0",oR=new ge(g3e);function m3e(t){return t&&typeof t.renetwork=="function"}function Ba(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Ba(r)},e}function C5(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return C5(t,n)},r}const aR={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ba("homestead")},lR={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ba("ropsten")},cR={chainId:63,name:"classicMordor",_defaultProvider:C5("https://www.ethercluster.com/mordor","classicMordor")},Y2={unspecified:{chainId:0,name:"unspecified"},homestead:aR,mainnet:aR,morden:{chainId:2,name:"morden"},ropsten:lR,testnet:lR,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ba("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ba("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ba("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ba("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ba("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:C5("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:cR,classicTestnet:cR,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:C5("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ba("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ba("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ba("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function y3e(t){if(t==null)return null;if(typeof t=="number"){for(const n in Y2){const i=Y2[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Y2[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Y2[t.name];if(!e)return typeof t.chainId!="number"&&oR.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&oR.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(m3e(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function dY(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Nt(e)}function hY(t){t=Nt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class fY{constructor(e){Ht(this,"alphabet",e),Ht(this,"base",e.length),Ht(this,"_alphabetMap",{}),Ht(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Nt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Nt(new Uint8Array(r.reverse()))}}new fY("abcdefghijklmnopqrstuvwxyz234567");const R7=new fY("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),w3e="0x0000000000000000000000000000000000000000",v3e=We.from(0),b3e="0x0000000000000000000000000000000000000000000000000000000000000000";var pY={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(j){return typeof j=="object"&&j.buffer&&j.buffer.constructor===ArrayBuffer});for(var C=function(j,G,Q){return function(K){return new k(j,G,j).update(K)[Q]()}},x=function(j,G,Q){return function(K,re){return new k(j,G,re).update(K)[Q]()}},I=function(j,G,Q){return function(K,re,le,ne){return A["cshake"+j].update(K,re,le,ne)[Q]()}},$=function(j,G,Q){return function(K,re,le,ne){return A["kmac"+j].update(K,re,le,ne)[Q]()}},R=function(j,G,Q,K){for(var re=0;re<b.length;++re){var le=b[re];j[le]=G(Q,K,le)}return j},T=function(j,G){var Q=C(j,G,"hex");return Q.create=function(){return new k(j,G,j)},Q.update=function(K){return Q.create().update(K)},R(Q,C,j,G)},L=function(j,G){var Q=x(j,G,"hex");return Q.create=function(K){return new k(j,G,K)},Q.update=function(K,re){return Q.create(re).update(K)},R(Q,x,j,G)},U=function(j,G){var Q=v[j],K=I(j,G,"hex");return K.create=function(re,le,ne){return!le&&!ne?A["shake"+j].create(re):new k(j,G,re).bytepad([le,ne],Q)},K.update=function(re,le,ne,ae){return K.create(le,ne,ae).update(re)},R(K,I,j,G)},W=function(j,G){var Q=v[j],K=$(j,G,"hex");return K.create=function(re,le,ne){return new z(j,G,le).bytepad(["KMAC",ne],Q).bytepad([re],Q)},K.update=function(re,le,ne,ae){return K.create(re,ne,ae).update(le)},R(K,$,j,G)},M=[{name:"keccak",padding:f,bits:w,createMethod:T},{name:"sha3",padding:p,bits:w,createMethod:T},{name:"shake",padding:u,bits:y,createMethod:L},{name:"cshake",padding:h,bits:y,createMethod:U},{name:"kmac",padding:h,bits:y,createMethod:W}],A={},_=[],S=0;S<M.length;++S)for(var O=M[S],P=O.bits,N=0;N<P.length;++N){var D=O.name+"_"+P[N];if(_.push(D),A[D]=O.createMethod(P[N],O.padding),O.name!=="sha3"){var F=O.name+P[N];_.push(F),A[F]=A[D]}}function k(j,G,Q){this.blocks=[],this.s=[],this.padding=G,this.outputBits=Q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(j<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Q>>5,this.extraBytes=(Q&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}k.prototype.update=function(j){if(this.finalized)throw new Error(r);var G,Q=typeof j;if(Q!=="string"){if(Q==="object"){if(j===null)throw new Error(e);if(l&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!l||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);G=!0}for(var K=this.blocks,re=this.byteCount,le=j.length,ne=this.blockCount,ae=0,ye=this.s,de,he;ae<le;){if(this.reset)for(this.reset=!1,K[0]=this.block,de=1;de<ne+1;++de)K[de]=0;if(G)for(de=this.start;ae<le&&de<re;++ae)K[de>>2]|=j[ae]<<g[de++&3];else for(de=this.start;ae<le&&de<re;++ae)he=j.charCodeAt(ae),he<128?K[de>>2]|=he<<g[de++&3]:he<2048?(K[de>>2]|=(192|he>>6)<<g[de++&3],K[de>>2]|=(128|he&63)<<g[de++&3]):he<55296||he>=57344?(K[de>>2]|=(224|he>>12)<<g[de++&3],K[de>>2]|=(128|he>>6&63)<<g[de++&3],K[de>>2]|=(128|he&63)<<g[de++&3]):(he=65536+((he&1023)<<10|j.charCodeAt(++ae)&1023),K[de>>2]|=(240|he>>18)<<g[de++&3],K[de>>2]|=(128|he>>12&63)<<g[de++&3],K[de>>2]|=(128|he>>6&63)<<g[de++&3],K[de>>2]|=(128|he&63)<<g[de++&3]);if(this.lastByteIndex=de,de>=re){for(this.start=de-re,this.block=K[ne],de=0;de<ne;++de)ye[de]^=K[de];V(ye),this.reset=!0}else this.start=de}return this},k.prototype.encode=function(j,G){var Q=j&255,K=1,re=[Q];for(j=j>>8,Q=j&255;Q>0;)re.unshift(Q),j=j>>8,Q=j&255,++K;return G?re.push(K):re.unshift(K),this.update(re),re.length},k.prototype.encodeString=function(j){var G,Q=typeof j;if(Q!=="string"){if(Q==="object"){if(j===null)throw new Error(e);if(l&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!l||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);G=!0}var K=0,re=j.length;if(G)K=re;else for(var le=0;le<j.length;++le){var ne=j.charCodeAt(le);ne<128?K+=1:ne<2048?K+=2:ne<55296||ne>=57344?K+=3:(ne=65536+((ne&1023)<<10|j.charCodeAt(++le)&1023),K+=4)}return K+=this.encode(K*8),this.update(j),K},k.prototype.bytepad=function(j,G){for(var Q=this.encode(G),K=0;K<j.length;++K)Q+=this.encodeString(j[K]);var re=G-Q%G,le=[];return le.length=re,this.update(le),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var j=this.blocks,G=this.lastByteIndex,Q=this.blockCount,K=this.s;if(j[G>>2]|=this.padding[G&3],this.lastByteIndex===this.byteCount)for(j[0]=j[Q],G=1;G<Q+1;++G)j[G]=0;for(j[Q-1]|=2147483648,G=0;G<Q;++G)K[G]^=j[G];V(K)}},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var j=this.blockCount,G=this.s,Q=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne="",ae;le<Q;){for(re=0;re<j&&le<Q;++re,++le)ae=G[re],ne+=c[ae>>4&15]+c[ae&15]+c[ae>>12&15]+c[ae>>8&15]+c[ae>>20&15]+c[ae>>16&15]+c[ae>>28&15]+c[ae>>24&15];le%j===0&&(V(G),re=0)}return K&&(ae=G[re],ne+=c[ae>>4&15]+c[ae&15],K>1&&(ne+=c[ae>>12&15]+c[ae>>8&15]),K>2&&(ne+=c[ae>>20&15]+c[ae>>16&15])),ne},k.prototype.arrayBuffer=function(){this.finalize();var j=this.blockCount,G=this.s,Q=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne=this.outputBits>>3,ae;K?ae=new ArrayBuffer(Q+1<<2):ae=new ArrayBuffer(ne);for(var ye=new Uint32Array(ae);le<Q;){for(re=0;re<j&&le<Q;++re,++le)ye[le]=G[re];le%j===0&&V(G)}return K&&(ye[re]=G[re],ae=ae.slice(0,ne)),ae},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var j=this.blockCount,G=this.s,Q=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne=[],ae,ye;le<Q;){for(re=0;re<j&&le<Q;++re,++le)ae=le<<2,ye=G[re],ne[ae]=ye&255,ne[ae+1]=ye>>8&255,ne[ae+2]=ye>>16&255,ne[ae+3]=ye>>24&255;le%j===0&&V(G)}return K&&(ae=le<<2,ye=G[re],ne[ae]=ye&255,K>1&&(ne[ae+1]=ye>>8&255),K>2&&(ne[ae+2]=ye>>16&255)),ne};function z(j,G,Q){k.call(this,j,G,Q)}z.prototype=new k,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),k.prototype.finalize.call(this)};var V=function(j){var G,Q,K,re,le,ne,ae,ye,de,he,Xe,ie,xe,be,se,we,vt,ce,Ie,Fe,tt,Qe,$t,ht,it,ke,Te,fe,Ve,st,Ke,at,Pe,dt,Et,bt,Be,Sr,Ge,Bt,Zi,nr,er,B,H,Y,Z,X,te,me,pe,ze,xt,_e,Le,lt,Ue,Ee,pt,At,Lt,Kt,tr;for(K=0;K<48;K+=2)re=j[0]^j[10]^j[20]^j[30]^j[40],le=j[1]^j[11]^j[21]^j[31]^j[41],ne=j[2]^j[12]^j[22]^j[32]^j[42],ae=j[3]^j[13]^j[23]^j[33]^j[43],ye=j[4]^j[14]^j[24]^j[34]^j[44],de=j[5]^j[15]^j[25]^j[35]^j[45],he=j[6]^j[16]^j[26]^j[36]^j[46],Xe=j[7]^j[17]^j[27]^j[37]^j[47],ie=j[8]^j[18]^j[28]^j[38]^j[48],xe=j[9]^j[19]^j[29]^j[39]^j[49],G=ie^(ne<<1|ae>>>31),Q=xe^(ae<<1|ne>>>31),j[0]^=G,j[1]^=Q,j[10]^=G,j[11]^=Q,j[20]^=G,j[21]^=Q,j[30]^=G,j[31]^=Q,j[40]^=G,j[41]^=Q,G=re^(ye<<1|de>>>31),Q=le^(de<<1|ye>>>31),j[2]^=G,j[3]^=Q,j[12]^=G,j[13]^=Q,j[22]^=G,j[23]^=Q,j[32]^=G,j[33]^=Q,j[42]^=G,j[43]^=Q,G=ne^(he<<1|Xe>>>31),Q=ae^(Xe<<1|he>>>31),j[4]^=G,j[5]^=Q,j[14]^=G,j[15]^=Q,j[24]^=G,j[25]^=Q,j[34]^=G,j[35]^=Q,j[44]^=G,j[45]^=Q,G=ye^(ie<<1|xe>>>31),Q=de^(xe<<1|ie>>>31),j[6]^=G,j[7]^=Q,j[16]^=G,j[17]^=Q,j[26]^=G,j[27]^=Q,j[36]^=G,j[37]^=Q,j[46]^=G,j[47]^=Q,G=he^(re<<1|le>>>31),Q=Xe^(le<<1|re>>>31),j[8]^=G,j[9]^=Q,j[18]^=G,j[19]^=Q,j[28]^=G,j[29]^=Q,j[38]^=G,j[39]^=Q,j[48]^=G,j[49]^=Q,be=j[0],se=j[1],Y=j[11]<<4|j[10]>>>28,Z=j[10]<<4|j[11]>>>28,fe=j[20]<<3|j[21]>>>29,Ve=j[21]<<3|j[20]>>>29,At=j[31]<<9|j[30]>>>23,Lt=j[30]<<9|j[31]>>>23,nr=j[40]<<18|j[41]>>>14,er=j[41]<<18|j[40]>>>14,dt=j[2]<<1|j[3]>>>31,Et=j[3]<<1|j[2]>>>31,we=j[13]<<12|j[12]>>>20,vt=j[12]<<12|j[13]>>>20,X=j[22]<<10|j[23]>>>22,te=j[23]<<10|j[22]>>>22,st=j[33]<<13|j[32]>>>19,Ke=j[32]<<13|j[33]>>>19,Kt=j[42]<<2|j[43]>>>30,tr=j[43]<<2|j[42]>>>30,_e=j[5]<<30|j[4]>>>2,Le=j[4]<<30|j[5]>>>2,bt=j[14]<<6|j[15]>>>26,Be=j[15]<<6|j[14]>>>26,ce=j[25]<<11|j[24]>>>21,Ie=j[24]<<11|j[25]>>>21,me=j[34]<<15|j[35]>>>17,pe=j[35]<<15|j[34]>>>17,at=j[45]<<29|j[44]>>>3,Pe=j[44]<<29|j[45]>>>3,ht=j[6]<<28|j[7]>>>4,it=j[7]<<28|j[6]>>>4,lt=j[17]<<23|j[16]>>>9,Ue=j[16]<<23|j[17]>>>9,Sr=j[26]<<25|j[27]>>>7,Ge=j[27]<<25|j[26]>>>7,Fe=j[36]<<21|j[37]>>>11,tt=j[37]<<21|j[36]>>>11,ze=j[47]<<24|j[46]>>>8,xt=j[46]<<24|j[47]>>>8,B=j[8]<<27|j[9]>>>5,H=j[9]<<27|j[8]>>>5,ke=j[18]<<20|j[19]>>>12,Te=j[19]<<20|j[18]>>>12,Ee=j[29]<<7|j[28]>>>25,pt=j[28]<<7|j[29]>>>25,Bt=j[38]<<8|j[39]>>>24,Zi=j[39]<<8|j[38]>>>24,Qe=j[48]<<14|j[49]>>>18,$t=j[49]<<14|j[48]>>>18,j[0]=be^~we&ce,j[1]=se^~vt&Ie,j[10]=ht^~ke&fe,j[11]=it^~Te&Ve,j[20]=dt^~bt&Sr,j[21]=Et^~Be&Ge,j[30]=B^~Y&X,j[31]=H^~Z&te,j[40]=_e^~lt&Ee,j[41]=Le^~Ue&pt,j[2]=we^~ce&Fe,j[3]=vt^~Ie&tt,j[12]=ke^~fe&st,j[13]=Te^~Ve&Ke,j[22]=bt^~Sr&Bt,j[23]=Be^~Ge&Zi,j[32]=Y^~X&me,j[33]=Z^~te&pe,j[42]=lt^~Ee&At,j[43]=Ue^~pt&Lt,j[4]=ce^~Fe&Qe,j[5]=Ie^~tt&$t,j[14]=fe^~st&at,j[15]=Ve^~Ke&Pe,j[24]=Sr^~Bt&nr,j[25]=Ge^~Zi&er,j[34]=X^~me&ze,j[35]=te^~pe&xt,j[44]=Ee^~At&Kt,j[45]=pt^~Lt&tr,j[6]=Fe^~Qe&be,j[7]=tt^~$t&se,j[16]=st^~at&ht,j[17]=Ke^~Pe&it,j[26]=Bt^~nr&dt,j[27]=Zi^~er&Et,j[36]=me^~ze&B,j[37]=pe^~xt&H,j[46]=At^~Kt&_e,j[47]=Lt^~tr&Le,j[8]=Qe^~be&we,j[9]=$t^~se&vt,j[18]=at^~ht&ke,j[19]=Pe^~it&Te,j[28]=nr^~dt&bt,j[29]=er^~Et&Be,j[38]=ze^~B&Y,j[39]=xt^~H&Z,j[48]=Kt^~_e&lt,j[49]=tr^~Le&Ue,j[0]^=m[K],j[1]^=m[K+1]};if(a)t.exports=A;else for(S=0;S<_.length;++S)i[_[S]]=A[_[S]]})()})(pY);var x3e=pY.exports;const E3e=ko(x3e);function fi(t){return"0x"+E3e.keccak_256(Nt(t))}const _3e="strings/5.8.0",gY=new ge(_3e);var zw;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(zw||(zw={}));var co;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(co||(co={}));function C3e(t,e,r,n,i){return gY.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function mY(t,e,r,n,i){if(t===co.BAD_PREFIX||t===co.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===co.OVERRUN?r.length-e-1:0}function A3e(t,e,r,n,i){return t===co.OVERLONG?(n.push(i),0):(n.push(65533),mY(t,e,r))}const k3e=Object.freeze({error:C3e,ignore:mY,replace:A3e});function yY(t,e){e==null&&(e=k3e.error),t=Nt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(co.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(co.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(co.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[n];if((c&192)!=128){n+=e(co.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(co.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(co.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(co.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Au(t,e=zw.current){e!=zw.current&&(gY.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Nt(r)}function S3e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function D4(t,e){return S3e(yY(t,e))}function $3e(t,e=zw.current){return yY(Au(t,e))}function wY(t){return fi(Au(t))}const vY="hash/5.8.0";function bY(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function I3e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function T3e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let x=1;x<n;x++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,g=p>>1,m=f-1;let w=0;for(let x=0;x<h;x++)w=w<<1|u();let y=[],b=0,v=f;for(;;){let x=Math.floor(((w-b+1)*i-1)/v),I=0,$=n;for(;$-I>1;){let L=I+$>>>1;x<s[L]?$=L:I=L}if(I==0)break;y.push(I);let R=b+Math.floor(v*s[I]/i),T=b+Math.floor(v*s[I+1]/i)-1;for(;!((R^T)&p);)w=w<<1&m|u(),R=R<<1&m,T=T<<1&m|1;for(;R&~T&g;)w=w&p|w<<1&m>>>1|u(),R=R<<1^p,T=(T^p)<<1|p|1;b=R,v=1+T-R}let C=n-4;return y.map(x=>{switch(x-C){case 3:return C+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return C+256+(t[a++]<<8|t[a++]);case 1:return C+t[a++];default:return x-1}})}function P3e(t){let e=0;return()=>t[e++]}function N3e(t){return P3e(T3e(t))}function O3e(t){return t&1?~t>>1:t>>1}function M3e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function uR(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function R3e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=O3e(e());return r}function A5(t,e){let r=uR(t(),t),n=t(),i=uR(n,t),s=M3e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function j3e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(L3e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(F3e(r,t))}return I3e(bY(e))}function D3e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function xY(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)R3e(t,r).forEach((s,o)=>n[o].push(s));return n}function L3e(t,e){let r=1+e(),n=e(),i=D3e(e),s=xY(i.length,1+t,e);return bY(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*n;return[l+h*r,c.map(p=>p+f)]})}))}function F3e(t,e){let r=1+e();return xY(r,1+t,e).map(i=>[i[0],i.slice(1)])}function U3e(t){let e=A5(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=A5(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function B3e(){return N3e(dY("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const L4=B3e(),z3e=new Set(A5(L4)),W3e=new Set(A5(L4)),H3e=j3e(L4),q3e=U3e(L4),dR=45,hR=95;function EY(t){return $3e(t)}function V3e(t){return t.filter(e=>e!=65039)}function _Y(t){for(let e of t.split(".")){let r=EY(e);try{for(let n=r.lastIndexOf(hR)-1;n>=0;n--)if(r[n]!==hR)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===dR&&r[3]===dR)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function G3e(t){return _Y(K3e(t,V3e))}function K3e(t,e){let r=EY(t).reverse(),n=[];for(;r.length;){let i=Q3e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(z3e.has(s)){n.push(s);continue}if(W3e.has(s))continue;let o=H3e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return _Y(Y3e(String.fromCodePoint(...n)))}function Y3e(t){return t.normalize("NFC")}function Q3e(t,e){var r;let n=q3e,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(n=(r=n.branches.find(c=>c.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const Z3e=new ge(vY),CY=new Uint8Array(32);CY.fill(0);function fR(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function AY(t){const e=Au(G3e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(fR(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(fR(e.slice(n))),r}function c3(t){typeof t!="string"&&Z3e.throwArgumentError("invalid ENS name; not a string","name",t);let e=CY;const r=AY(t);for(;r.length;)e=fi(rf([e,fi(r.pop())]));return Pt(e)}function J3e(t){return Pt(rf(AY(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const X3e="rlp/5.8.0",Bl=new ge(X3e);function pR(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function gR(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function kY(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(kY(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=pR(n.length);return i.unshift(247+i.length),i.concat(n)}AI(t)||Bl.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Nt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=pR(e.length);return r.unshift(183+r.length),r.concat(e)}function F4(t){return Pt(kY(t))}function mR(t,e,r,n){const i=[];for(;r<e+1+n;){const s=SY(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Bl.throwError("child data too short",ge.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function SY(t,e){if(t.length===0&&Bl.throwError("data too short",ge.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Bl.throwError("data short segment too short",ge.errors.BUFFER_OVERRUN,{});const n=gR(t,e+1,r);return e+1+r+n>t.length&&Bl.throwError("data long segment too short",ge.errors.BUFFER_OVERRUN,{}),mR(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Bl.throwError("data array too short",ge.errors.BUFFER_OVERRUN,{}),mR(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Bl.throwError("data array too short",ge.errors.BUFFER_OVERRUN,{});const n=gR(t,e+1,r);e+1+r+n>t.length&&Bl.throwError("data array too short",ge.errors.BUFFER_OVERRUN,{});const i=Pt(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Bl.throwError("data too short",ge.errors.BUFFER_OVERRUN,{});const n=Pt(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Pt(t[e])}}function II(t){const e=Nt(t),r=SY(e,0);return r.consumed!==e.length&&Bl.throwArgumentError("invalid rlp data","data",t),r.result}const e5e="address/5.8.0",T0=new ge(e5e);function yR(t){Ar(t,20)||T0.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Nt(fi(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const t5e=9007199254740991;function r5e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const TI={};for(let t=0;t<10;t++)TI[String(t)]=String(t);for(let t=0;t<26;t++)TI[String.fromCharCode(65+t)]=String(10+t);const wR=Math.floor(r5e(t5e));function n5e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>TI[n]).join("");for(;e.length>=wR;){let n=e.substring(0,wR);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ul(t){let e=null;if(typeof t!="string"&&T0.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=yR(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&T0.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==n5e(t)&&T0.throwArgumentError("bad icap checksum","address",t),e=c3e(t.substring(4));e.length<40;)e="0"+e;e=yR("0x"+e)}else T0.throwArgumentError("invalid address","address",t);return e}function i5e(t){let e=null;try{e=ul(t.from)}catch{T0.throwArgumentError("missing from address","transaction",t)}const r=Mg(Nt(We.from(t.nonce).toHexString()));return ul(rs(fi(F4([e,r])),12))}var s5e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Qr=new ge(vY),$Y=new Uint8Array(32);$Y.fill(0);const o5e=We.from(-1),IY=We.from(0),TY=We.from(1),a5e=We.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function l5e(t){const e=Nt(t),r=e.length%32;return r?go([e,$Y.slice(r)]):Pt(e)}const c5e=on(TY.toHexString(),32),u5e=on(IY.toHexString(),32),vR={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$9=["name","version","chainId","verifyingContract","salt"];function bR(t){return function(e){return typeof e!="string"&&Qr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const d5e={name:bR("name"),version:bR("version"),chainId:function(t){try{return We.from(t).toString()}catch{}return Qr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ul(t).toLowerCase()}catch{}return Qr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Nt(t);if(e.length!==32)throw new Error("bad length");return Pt(e)}catch{}return Qr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function I9(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Qr.throwArgumentError("invalid numeric width","type",t);const i=a5e.mask(r?n-1:n),s=r?i.add(TY).mul(o5e):IY;return function(o){const a=We.from(o);return(a.lt(s)||a.gt(i))&&Qr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),on(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Qr.throwArgumentError("invalid bytes width","type",t),function(n){return Nt(n).length!==r&&Qr.throwArgumentError(`invalid length for ${t}`,"value",n),l5e(n)}}}switch(t){case"address":return function(e){return on(ul(e),32)};case"bool":return function(e){return e?c5e:u5e};case"bytes":return function(e){return fi(e)};case"string":return function(e){return wY(e)}}return null}function xR(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class so{constructor(e){Ht(this,"types",Object.freeze(Uw(e))),Ht(this,"_encoderCache",{}),Ht(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Qr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Qr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!I9(u)&&(n[u]||Qr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Qr.throwArgumentError("missing primary type","types",e):s.length>1&&Qr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ht(this,"primaryType",s[0]);function o(a,l){l[a]&&Qr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(c=>{n[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=xR(a,e[a])+l.map(c=>xR(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=I9(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(fi)),fi(go(l))}}const n=this.types[e];if(n){const i=wY(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?fi(c):c});return o.unshift(i),go(o)}}return Qr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Qr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return fi(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(I9(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):Qr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new so(e)}static getPrimaryType(e){return so.from(e).primaryType}static hashStruct(e,r,n){return so.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=vR[n];i||Qr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>$9.indexOf(n.name)-$9.indexOf(i.name)),so.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return go(["0x1901",so.hashDomain(e),so.from(r).hash(n)])}static hash(e,r,n){return fi(so.encode(e,r,n))}static resolveNames(e,r,n,i){return s5e(this,void 0,void 0,function*(){e=Ds(e);const s={};e.verifyingContract&&!Ar(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=so.from(r);o.visit(n,(a,l)=>(a==="address"&&!Ar(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){so.hashDomain(e);const i={},s=[];$9.forEach(l=>{const c=e[l];c!=null&&(i[l]=d5e[l](c),s.push({name:l,type:vR[l]}))});const o=so.from(r),a=Ds(r);return a.EIP712Domain?Qr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return Pt(Nt(c));if(l.match(/^u?int/))return We.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Qr.throwArgumentError("invalid string","value",c),c}return Qr.throwArgumentError("unsupported type","type",l)})}}}var PY={},Vt={},Wv=NY;function NY(t,e){if(!t)throw new Error(e||"Assertion failed")}NY.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var j7={exports:{}};typeof Object.create=="function"?j7.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:j7.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var h5e=j7.exports,f5e=Wv,p5e=h5e;Vt.inherits=p5e;function g5e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function m5e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):g5e(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Vt.toArray=m5e;function y5e(t){for(var e="",r=0;r<t.length;r++)e+=MY(t[r].toString(16));return e}Vt.toHex=y5e;function OY(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Vt.htonl=OY;function w5e(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=OY(i)),r+=RY(i.toString(16))}return r}Vt.toHex32=w5e;function MY(t){return t.length===1?"0"+t:t}Vt.zero2=MY;function RY(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Vt.zero8=RY;function v5e(t,e,r,n){var i=r-e;f5e(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Vt.join32=v5e;function b5e(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Vt.split32=b5e;function x5e(t,e){return t>>>e|t<<32-e}Vt.rotr32=x5e;function E5e(t,e){return t<<e|t>>>32-e}Vt.rotl32=E5e;function _5e(t,e){return t+e>>>0}Vt.sum32=_5e;function C5e(t,e,r){return t+e+r>>>0}Vt.sum32_3=C5e;function A5e(t,e,r,n){return t+e+r+n>>>0}Vt.sum32_4=A5e;function k5e(t,e,r,n,i){return t+e+r+n+i>>>0}Vt.sum32_5=k5e;function S5e(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Vt.sum64=S5e;function $5e(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Vt.sum64_hi=$5e;function I5e(t,e,r,n){var i=e+n;return i>>>0}Vt.sum64_lo=I5e;function T5e(t,e,r,n,i,s,o,a){var l=0,c=e;c=c+n>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+r+i+o+l;return u>>>0}Vt.sum64_4_hi=T5e;function P5e(t,e,r,n,i,s,o,a){var l=e+n+s+a;return l>>>0}Vt.sum64_4_lo=P5e;function N5e(t,e,r,n,i,s,o,a,l,c){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var f=t+r+i+o+l+u;return f>>>0}Vt.sum64_5_hi=N5e;function O5e(t,e,r,n,i,s,o,a,l,c){var u=e+n+s+a+c;return u>>>0}Vt.sum64_5_lo=O5e;function M5e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Vt.rotr64_hi=M5e;function R5e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Vt.rotr64_lo=R5e;function j5e(t,e,r){return t>>>r}Vt.shr64_hi=j5e;function D5e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Vt.shr64_lo=D5e;var vm={},ER=Vt,L5e=Wv;function U4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}vm.BlockHash=U4;U4.prototype.update=function(e,r){if(e=ER.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=ER.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};U4.prototype.digest=function(e){return this.update(this._pad()),L5e(this.pending===null),this._digest(e)};U4.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var bm={},Ec={},F5e=Vt,nc=F5e.rotr32;function U5e(t,e,r,n){if(t===0)return jY(e,r,n);if(t===1||t===3)return LY(e,r,n);if(t===2)return DY(e,r,n)}Ec.ft_1=U5e;function jY(t,e,r){return t&e^~t&r}Ec.ch32=jY;function DY(t,e,r){return t&e^t&r^e&r}Ec.maj32=DY;function LY(t,e,r){return t^e^r}Ec.p32=LY;function B5e(t){return nc(t,2)^nc(t,13)^nc(t,22)}Ec.s0_256=B5e;function z5e(t){return nc(t,6)^nc(t,11)^nc(t,25)}Ec.s1_256=z5e;function W5e(t){return nc(t,7)^nc(t,18)^t>>>3}Ec.g0_256=W5e;function H5e(t){return nc(t,17)^nc(t,19)^t>>>10}Ec.g1_256=H5e;var Rg=Vt,q5e=vm,V5e=Ec,T9=Rg.rotl32,n1=Rg.sum32,G5e=Rg.sum32_5,K5e=V5e.ft_1,FY=q5e.BlockHash,Y5e=[1518500249,1859775393,2400959708,3395469782];function pc(){if(!(this instanceof pc))return new pc;FY.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Rg.inherits(pc,FY);var Q5e=pc;pc.blockSize=512;pc.outSize=160;pc.hmacStrength=80;pc.padLength=64;pc.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=T9(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),h=G5e(T9(s,5),K5e(u,o,a,l),c,n[i],Y5e[u]);c=l,l=a,a=T9(o,30),o=s,s=h}this.h[0]=n1(this.h[0],s),this.h[1]=n1(this.h[1],o),this.h[2]=n1(this.h[2],a),this.h[3]=n1(this.h[3],l),this.h[4]=n1(this.h[4],c)};pc.prototype._digest=function(e){return e==="hex"?Rg.toHex32(this.h,"big"):Rg.split32(this.h,"big")};var jg=Vt,Z5e=vm,xm=Ec,J5e=Wv,Ia=jg.sum32,X5e=jg.sum32_4,e6e=jg.sum32_5,t6e=xm.ch32,r6e=xm.maj32,n6e=xm.s0_256,i6e=xm.s1_256,s6e=xm.g0_256,o6e=xm.g1_256,UY=Z5e.BlockHash,a6e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){if(!(this instanceof gc))return new gc;UY.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=a6e,this.W=new Array(64)}jg.inherits(gc,UY);var BY=gc;gc.blockSize=512;gc.outSize=256;gc.hmacStrength=192;gc.padLength=64;gc.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=X5e(o6e(n[i-2]),n[i-7],s6e(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(J5e(this.k.length===n.length),i=0;i<n.length;i++){var p=e6e(f,i6e(c),t6e(c,u,h),this.k[i],n[i]),g=Ia(n6e(s),r6e(s,o,a));f=h,h=u,u=c,c=Ia(l,p),l=a,a=o,o=s,s=Ia(p,g)}this.h[0]=Ia(this.h[0],s),this.h[1]=Ia(this.h[1],o),this.h[2]=Ia(this.h[2],a),this.h[3]=Ia(this.h[3],l),this.h[4]=Ia(this.h[4],c),this.h[5]=Ia(this.h[5],u),this.h[6]=Ia(this.h[6],h),this.h[7]=Ia(this.h[7],f)};gc.prototype._digest=function(e){return e==="hex"?jg.toHex32(this.h,"big"):jg.split32(this.h,"big")};var D7=Vt,zY=BY;function ku(){if(!(this instanceof ku))return new ku;zY.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}D7.inherits(ku,zY);var l6e=ku;ku.blockSize=512;ku.outSize=224;ku.hmacStrength=192;ku.padLength=64;ku.prototype._digest=function(e){return e==="hex"?D7.toHex32(this.h.slice(0,7),"big"):D7.split32(this.h.slice(0,7),"big")};var Vs=Vt,c6e=vm,u6e=Wv,ic=Vs.rotr64_hi,sc=Vs.rotr64_lo,WY=Vs.shr64_hi,HY=Vs.shr64_lo,qu=Vs.sum64,P9=Vs.sum64_hi,N9=Vs.sum64_lo,d6e=Vs.sum64_4_hi,h6e=Vs.sum64_4_lo,f6e=Vs.sum64_5_hi,p6e=Vs.sum64_5_lo,qY=c6e.BlockHash,g6e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dl(){if(!(this instanceof dl))return new dl;qY.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g6e,this.W=new Array(160)}Vs.inherits(dl,qY);var VY=dl;dl.blockSize=1024;dl.outSize=512;dl.hmacStrength=192;dl.padLength=128;dl.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=k6e(n[i-4],n[i-3]),o=S6e(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],c=C6e(n[i-30],n[i-29]),u=A6e(n[i-30],n[i-29]),h=n[i-32],f=n[i-31];n[i]=d6e(s,o,a,l,c,u,h,f),n[i+1]=h6e(s,o,a,l,c,u,h,f)}};dl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],g=this.h[10],m=this.h[11],w=this.h[12],y=this.h[13],b=this.h[14],v=this.h[15];u6e(this.k.length===n.length);for(var C=0;C<n.length;C+=2){var x=b,I=v,$=E6e(f,p),R=_6e(f,p),T=m6e(f,p,g,m,w),L=y6e(f,p,g,m,w,y),U=this.k[C],W=this.k[C+1],M=n[C],A=n[C+1],_=f6e(x,I,$,R,T,L,U,W,M,A),S=p6e(x,I,$,R,T,L,U,W,M,A);x=b6e(i,s),I=x6e(i,s),$=w6e(i,s,o,a,l),R=v6e(i,s,o,a,l,c);var O=P9(x,I,$,R),P=N9(x,I,$,R);b=w,v=y,w=g,y=m,g=f,m=p,f=P9(u,h,_,S),p=N9(h,h,_,S),u=l,h=c,l=o,c=a,o=i,a=s,i=P9(_,S,O,P),s=N9(_,S,O,P)}qu(this.h,0,i,s),qu(this.h,2,o,a),qu(this.h,4,l,c),qu(this.h,6,u,h),qu(this.h,8,f,p),qu(this.h,10,g,m),qu(this.h,12,w,y),qu(this.h,14,b,v)};dl.prototype._digest=function(e){return e==="hex"?Vs.toHex32(this.h,"big"):Vs.split32(this.h,"big")};function m6e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function y6e(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function w6e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function v6e(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function b6e(t,e){var r=ic(t,e,28),n=ic(e,t,2),i=ic(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function x6e(t,e){var r=sc(t,e,28),n=sc(e,t,2),i=sc(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function E6e(t,e){var r=ic(t,e,14),n=ic(t,e,18),i=ic(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function _6e(t,e){var r=sc(t,e,14),n=sc(t,e,18),i=sc(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function C6e(t,e){var r=ic(t,e,1),n=ic(t,e,8),i=WY(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function A6e(t,e){var r=sc(t,e,1),n=sc(t,e,8),i=HY(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function k6e(t,e){var r=ic(t,e,19),n=ic(e,t,29),i=WY(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function S6e(t,e){var r=sc(t,e,19),n=sc(e,t,29),i=HY(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var L7=Vt,GY=VY;function Su(){if(!(this instanceof Su))return new Su;GY.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}L7.inherits(Su,GY);var $6e=Su;Su.blockSize=1024;Su.outSize=384;Su.hmacStrength=192;Su.padLength=128;Su.prototype._digest=function(e){return e==="hex"?L7.toHex32(this.h.slice(0,12),"big"):L7.split32(this.h.slice(0,12),"big")};bm.sha1=Q5e;bm.sha224=l6e;bm.sha256=BY;bm.sha384=$6e;bm.sha512=VY;var KY={},Hf=Vt,I6e=vm,Q2=Hf.rotl32,_R=Hf.sum32,i1=Hf.sum32_3,CR=Hf.sum32_4,YY=I6e.BlockHash;function mc(){if(!(this instanceof mc))return new mc;YY.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Hf.inherits(mc,YY);KY.ripemd160=mc;mc.blockSize=512;mc.outSize=160;mc.hmacStrength=192;mc.padLength=64;mc.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=n,c=i,u=s,h=o,f=a,p=0;p<80;p++){var g=_R(Q2(CR(n,AR(p,i,s,o),e[N6e[p]+r],T6e(p)),M6e[p]),a);n=a,a=o,o=Q2(s,10),s=i,i=g,g=_R(Q2(CR(l,AR(79-p,c,u,h),e[O6e[p]+r],P6e(p)),R6e[p]),f),l=f,f=h,h=Q2(u,10),u=c,c=g}g=i1(this.h[1],s,h),this.h[1]=i1(this.h[2],o,f),this.h[2]=i1(this.h[3],a,l),this.h[3]=i1(this.h[4],n,c),this.h[4]=i1(this.h[0],i,u),this.h[0]=g};mc.prototype._digest=function(e){return e==="hex"?Hf.toHex32(this.h,"little"):Hf.split32(this.h,"little")};function AR(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function T6e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function P6e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var N6e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],O6e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M6e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],R6e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],j6e=Vt,D6e=Wv;function Dg(t,e,r){if(!(this instanceof Dg))return new Dg(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(j6e.toArray(e,r))}var L6e=Dg;Dg.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),D6e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Dg.prototype.update=function(e,r){return this.inner.update(e,r),this};Dg.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Vt,e.common=vm,e.sha=bm,e.ripemd=KY,e.hmac=L6e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(PY);const Dl=ko(PY);function kR(t){return"0x"+Dl.sha256().update(Nt(t)).digest("hex")}const F6e="web/5.8.0";var U6e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function B6e(t,e){return U6e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Nt(new Uint8Array(i))}})}var z6e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Oa=new ge(F6e);function SR(t){return new Promise(e=>{setTimeout(e,t)})}function Vu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(AI(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return D4(t)}catch{}return Pt(t)}return t}function W6e(t){return Au(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function H6e(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Oa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Oa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Oa.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const y in t.headers)a[y.toLowerCase()]={key:y,value:String(t.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Oa.throwError("basic authentication requires a secure https url",ge.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const y=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+hY(Au(y))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=Ds(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?dY(p[3]):W6e(p[3])};let b=y.body;return r&&(b=r(y.body,y)),Promise.resolve(b)}catch(y){Oa.throwError("processing response error",ge.errors.SERVER_ERROR,{body:Vu(p[1],p[2]),error:y,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(a).forEach(y=>{const b=a[y];g[b.key]=b.value}),c.headers=g;const m=function(){let y=null;return{promise:new Promise(function(C,x){h&&(y=setTimeout(()=>{y!=null&&(y=null,x(Oa.makeError("timeout",ge.errors.TIMEOUT,{requestBody:Vu(c.body,g["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),w=function(){return z6e(this,void 0,void 0,function*(){for(let y=0;y<n;y++){let b=null;try{if(b=yield B6e(l,c),y<n){if(b.statusCode===301||b.statusCode===302){const C=b.headers.location||"";if(c.method==="GET"&&C.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let C=!0;if(i&&(C=yield i(y,l)),C){let x=0;const I=b.headers["retry-after"];typeof I=="string"&&I.match(/^[1-9][0-9]*$/)?x=parseInt(I)*1e3:x=s*parseInt(String(Math.random()*Math.pow(2,y))),yield SR(x);continue}}}}catch(C){b=C.response,b==null&&(m.cancel(),Oa.throwError("missing response",ge.errors.SERVER_ERROR,{requestBody:Vu(c.body,g["content-type"]),requestMethod:c.method,serverError:C,url:l}))}let v=b.body;if(u&&b.statusCode===304?v=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),Oa.throwError("bad response",ge.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:Vu(v,b.headers?b.headers["content-type"]:null),requestBody:Vu(c.body,g["content-type"]),requestMethod:c.method,url:l})),r)try{const C=yield r(v,b);return m.cancel(),C}catch(C){if(C.throttleRetry&&y<n){let x=!0;if(i&&(x=yield i(y,l)),x){const I=s*parseInt(String(Math.random()*Math.pow(2,y)));yield SR(I);continue}}m.cancel(),Oa.throwError("processing response error",ge.errors.SERVER_ERROR,{body:Vu(v,b.headers?b.headers["content-type"]:null),error:C,requestBody:Vu(c.body,g["content-type"]),requestMethod:c.method,url:l})}return m.cancel(),v}return Oa.throwError("failed response",ge.errors.SERVER_ERROR,{requestBody:Vu(c.body,g["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([m.promise,w])}function PI(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(D4(s))}catch(l){Oa.throwError("invalid JSON",ge.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Au(e);const s=typeof t=="string"?{url:t}:Ds(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Ds(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return H6e(t,i,n)}function z1(t,e){return e||(e={}),e=Ds(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&n(u)})}c()})}var k5="qpzry9x8gf2tvdw0s3jn54khce6mua7l",F7={};for(var Z2=0;Z2<k5.length;Z2++){var O9=k5.charAt(Z2);if(F7[O9]!==void 0)throw new TypeError(O9+" is ambiguous");F7[O9]=Z2}function X0(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function QY(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=X0(e)^n>>5}for(e=X0(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=X0(e)^i&31}return e}function q6e(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=QY(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=X0(n)^o,i+=k5.charAt(o)}for(s=0;s<6;++s)n=X0(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=k5.charAt(a)}return i}function ZY(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=QY(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=F7[u];if(h===void 0)return"Unknown character "+u;a=X0(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function V6e(){var t=ZY.apply(null,arguments);if(typeof t=="object")return t}function G6e(t){var e=ZY.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function B4(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function K6e(t){var e=B4(t,8,5,!0);if(Array.isArray(e))return e}function Y6e(t){var e=B4(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Q6e(t){var e=B4(t,5,8,!1);if(Array.isArray(e))return e}function Z6e(t){var e=B4(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var J6e={decodeUnsafe:V6e,decode:G6e,encode:q6e,toWordsUnsafe:K6e,toWords:Y6e,fromWordsUnsafe:Q6e,fromWords:Z6e};const $R=ko(J6e),z4="providers/5.8.0";function Em(t,e,r){return r={path:e,exports:{},require:function(n,i){return X6e(n,i??r.path)}},t(r,r.exports),r.exports}function X6e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var NI=JY;function JY(t,e){if(!t)throw new Error(e||"Assertion failed")}JY.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Qa=Em(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),Po=Em(function(t,e){var r=e;r.assert=NI,r.toArray=Qa.toArray,r.zero2=Qa.zero2,r.toHex=Qa.toHex,r.encode=Qa.encode;function n(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,g=l.clone();for(f=0;f<h.length;f++){var m,w=g.andln(p-1);g.isOdd()?(w>(p>>1)-1?m=(p>>1)-w:m=w,g.isubn(m)):m=0,h[f]=m,g.iushrn(1)}return h}r.getNAF=n;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var g=l.andln(3)+h&3,m=c.andln(3)+f&3;g===3&&(g=-1),m===3&&(m=-1);var w;g&1?(p=l.andln(7)+h&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[0].push(w);var y;m&1?(p=c.andln(7)+f&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[1].push(y),2*h===w+1&&(h=1-h),2*f===y+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}r.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new _t(l,"hex","le")}r.intFromLE=a}),S5=Po.getNAF,e4e=Po.getJSF,$5=Po.assert;function bh(t,e){this.type=t,this.p=new _t(e.p,16),this.red=e.prime?_t.red(e.prime):_t.mont(this.p),this.zero=new _t(0).toRed(this.red),this.one=new _t(1).toRed(this.red),this.two=new _t(2).toRed(this.red),this.n=e.n&&new _t(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var up=bh;bh.prototype.point=function(){throw new Error("Not implemented")};bh.prototype.validate=function(){throw new Error("Not implemented")};bh.prototype._fixedNafMul=function(e,r){$5(e.precomputed);var n=e._getDoubles(),i=S5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var c=a+n.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(n.points[a]):l===-f&&(h=h.mixedAdd(n.points[a].neg()));u=u.add(h)}return u.toP()};bh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=S5(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];$5(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};bh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=r[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var g=u-1,m=u;if(o[g]!==1||o[m]!==1){l[g]=S5(n[g],o[g],this._bitLength),l[m]=S5(n[m],o[m],this._bitLength),c=Math.max(l[g].length,c),c=Math.max(l[m].length,c);continue}var w=[r[g],null,null,r[m]];r[g].y.cmp(r[m].y)===0?(w[1]=r[g].add(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg())):r[g].y.cmp(r[m].y.redNeg())===0?(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].add(r[m].neg())):(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=e4e(n[g],n[m]);for(c=Math.max(b[0].length,c),l[g]=new Array(c),l[m]=new Array(c),h=0;h<c;h++){var v=b[0][h]|0,C=b[1][h]|0;l[g][h]=y[(v+1)*3+(C+1)],l[m][h]=0,a[g]=w}}var x=this.jpoint(null,null,null),I=this._wnafT4;for(u=c;u>=0;u--){for(var $=0;u>=0;){var R=!0;for(h=0;h<i;h++)I[h]=l[h][u]|0,I[h]!==0&&(R=!1);if(!R)break;$++,u--}if(u>=0&&$++,x=x.dblp($),u<0)break;for(h=0;h<i;h++){var T=I[h];T!==0&&(T>0?f=a[h][T-1>>1]:T<0&&(f=a[h][-T-1>>1].neg()),f.type==="affine"?x=x.mixedAdd(f):x=x.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?x:x.toP()};function _a(t,e){this.curve=t,this.type=e,this.precomputed=null}bh.BasePoint=_a;_a.prototype.eq=function(){throw new Error("Not implemented")};_a.prototype.validate=function(){return this.curve.validate(this)};bh.prototype.decodePoint=function(e,r){e=Po.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$5(e[e.length-1]%2===0):e[0]===7&&$5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};_a.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_a.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};_a.prototype.encode=function(e,r){return Po.encode(this._encode(r),e)};_a.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_a.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_a.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};_a.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};_a.prototype._getBeta=function(){return null};_a.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var OI=Em(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),t4e=Po.assert;function Ca(t){up.call(this,"short",t),this.a=new _t(t.a,16).toRed(this.red),this.b=new _t(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}OI(Ca,up);var r4e=Ca;Ca.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new _t(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new _t(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],t4e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new _t(a.a,16),b:new _t(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ca.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:_t.mont(e),n=new _t(2).toRed(r).redInvm(),i=n.redNeg(),s=new _t(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ca.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new _t(1),o=new _t(0),a=new _t(0),l=new _t(1),c,u,h,f,p,g,m,w=0,y,b;n.cmpn(0)!==0;){var v=i.div(n);y=i.sub(v.mul(n)),b=a.sub(v.mul(s));var C=l.sub(v.mul(o));if(!h&&y.cmp(r)<0)c=m.neg(),u=s,h=y.neg(),f=b;else if(h&&++w===2)break;m=y,i=n,n=y,a=s,s=b,l=o,o=C}p=y.neg(),g=b;var x=h.sqr().add(f.sqr()),I=p.sqr().add(g.sqr());return I.cmp(x)>=0&&(p=c,g=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),g=g.neg()),[{a:h,b:f},{a:p,b:g}]};Ca.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),c=s.mul(n.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};Ca.prototype.pointFromX=function(e,r){e=new _t(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ca.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ca.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function Xn(t,e,r,n){up.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _t(e,16),this.y=new _t(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}OI(Xn,up.BasePoint);Ca.prototype.point=function(e,r,n){return new Xn(this,e,r,n)};Ca.prototype.pointFromJSON=function(e,r){return Xn.fromJSON(this,e,r)};Xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xn.prototype.isInfinity=function(){return this.inf};Xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xn.prototype.getX=function(){return this.x.fromRed()};Xn.prototype.getY=function(){return this.y.fromRed()};Xn.prototype.mul=function(e){return e=new _t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function vi(t,e,r,n){up.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _t(0)):(this.x=new _t(e,16),this.y=new _t(r,16),this.z=new _t(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}OI(vi,up.BasePoint);Ca.prototype.jpoint=function(e,r,n){return new vi(this,e,r,n)};vi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};vi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};vi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),g=c.redMul(f.redISub(p)).redISub(o.redMul(h)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,g,m)};vi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=n.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(f,p,g)};vi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),g=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),m=o.redMul(f),w=g.redSqr().redISub(m.redAdd(m)),y=m.redISub(w),b=g.redMul(y);b=b.redIAdd(b).redISub(p);var v=u.redMul(l);r+1<e&&(c=c.redMul(p)),o=w,l=v,u=b}return this.curve.jpoint(o,u.redMul(s),l)};vi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};vi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(h).redISub(p);g=g.redIAdd(g);var m=h.redAdd(h).redIAdd(h),w=m.redSqr(),y=p.redIAdd(p);y=y.redIAdd(y),y=y.redIAdd(y),e=w.redISub(g).redISub(g),r=m.redMul(g.redISub(e)).redISub(y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};vi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),g=this.x.redSub(h).redMul(this.x.redAdd(h));g=g.redAdd(g).redIAdd(g);var m=p.redIAdd(p);m=m.redIAdd(m);var w=m.redAdd(m);e=g.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),r=g.redMul(m.redISub(e)).redISub(y)}return this.curve.jpoint(e,r,n)};vi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=l.redMul(f).redISub(p),m=n.redAdd(n).redMul(i);return this.curve.jpoint(h,g,m)};vi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(f,p,g)};vi.prototype.mul=function(e,r){return e=new _t(e,r),this.curve._wnafMul(this,e)};vi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};vi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};vi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};vi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var u3=Em(function(t,e){var r=e;r.base=up,r.short=r4e,r.mont=null,r.edwards=null}),d3=Em(function(t,e){var r=e,n=Po.assert;function i(a){a.type==="short"?this.curve=new u3.short(a):a.type==="edwards"?this.curve=new u3.edwards(a):this.curve=new u3.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Dl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Dl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Dl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Dl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Dl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Dl.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Dl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Dl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function oh(t){if(!(this instanceof oh))return new oh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qa.toArray(t.entropy,t.entropyEnc||"hex"),r=Qa.toArray(t.nonce,t.nonceEnc||"hex"),n=Qa.toArray(t.pers,t.persEnc||"hex");NI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var XY=oh;oh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};oh.prototype._hmac=function(){return new Dl.hmac(this.hash,this.K)};oh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};oh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Qa.toArray(e,r),n=Qa.toArray(n,i),NI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};oh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Qa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Qa.encode(o,r)};var U7=Po.assert;function Vi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var MI=Vi;Vi.fromPublic=function(e,r,n){return r instanceof Vi?r:new Vi(e,{pub:r,pubEnc:n})};Vi.fromPrivate=function(e,r,n){return r instanceof Vi?r:new Vi(e,{priv:r,privEnc:n})};Vi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Vi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Vi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Vi.prototype._importPrivate=function(e,r){this.priv=new _t(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Vi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?U7(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&U7(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Vi.prototype.derive=function(e){return e.validate()||U7(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Vi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Vi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Vi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var n4e=Po.assert;function W4(t,e){if(t instanceof W4)return t;this._importDER(t,e)||(n4e(t.r&&t.s,"Signature without r or s"),this.r=new _t(t.r,16),this.s=new _t(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var H4=W4;function i4e(){this.place=0}function M9(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function IR(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}W4.prototype._importDER=function(e,r){e=Po.toArray(e,r);var n=new i4e;if(e[n.place++]!==48)return!1;var i=M9(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=M9(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=M9(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new _t(o),this.s=new _t(l),this.recoveryParam=null,!0};function R9(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}W4.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=IR(r),n=IR(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];R9(i,r.length),i=i.concat(r),i.push(2),R9(i,n.length);var s=i.concat(n),o=[48];return R9(o,s.length),o=o.concat(s),Po.encode(o,e)};var s4e=function(){throw new Error("unsupported")},Wh=Po.assert;function ha(t){if(!(this instanceof ha))return new ha(t);typeof t=="string"&&(Wh(Object.prototype.hasOwnProperty.call(d3,t),"Unknown curve "+t),t=d3[t]),t instanceof d3.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var o4e=ha;ha.prototype.keyPair=function(e){return new MI(this,e)};ha.prototype.keyFromPrivate=function(e,r){return MI.fromPrivate(this,e,r)};ha.prototype.keyFromPublic=function(e,r){return MI.fromPublic(this,e,r)};ha.prototype.genKeyPair=function(e){e||(e={});for(var r=new XY({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s4e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new _t(2));;){var s=new _t(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ha.prototype._truncateToN=function(e,r,n){var i;if(_t.isBN(e)||typeof e=="number")e=new _t(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new _t(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new _t(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ha.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!_t.isBN(e)){Wh(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Wh(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Wh((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Wh(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),l=e.toArray("be",o);Wh(new _t(l).eq(e),"Can not sign message");for(var c=new XY({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new _t(1)),h=0;;h++){var f=i.k?i.k(h):new _t(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var w=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var y=(p.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),y^=1),new H4({r:m,s:w,recoveryParam:y})}}}}}};ha.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new H4(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};ha.prototype.recoverPubKey=function(t,e,r,n){Wh((3&r)===r,"The recovery param is more than two bits"),e=new H4(e,n);var i=this.n,s=new _t(t),o=e.r,a=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};ha.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new H4(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var a4e=Em(function(t,e){var r=e;r.version="6.6.1",r.utils=Po,r.rand=function(){throw new Error("unsupported")},r.curve=u3,r.curves=d3,r.ec=o4e,r.eddsa=null}),l4e=a4e.ec;const c4e="signing-key/5.8.0",B7=new ge(c4e);let j9=null;function hd(){return j9||(j9=new l4e("secp256k1")),j9}class u4e{constructor(e){Ht(this,"curve","secp256k1"),Ht(this,"privateKey",Pt(e)),Wf(this.privateKey)!==32&&B7.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=hd().keyFromPrivate(Nt(this.privateKey));Ht(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ht(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ht(this,"_isSigningKey",!0)}_addPoint(e){const r=hd().keyFromPublic(Nt(this.publicKey)),n=hd().keyFromPublic(Nt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=hd().keyFromPrivate(Nt(this.privateKey)),n=Nt(e);n.length!==32&&B7.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return j4({recoveryParam:i.recoveryParam,r:on("0x"+i.r.toString(16),32),s:on("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=hd().keyFromPrivate(Nt(this.privateKey)),n=hd().keyFromPublic(Nt(eQ(e)));return on("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function d4e(t,e){const r=j4(e),n={r:Nt(r.r),s:Nt(r.s)};return"0x"+hd().recoverPubKey(Nt(t),n,r.recoveryParam).encode("hex",!1)}function eQ(t,e){const r=Nt(t);return r.length===32?new u4e(r).publicKey:r.length===33?"0x"+hd().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Pt(r):B7.throwArgumentError("invalid public or private key","key","[REDACTED]")}const h4e="transactions/5.8.0",ju=new ge(h4e);var TR;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(TR||(TR={}));function RI(t){return t==="0x"?null:ul(t)}function Ui(t){return t==="0x"?v3e:We.from(t)}function f4e(t){const e=eQ(t);return ul(rs(fi(rs(e,1)),12))}function tQ(t,e){return f4e(d4e(Nt(t),e))}function uo(t,e){const r=Mg(We.from(t).toHexString());return r.length>32&&ju.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function D9(t,e){return{address:ul(t),storageKeys:(e||[]).map((r,n)=>(Wf(r)!==32&&ju.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Hv(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ju.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),D9(r[0],r[1])):D9(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return D9(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function rQ(t){return Hv(t).map(e=>[e.address,e.storageKeys])}function p4e(t,e){if(t.gasPrice!=null){const n=We.from(t.gasPrice),i=We.from(t.maxFeePerGas||0);n.eq(i)||ju.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[uo(t.chainId||0,"chainId"),uo(t.nonce||0,"nonce"),uo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),uo(t.maxFeePerGas||0,"maxFeePerGas"),uo(t.gasLimit||0,"gasLimit"),t.to!=null?ul(t.to):"0x",uo(t.value||0,"value"),t.data||"0x",rQ(t.accessList||[])];if(e){const n=j4(e);r.push(uo(n.recoveryParam,"recoveryParam")),r.push(Mg(n.r)),r.push(Mg(n.s))}return go(["0x02",F4(r)])}function g4e(t,e){const r=[uo(t.chainId||0,"chainId"),uo(t.nonce||0,"nonce"),uo(t.gasPrice||0,"gasPrice"),uo(t.gasLimit||0,"gasLimit"),t.to!=null?ul(t.to):"0x",uo(t.value||0,"value"),t.data||"0x",rQ(t.accessList||[])];if(e){const n=j4(e);r.push(uo(n.recoveryParam,"recoveryParam")),r.push(Mg(n.r)),r.push(Mg(n.s))}return go(["0x01",F4(r)])}function nQ(t,e,r){try{const n=Ui(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ju.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=on(e[1],32),t.s=on(e[2],32);try{const n=fi(r(t));t.from=tQ(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function m4e(t){const e=II(t.slice(1));e.length!==9&&e.length!==12&&ju.throwArgumentError("invalid component count for transaction type: 2","payload",Pt(t));const r=Ui(e[2]),n=Ui(e[3]),i={type:2,chainId:Ui(e[0]).toNumber(),nonce:Ui(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ui(e[4]),to:RI(e[5]),value:Ui(e[6]),data:e[7],accessList:Hv(e[8])};return e.length===9||(i.hash=fi(t),nQ(i,e.slice(9),p4e)),i}function y4e(t){const e=II(t.slice(1));e.length!==8&&e.length!==11&&ju.throwArgumentError("invalid component count for transaction type: 1","payload",Pt(t));const r={type:1,chainId:Ui(e[0]).toNumber(),nonce:Ui(e[1]).toNumber(),gasPrice:Ui(e[2]),gasLimit:Ui(e[3]),to:RI(e[4]),value:Ui(e[5]),data:e[6],accessList:Hv(e[7])};return e.length===8||(r.hash=fi(t),nQ(r,e.slice(8),g4e)),r}function w4e(t){const e=II(t);e.length!==9&&e.length!==6&&ju.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ui(e[0]).toNumber(),gasPrice:Ui(e[1]),gasLimit:Ui(e[2]),to:RI(e[3]),value:Ui(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=We.from(e[6]).toNumber()}catch{return r}if(r.r=on(e[7],32),r.s=on(e[8],32),We.from(r.r).isZero()&&We.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Pt(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=fi(F4(i));try{r.from=tQ(s,{r:Pt(r.r),s:Pt(r.s),recoveryParam:n})}catch{}r.hash=fi(t)}return r.type=null,r}function v4e(t){const e=Nt(t);if(e[0]>127)return w4e(e);switch(e[0]){case 1:return y4e(e);case 2:return m4e(e)}return ju.throwError(`unsupported transaction type: ${e[0]}`,ge.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const s1=new ge(z4);class nt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:nt.allowNull(this.accessList.bind(this),null),blockHash:nt.allowNull(o,null),blockNumber:nt.allowNull(l,null),transactionIndex:nt.allowNull(l,null),confirmations:nt.allowNull(l,null),from:r,gasPrice:nt.allowNull(n),maxPriorityFeePerGas:nt.allowNull(n),maxFeePerGas:nt.allowNull(n),gasLimit:n,to:nt.allowNull(r,null),value:n,nonce:l,data:s,r:nt.allowNull(this.uint256),s:nt.allowNull(this.uint256),v:nt.allowNull(l),creates:nt.allowNull(r,null),raw:nt.allowNull(s)},e.transactionRequest={from:nt.allowNull(r),nonce:nt.allowNull(l),gasLimit:nt.allowNull(n),gasPrice:nt.allowNull(n),maxPriorityFeePerGas:nt.allowNull(n),maxFeePerGas:nt.allowNull(n),to:nt.allowNull(r),value:nt.allowNull(n),data:nt.allowNull(u),type:nt.allowNull(l),accessList:nt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:nt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:nt.allowNull(this.address,null),from:nt.allowNull(this.address,null),contractAddress:nt.allowNull(r,null),transactionIndex:l,root:nt.allowNull(a),gasUsed:n,logsBloom:nt.allowNull(s),blockHash:o,transactionHash:o,logs:nt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:nt.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:nt.allowNull(n),status:nt.allowNull(l),type:c},e.block={hash:nt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:nt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:nt.allowNull(r),extraData:s,transactions:nt.allowNull(nt.arrayOf(o)),baseFeePerGas:nt.allowNull(n)},e.blockWithTransactions=Ds(e.block),e.blockWithTransactions.transactions=nt.allowNull(nt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:nt.allowNull(i,void 0),toBlock:nt.allowNull(i,void 0),blockHash:nt.allowNull(o,void 0),address:nt.allowNull(r,void 0),topics:nt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:nt.allowNull(l),blockHash:nt.allowNull(o),transactionIndex:l,removed:nt.allowNull(this.boolean.bind(this)),address:r,data:nt.allowFalsish(s,"0x"),topics:nt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Hv(e||[])}number(e){return e==="0x"?0:We.from(e).toNumber()}type(e){return e==="0x"||e==null?0:We.from(e).toNumber()}bigNumber(e){return We.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ar(e))?e.toLowerCase():s1.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return ul(e)}callAddress(e){if(!Ar(e,32))return null;const r=ul(rs(e,12));return r===w3e?null:r}contractAddress(e){return i5e(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ar(e))return kI(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Wf(n)!==32?s1.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=We.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Ar(e))throw new Error("invalid uint256");return on(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=nt.check(r,e);return i._difficulty=n==null?null:We.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return nt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&We.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=nt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Ar(n)&&(n=We.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Ar(n)&&(n=We.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return v4e(e)}receiptLog(e){return nt.check(this.formats.receiptLog,e)}receipt(e){const r=nt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=We.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&s1.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):s1.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&s1.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return nt.check(this.formats.filter,e)}filterLog(e){return nt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var St=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ft=new ge(z4),b4e=10;function PR(t){return t==null?"null":(Wf(t)!==32&&Ft.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function NR(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[PR(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return PR(e)}).join("&")}function x4e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Mp(t){if(typeof t=="string"){if(t=t.toLowerCase(),Wf(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+NR(t);if(p3e.isForkEvent(t))throw Ft.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+NR(t.topics||[])}throw new Error("invalid event - "+t)}function o1(){return new Date().getTime()}function OR(t){return new Promise(e=>{setTimeout(e,t)})}const E4e=["block","network","pending","poll"];let _4e=class{constructor(e,r,n){Ht(this,"tag",e),Ht(this,"listener",r),Ht(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=x4e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||E4e.indexOf(this.tag)>=0}};const C4e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function L9(t){return on(We.from(t).toHexString(),32)}function MR(t){return R7.encode(rf([t,rs(kR(kR(t)),0,4)]))}const iQ=new RegExp("^(ipfs)://(.*)$","i"),RR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),iQ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function h3(t,e){try{return D4(Ww(t,e))}catch{}return null}function Ww(t,e){if(t==="0x")return null;const r=We.from(rs(t,e,e+32)).toNumber(),n=We.from(rs(t,r,r+32)).toNumber();return rs(t,r+32,r+32+n)}function F9(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ft.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function jR(t){const e=Nt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function A4e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function sQ(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Nt(t[n]);e[n]=jR(r),e.push(jR(i.length)),e.push(A4e(i)),r+=32+Math.ceil(i.length/32)*32}return go(e)}class DR{constructor(e,r,n,i){Ht(this,"provider",e),Ht(this,"name",n),Ht(this,"address",e.formatter.address(r)),Ht(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>We.from(e).eq(1)).catch(e=>{if(e.code===ge.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return St(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:go([e,c3(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=go(["0x9061b923",sQ([J3e(this.name),n.data])]));try{let s=yield this.provider.call(n);return Nt(s).length%32===4&&Ft.throwError("resolver threw error",ge.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Ww(s,0)),s}catch(s){if(s.code===ge.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return St(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Ww(n,0):null})}_getAddress(e,r){const n=C4e[String(e)];if(n==null&&Ft.throwError(`unsupported coin type: ${e}`,ge.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Nt(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return MR(rf([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return MR(rf([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=$R.toWords(i.slice(2));return a.unshift(o),$R.encode(n.prefix,a)}}return null}getAddress(e){return St(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===b3e?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ge.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",L9(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Ft.throwError("invalid or unsupported coin data",ge.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return St(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<RR.length;n++){const i=r.match(RR[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:F9(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=on(We.from(l[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:go(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=We.from(yield this.provider.call({to:c,data:go(["0x00fdd58e",on(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const h={to:this.provider.formatter.address(l[0]),data:go([o,u])};let f=h3(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=F9(f)),e.push({type:"metadata-url",content:f});const p=yield PI(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let g=p.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(iQ)==null)return null;e.push({type:"url-ipfs",content:g}),g=F9(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return St(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+R7.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+R7.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+hY("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Ft.throwError("invalid or unsupported content hash data",ge.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return St(this,void 0,void 0,function*(){let r=Au(e);r=rf([L9(64),L9(r.length),r]),r.length%32!==0&&(r=rf([r,on("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Pt(r));return n==null||n==="0x"?null:D4(n)})}}let U9=null,k4e=1;class S4e extends $I{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ht(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=B1(new.target,"getNetwork")(e);r?(Ht(this,"_network",r),this.emit("network",r,null)):Ft.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return St(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ft.throwError("no network detected",ge.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ht(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return z1(()=>this._ready().then(e=>e,e=>{if(!(e.code===ge.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return U9==null&&(U9=new nt),U9}static getNetwork(e){return y3e(e??"homestead")}ccipReadFetch(e,r,n){return St(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield PI({url:c,errorPassThrough:!0},u,(p,g)=>(p.status=g.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Ft.throwError(`response not found during CCIP fetch: ${f}`,ge.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return Ft.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,ge.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return St(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(o1()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=o1(),n=ci({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=o1();return i=We.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return St(this,void 0,void 0,function*(){const e=k4e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ft.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ft.makeError("network block skew detected",ge.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return St(this,void 0,void 0,function*(){return Ft.throwError("provider does not support network detection",ge.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return St(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield OR(0),this._network;const n=Ft.makeError("underlying network changed",ge.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=o1();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=o1(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return St(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return St(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<r||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const g=m=>St(this,void 0,void 0,function*(){c||(yield OR(1e3),this.getTransactionCount(i.from).then(w=>St(this,void 0,void 0,function*(){if(!c){if(w<=i.nonce)f=m;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=m;){if(c)return;const y=yield this.getBlockWithTransactions(p);for(let b=0;b<y.transactions.length;b++){const v=y.transactions[b];if(v.hash===e)return;if(v.from===i.from&&v.nonce===i.nonce){if(c)return;const C=yield this.waitForTransaction(v.hash,r);if(u())return;let x="replaced";v.data===i.data&&v.to===i.to&&v.value.eq(i.value)?x="repriced":v.data==="0x"&&v.from===v.to&&v.value.isZero()&&(x="cancelled"),a(Ft.makeError("transaction was replaced",ge.errors.TRANSACTION_REPLACED,{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:this._wrapTransaction(v),hash:e,receipt:C}));return}}p++}}c||this.once("block",g)}}),w=>{c||this.once("block",g)}))});if(c)return;this.once("block",g),l.push(()=>{this.removeListener("block",g)})}if(typeof n=="number"&&n>0){const f=setTimeout(()=>{u()||a(Ft.makeError("timeout exceeded",ge.errors.TIMEOUT,{timeout:n}))},n);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return St(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return St(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return We.from(e)}catch(r){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return St(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ci({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return We.from(i)}catch(s){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return St(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ci({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return We.from(i).toNumber()}catch(s){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return St(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ci({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Pt(i)}catch(s){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return St(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield ci({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>kI(o))}),s=yield this.perform("getStorageAt",i);try{return Pt(s)}catch(o){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Wf(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Ft.throwError("Transaction hash mismatch from Provider.sendTransaction.",ge.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>St(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Ft.throwError("transaction failed",ge.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Pt(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return St(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?We.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Pt(s):null))}),this.formatter.transactionRequest(yield ci(n))})}_getFilter(e){return St(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield ci(r))})}_call(e,r,n){return St(this,void 0,void 0,function*(){n>=b4e&&Ft.throwError("CCIP read exceeded maximum redirections",ge.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Wf(s)%32===4)try{const o=rs(s,4),a=rs(o,0,32);We.from(a).eq(i)||Ft.throwError("CCIP Read sender did not match",ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=We.from(rs(o,32,64)).toNumber(),u=We.from(rs(o,c,c+32)).toNumber(),h=rs(o,c+32);for(let y=0;y<u;y++){const b=h3(h,y*32);b==null&&Ft.throwError("CCIP Read contained corrupt URL string",ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(b)}const f=Ww(o,64);We.from(rs(o,100,128)).isZero()||Ft.throwError("CCIP Read callback selector included junk",ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=rs(o,96,100),g=Ww(o,128),m=yield this.ccipReadFetch(e,f,l);m==null&&Ft.throwError("CCIP Read disabled or provided no URLs",ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:go([p,sQ([m,g])])};return this._call(w,r,n+1)}catch(o){if(o.code===ge.errors.SERVER_ERROR)throw o}try{return Pt(s)}catch(o){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return St(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ci({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ci({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return We.from(n)}catch(i){return Ft.throwError("bad result from backend",ge.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return St(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ft.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Ft.throwError("ENS name not configured",ge.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Ar(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ar(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Ft.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return z1(()=>St(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return z1(()=>St(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return St(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return z1(()=>St(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return St(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ci({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),nt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return St(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return St(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ft.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return St(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new DR(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return St(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Ft.throwError("network does not support ENS",ge.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+c3(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return St(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Ar(e))throw n}typeof e!="string"&&Ft.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return St(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=h3(yield this.call({to:n,data:"0x691f3431"+c3(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return St(this,void 0,void 0,function*(){let r=null;if(Ar(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new DR(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==ge.errors.CALL_EXCEPTION)throw a}try{const a=h3(yield this.call({to:o,data:"0x691f3431"+c3(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==ge.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Ft.throwError(e+" not implemented",ge.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new _4e(Mp(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Mp(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Mp(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Mp(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Mp(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Mp(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Hc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const xn=new ge(z4),$4e=["call","estimateGas"];function gy(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Ar(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=gy(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return gy(JSON.parse(t),e)}catch{}return null}function oQ(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=gy(e,!0);if(s)return s.data;xn.throwError("missing revert data in call exception; Transaction reverted without a reason string",ge.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=gy(e.body,!1);s==null&&(s=gy(e,!1)),s&&xn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ge.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ge.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&xn.throwError("insufficient funds for intrinsic transaction cost",ge.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&xn.throwError("nonce has already been used",ge.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&xn.throwError("replacement fee too low",ge.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&xn.throwError("legacy pre-eip-155 transactions not supported",ge.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),$4e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&xn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ge.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function LR(t){return new Promise(function(e){setTimeout(e,t)})}function I4e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function a1(t){return t&&t.toLowerCase()}const z7={};class aQ extends R4{constructor(e,r,n){if(super(),e!==z7)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ht(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Ht(this,"_address",this.provider.formatter.address(n)),Ht(this,"_index",null)):typeof n=="number"?(Ht(this,"_index",n),Ht(this,"_address",null)):xn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return xn.throwError("cannot alter JSON-RPC Signer connection",ge.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new T4e(z7,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&xn.throwError("unknown account #"+this._index,ge.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Ds(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Ds(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Hc(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&xn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),ci({tx:ci(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&xn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&xn.throwError("user rejected transaction",ge.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),oQ("sendTransaction",o,s)))})}signTransaction(e){return xn.throwError("signing transactions is unsupported",ge.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Hc(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield z1(()=>Hc(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Hc(this,void 0,void 0,function*(){const r=typeof e=="string"?Au(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Pt(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xn.throwError("user rejected signing",ge.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Hc(this,void 0,void 0,function*(){const r=typeof e=="string"?Au(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Pt(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&xn.throwError("user rejected signing",ge.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Hc(this,void 0,void 0,function*(){const i=yield so.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(so.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&xn.throwError("user rejected signing",ge.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Hc(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class T4e extends aQ{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const P4e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class N4e extends S4e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=B1(this.constructor,"defaultUrl")()),typeof e=="string"?Ht(this,"connection",Object.freeze({url:e})):Ht(this,"connection",Object.freeze(Ds(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Hc(this,void 0,void 0,function*(){yield LR(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=B1(this.constructor,"getNetwork");try{return r(We.from(e).toNumber())}catch(n){return xn.throwError("could not detect network",ge.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return xn.throwError("could not detect network",ge.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new aQ(z7,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Uw(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=PI(this.connection,JSON.stringify(n),I4e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[a1(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[a1(r.address),r.blockTag]];case"getCode":return["eth_getCode",[a1(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[a1(r.address),on(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[B1(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[B1(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=a1(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Hc(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&We.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Ds(r),r.transaction=Ds(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&xn.throwError(e+" not implemented",ge.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return oQ(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return LR(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Ds(P4e);if(r)for(const s in r)r[s]&&(n[s]=!0);Kbe(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=kI(We.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Pt(e[s]))}),e.accessList&&(i.accessList=Hv(e.accessList)),i}}var O4e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const M4e=new ge(z4);class R4e extends N4e{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return O4e(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||M4e.throwError("no network detected",ge.errors.UNKNOWN_ERROR,{}),this._network==null&&(Ht(this,"_network",r),this.emit("network",r,null))),r})}}function W7(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const lQ=t=>[ba.id,P4.id].includes(t),j4e=async(t,e)=>{if(!lQ(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(We.from(120)).div(We.from(100));t.maxFeePerGas=W7(n),t.maxPriorityFeePerGas=W7(We.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},cQ=t=>[56,97].includes(t),D4e=async(t,e)=>{var r;if(!cQ(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let n=await e.getFeeData();t.gasPrice=(r=n.gasPrice)==null?void 0:r.toHexString()}return t},uQ=t=>[xa.id,N4.id,xc.id,M4.id,bI.id,tY.id,eY.id,81457,168587773].includes(t),L4e=async(t,e)=>{if(!uQ(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=We.from(r).mul(We.from(126)).div(We.from(100)).add(We.from(t.maxPriorityFeePerGas));t.maxFeePerGas=W7(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t},F4e="units/5.8.0",U4e=new ge(F4e),B4e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function FR(t,e){if(typeof t!="string"&&U4e.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=B4e.indexOf(e);r!==-1&&(e=3*r)}return Ol(t,e??18)}var dQ={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(CS,function(){var r=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!n(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!n(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(n(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(n(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(g,m){var w=function(b){var v=typeof Request<"u"&&c instanceof Request?c.clone():c;s(v,u).then(function(C){if(Array.isArray(p)&&p.indexOf(C.status)===-1)g(C);else if(typeof p=="function")try{return Promise.resolve(p(b,null,C)).then(function(x){x?y(b,null,C):g(C)}).catch(m)}catch(x){m(x)}else b<h?y(b,null,C):g(C)}).catch(function(C){if(typeof p=="function")try{Promise.resolve(p(b,C,null)).then(function(x){x?y(b,C,null):m(C)}).catch(function(x){m(x)})}catch(x){m(x)}else b<h?y(b,C,null):m(C)})};function y(b,v,C){var x=typeof f=="function"?f(b,v,C):f;setTimeout(function(){w(++b)},x)}w(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r})})(dQ);var z4e=dQ.exports;const jI=ko(z4e);let W4e=jI(fetch,{retries:3,retryDelay:500});const hQ=t=>[Qs.id,Bv.id].includes(t);let B9=t=>({maxPriorityFee:FR(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:FR(t.maxFee.toFixed(9),"gwei").toHexString()}),H4e=t=>({safeLow:B9(t.safeLow),standard:B9(t.standard),fast:B9(t.fast)});const q4e=async t=>{let e="";switch(t){case Qs.id:e="https://gasstation.polygon.technology/v2";break;case Bv.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await W4e(e),n=await r.json();if(r.status>399)throw n;return H4e(n)};async function V4e(t){if(!hQ(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await q4e(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const G4e=async(t,e)=>{var r,n,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(r=s.maxFeePerGas)==null?void 0:r.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(n=s.maxPriorityFeePerGas)==null?void 0:n.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function K4e(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!n)throw r;return n}}const UR=(t,e,r,n)=>{var o,a,l,c;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new iY(`Unsupported chainId ${t}`,4901);return new R4e(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(c=s.rpcUrls.default)==null?void 0:c.http[0])},Y4e=(t,e,r)=>{var o,a,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",r),n=c.toString()}else n=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new iY(`No RPC url found for ${i}`);return n};function fQ(t){return/^-?0x[a-f0-9]+$/i.test(t)}function Q4e(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!function(n){let i=typeof n=="number",s=typeof n=="bigint",o=typeof n=="string"&&fQ(n);return i||s||o}(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function BR(t,e,r){if(e.chainId=Number(e.chainId),Q4e(e),e.from||(e.from=t),!e.nonce){let n=new _I(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await K4e(e,r)),typeof e.type=="string"&&fQ(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=hQ(e.chainId)?await V4e(e):lQ(e.chainId)?await j4e(e,r):uQ(e.chainId)?await L4e(e,r):cQ(e.chainId)?await D4e(e,r):await G4e(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function Z4e({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function pQ(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let J4e=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function X4e(t,e,r,n,i=!1,s,o){var u,h,f;let a=i,l=async p=>{var g;if(a){p===(i?0:1)?n():(g=r.current)==null||g.reject(new a3("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((w,y)=>{e.current={resolve:w,reject:y},setTimeout(()=>{var v;let b=new a3("mfa_timeout","Timed out waiting for MFA code");(v=r.current)==null||v.reject(b),y(b)},o)});return await t(m)}return await t()},c=null;for(let p=0;p<s;p++)try{c=await l(p),(u=r.current)==null||u.resolve(void 0);break}catch(g){if(g.type!=="missing_or_invalid_mfa")throw(h=r.current)==null||h.resolve(void 0),g;a=!0}if(c===null){let p=new a3("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=r.current)==null||f.reject(p),p}return c}var zR;let exe=(zR=0,()=>"id-"+zR++),txe=(t,e)=>typeof e=="bigint"?e.toString():e,Gu=(t,{ms:e,msg:r})=>Promise.race([t,pQ(e??15e3).then(()=>Promise.reject(Error(r)))]),WR=new J4e,HR=class{invokeWithMfa(e,r){return Gu(X4e(n=>Gu(this.waitForReady().then(()=>e(n)),{msg:r.timeoutMsg,ms:r.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),r.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return Gu(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return Gu(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(r=>this.invoke("privy:wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return Gu(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(r=>this.invoke("privy:delegated-actions:consent",{...r,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:verify",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:init-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:submit-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:unenroll",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return Gu(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(r=>this.invoke("privy:user-signer:sign",{...r,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return Gu(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:set-recovery",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return Gu(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:recover",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:r,resolve:n}=WR.dequeue(e.event,e.id);return e.error!==void 0?r(new a3(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,r)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(r),await pQ(150)})}invoke(e,r){let n=((s,o)=>`${s}${JSON.stringify(o,txe)}`)(e,r);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(n);if(s)return s}let i=new Promise((s,o)=>{let a=exe();WR.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:r}),"*")}).finally(()=>{this.cache.delete(n)});return this.cache.set(n,i),i}constructor(e,r){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=r}};var gQ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},a.prototype.listenerCount=function(c){var u=r?r+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var w=this._events[m],y=arguments.length,b,v;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,f),!0;case 5:return w.fn.call(w.context,u,h,f,p),!0;case 6:return w.fn.call(w.context,u,h,f,p,g),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];w.fn.apply(w.context,b)}else{var C=w.length,x;for(v=0;v<C;v++)switch(w[v].once&&this.removeListener(c,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,h);break;case 4:w[v].fn.call(w[v].context,u,h,f);break;default:if(!b)for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];w[v].fn.apply(w[v].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var m=0,w=[],y=g.length;m<y;m++)(g[m].fn!==u||f&&!g[m].once||h&&g[m].context!==h)&&w.push(g[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(gQ);var rxe=gQ.exports;const xh=ko(rxe);let nxe=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const ixe=t=>nxe.includes(t),I5=t=>/^0x[0-9a-fA-F]*$/.test(t),T5=t=>Buffer.from(t,"utf8"),Hw=t=>`0x${t.toString("hex")}`;var sxe=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(i)}:${t(e[i])}`},"")}}`};const oxe=ko(sxe);async function axe(t,e){let r=oxe(e);if(r===void 0)throw new cr({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=Buffer.from(r).toString("base64"),{signature:i}=await t({message:n});return{signature:i}}async function ss(t,e,{wallet_id:r,...n}){let i={version:1,url:t.getCompiledPath(a9,{params:{wallet_id:r}}),method:a9.method,headers:{"privy-app-id":t.app.appId},body:{...n}},{signature:s}=await axe(e,i);return await t.fetchPrivyRoute(a9,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}function lxe(t){return{from:t.from,to:t.to,nonce:Nh(t.nonce),chain_id:Nh(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?I5(e)?e:Hw(T5(e)):Hw(Buffer.from(Uint8Array.from(e)))}(t.data),value:Nh(t.value),type:t.type,gas_limit:Nh(t.gasLimit),gas_price:Nh(t.gasPrice),max_fee_per_gas:Nh(t.maxFeePerGas),max_priority_fee_per_gas:Nh(t.maxPriorityFeePerGas)}}function Nh(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return I5(t)?t:Hw(T5(t))}function cxe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function mQ({context:t,account:e,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:n,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await ss(n,n.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await ss(n,n.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:lxe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await ss(n,n.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:cxe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await ss(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:I5(o)?o:Hw(T5(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await ss(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:I5(o)?o:Hw(T5(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:r.request});case"solana":return async function({context:n,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await ss(n,n.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:r.request})}}let z9=class extends xh{async request(e){var r,n;if(ixe(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(r=e.params)==null?void 0:r[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(n=e.params)==null?void 0:n[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let r={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(r.chainId),r}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=UR(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let r=this.ensureChainId(e);return BR(this._account.address,r,this._jsonRpcProvider)}async handleSendTransaction(e){let r=this.ensureChainId(e),n=await BR(this._account.address,r,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(r.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new QM(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new QM(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.internalSwitchEthereumChain(r)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if(bd(n)){let{data:i}=await mQ({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r})}catch(i){let s=EI(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,l)=>{var c;o=setTimeout(()=>l(new cr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((c=this._onNeedsRecovery)==null?void 0:c.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new cr({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=UR(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function H7(t){return"version"in t}function qR(t,e){let r=(H7(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}let uxe=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new cr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let n=EI(r);if(n&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw r;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new cr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,r){let n=this._account;if(!bd(n))return(await this._proxy.rpcWallet({accessToken:r,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await mQ({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r),await this.signMessageRpc(e,r)}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new cr({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n,connection:i,options:s}=e.params,o=qR(n,this._account.address),a=H7(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},r);return n.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(n.serialize(),s)}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new cr({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n}=e.params,i=qR(n,this._account.address),s=H7(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},r);return n.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:n}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new cr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},dxe=class{setMessagePoster(e){this._proxy=new HR(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessToken();if(!r)throw new cr({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:r,message:e.message});return{signature:n}}async add(e){var n;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await _9({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new cr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:r}=await this._privyInternal.refreshSession();return{user:r}}async getBitcoinProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return bd(e)||await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new Ube({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n})}async create({password:e,recoveryMethod:r,recoveryToken:n,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){var c,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((c=this._privyInternal.config)==null?void 0:c.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(r&&!r.startsWith("privy"))throw new cr({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await _9({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=r||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let f=await this._privyInternal.getAccessToken();if(!f)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:f,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var r,n;if(!this._proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await _9({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new cr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(n=e==null?void 0:e.ethereumAccount)==null?void 0:n.address});if(!s)throw new cr({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:r}){if(!this._proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessToken();if(!n)throw new cr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:r})}async getProvider(e,r,n,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return bd(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:r,recoveryKey:s,recoveryAccessToken:n,recoverySecretOverride:i}),new z9({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return bd(e)||(!l||i||s||o||a)&&await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new z9({account:e,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,r,n,i,s,o,a){if(!this._proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return bd(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new uxe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:r,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(bd(r))throw new cr({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Z4e({currentRecoveryMethod:r.recovery_method,upgradeToRecoveryMethod:n.recoveryMethod==="icloud-native"?"icloud":n.recoveryMethod}),await this._load(r.chain_type==="solana"?{wallet:r,entropyId:r.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=r.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});try{let o;if(n.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if(n.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if(n.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if(n.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${n.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:r.address,entropyIdVerifier:r.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:r.chain_type!=="ethereum"?null:new z9({account:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(r){return console.error(r),!1}}async _load({entropyId:e,entropyIdVerifier:r,wallet:n,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:r}),e}catch(c){if(EI(c))try{if(n.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),u.entropyId}if(n.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,r,n,i,s,o){if(this._chains=Array.from(zv),this._privyInternal=e,r&&(this._proxy=new HR(r,s),i.setProxy(this._proxy)),n){let a=nY(n);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},hxe=class extends xh{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},J2;const fxe=new Uint8Array(16);function pxe(){if(!J2&&(J2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!J2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J2(fxe)}const si=[];for(let t=0;t<256;++t)si.push((t+256).toString(16).slice(1));function gxe(t,e=0){return si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]}const mxe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VR={randomUUID:mxe};function P5(t,e,r){if(VR.randomUUID&&!t)return VR.randomUUID();t=t||{};const n=t.random||(t.rng||pxe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,gxe(n)}/*! js-cookie v3.0.5 | MIT */function X2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var yxe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function q7(t,e){function r(i,s,o){if(!(typeof document>"u")){o=X2({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",X2({},s,{expires:-1}))},withAttributes:function(i){return q7(this.converter,X2({},this.attributes,i))},withConverter:function(i){return q7(X2({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var dn=q7(yxe,{path:"/"});const GR=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(r=>({status:"fulfilled",value:r})).catch(r=>({status:"rejected",reason:r})))));let Rp="privy:token",W9="privy-token",eb="privy:refresh_token",H9="privy-refresh-token",jp="privy:id-token",q9="privy-id-token",tb="privy-session",yQ=class extends xh{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(Rp);try{return typeof e=="string"?new U1(e).value:null}catch(r){return console.error(r),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(eb);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(jp);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=dn.get(tb);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,r){return this.mightHaveServerCookies||typeof e=="string"&&typeof r=="string"}tokenIsActive(e){if(!e)return!1;let r=U1.parse(e);return r!==null&&!r.isExpired(30)}async destroyLocalState(e){await GR([this._storage.del(Rp),this._storage.del(eb),this._storage.del(jp),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),dn.remove(W9),dn.remove(H9),dn.remove(q9),dn.remove(tb),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(Rp);if(await this._storage.put(Rp,e),!this._isUsingServerCookies){let i=(r=U1.parse(e))==null?void 0:r.expiration;dn.set(W9,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Rp);await this._storage.del(Rp),dn.remove(W9),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(eb,e),this._isUsingServerCookies||(dn.set(tb,"t",{sameSite:"Strict",secure:!0,expires:30}),dn.set(H9,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(eb),dn.remove(H9),dn.remove(tb),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let r=(await GR([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(n=>n.status==="rejected");r.length>0&&this.emit("error_storing_tokens",r.map(n=>String(n.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(jp);if(await this._storage.put(jp,e),!this._isUsingServerCookies){let i=(r=U1.parse(e))==null?void 0:r.expiration;dn.set(q9,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(jp);await this._storage.del(jp),dn.remove(q9),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let r=zf(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,r),r}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};yQ.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var wxe=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function vxe(t){let e=new URLSearchParams;for(let r in t)t[r]!=null&&e.append(r,String(t[r]));return Array.from(e).length?"?"+e.toString():""}const rb=()=>{};let Ku={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const bxe=({level:t}={level:"ERROR"})=>({get level(){return t},error:Ku[t]>=Ku.ERROR?console.error:rb,warn:Ku[t]>=Ku.WARN?console.warn:rb,info:Ku[t]>=Ku.INFO?console.info:rb,debug:Ku[t]>=Ku.DEBUG?console.debug:rb});let V9="privy:caid",xxe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,r,n,i,s;if(this.isReady)(r=(e=this.callbacks)==null?void 0:e.setIsReady)==null||r.call(e,!0);else{if(!await this.isStorageAccessible())throw new cr({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(n=this._config)!=null&&n.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:r,query:n}){return`${this.baseUrl}${hme(e.path,r)}${vxe(n)}`}async fetch(e,{body:r,params:n,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:n,query:i}),{method:e.method,body:JSON.stringify(r),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new E9(u);return u}async _beforeRequestWithoutInitialize(e){let r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:wxe(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(kge,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(V9);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=P5()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(V9,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(V9)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,r){try{await this.fetch(Age,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:r},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new cr({code:"storage_error",error:"Unable to access storage"});let r=await this.session.getRefreshToken()??void 0,n=r??"key",i=this._cache.get(n);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(r,e);this._cache.set(n,s);try{return await s}finally{this._cache.delete(n)}}async _refreshSession(e,r){var i,s,o,a,l,c;let n=await this.session.getToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new E9({code:tM.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${eM.path}`);let u=await this.fetch(eM,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),r||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),r||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof E9&&u.code===tM.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),r||((c=(l=this.callbacks)==null?void 0:l.setUser)==null||c.call(l,null))),u}}async getAccessToken(){let[e,r]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,r)){let n=await this.refreshSession(),i=await this.session.getToken();return n.token||this.logger.debug("[privy:getAccessToken] expected token received null"),n.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),n.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${P5()}`,r="blobby";await this._storage.put(e,r);let n=await this._storage.get(e);return await this._storage.del(e),n===r}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=bxe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new yQ({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=jI(globalThis.fetch,{retries:3,retryDelay:r=>3**r*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",r=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:r})})}},Exe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(_me,{})}}constructor(e){this._privyInternal=e}};const wQ=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",vQ=t=>t?t.linked_accounts.filter(wQ).filter(e=>e.chain_type==="ethereum").sort((e,r)=>e.wallet_index-r.wallet_index):[],KR=t=>vQ(t).find(e=>e.wallet_index===0)??null,bQ=t=>t?t.linked_accounts.filter(wQ).filter(e=>e.chain_type==="solana").sort((e,r)=>e.wallet_index-r.wallet_index):[],_xe=t=>bQ(t).find(e=>e.wallet_index===0)??null,Cxe=(t,e)=>!(e==="off"||vQ(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="ethereum").length>0&&e!=="all-users"),Axe=(t,e)=>!(e==="off"||bQ(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="solana").length>0&&e!=="all-users"),hl=async(t,e,r)=>{var s,o;let n=Cxe(e.user,((s=r==null?void 0:r.ethereum)==null?void 0:s.createOnLogin)??"off"),i=Axe(e.user,((o=r==null?void 0:r.solana)==null?void 0:o.createOnLogin)??"off");if(n&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:KR(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return n?{...await t.create({recoveryMethod:"privy",solanaAccount:_xe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:KR(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let kxe=class{async syncWithToken(e,r,n){var o,a;let i=await this._privyInternal.fetch(Tge,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await hl(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,r){this._privyInternal=e,this._embedded=r}},Sxe=class{async sendCode(e,r){return this._privyInternal.fetch(Jge,{body:{email:e,token:r}})}async loginWithCode(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(Zge,{body:{email:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await hl(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(Xge,{body:{email:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:r,code:n}){await this._privyInternal.fetch(tme,{body:{oldAddress:e,newAddress:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(eme,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},$xe=class{async initializeAuth({relyingParty:e,redirectUrl:r,token:n}){return await this._privyInternal.fetch(Pge,{body:{relying_party:e,redirect_url:r,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(Rge,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:r,signature:n,fid:i,mode:s},o){var c,u;let a=await this._privyInternal.fetch(Nge,{body:{channel_token:e,message:r,signature:n,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await hl(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async link({channel_token:e,message:r,signature:n,fid:i}){await this._privyInternal.fetch(Oge,{body:{channel_token:e,message:r,signature:n,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(Mge,{body:{fid:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Ixe=class{async initializeAuth(){return await this._privyInternal.fetch(jge,{body:{}})}async authenticate({message:e,signature:r,fid:n},i){var a,l;let s=await this._privyInternal.fetch(Dge,{body:{message:e,signature:r,fid:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await hl(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}constructor(e,r){this._privyInternal=e,this._embedded=r}},Txe=class{async create(e){var s,o;let r=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(Lge,{body:{guest_credential:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await hl(this._embedded,n,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,r){this._privyInternal=e,this._embedded=r}};const xd="privy:state_code",Ed="privy:code_verifier";async function Pxe(t,e){let r=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",r))}function Nxe(t){return crypto.getRandomValues(new Uint8Array(t))}function DI(){return zf(Nxe(36))}function xQ(){return DI()}async function EQ({codeVerifier:t,method:e="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let n=await Pxe(t,r);return zf(n)}}let Oxe=class{async generateURL(e,r){var o;let n=DI(),i=xQ(),s=await EQ({codeVerifier:n,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(Ed,n),this._storage.put(xd,i)]),this._privyInternal.fetch(zge,{body:{redirect_to:r,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,r,n,i,s,o){var h,f;let[a,l]=await Promise.all([this._storage.get(Ed),this._storage.get(xd)]);if(l!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:l??"",returnedStateCode:r??""}),new cr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(Bge,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await hl(this._embedded,c,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(Ed),this._storage.del(xd)]),(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async linkWithCode(e,r,n,i){let[s,o]=await Promise.all([this._storage.get(Ed),this._storage.get(xd)]);if(o!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:o??"",returnedStateCode:r??""}),new cr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(Wge,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Ed),this._storage.del(xd)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,r){await this._privyInternal.fetch(Hge,{body:{provider:e,subject:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,r,n,i){this._privyInternal=e,this._embedded=r,this._storage=n,this._crypto=i}},Mxe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Qge,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Kge,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Yge,{body:{relying_party:e}})}async loginWithPasskey(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(Vge,{body:{relying_party:n,challenge:r,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await hl(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async signupWithPasskey(e,r,n){var o,a;let i=await this._privyInternal.fetch(Gge,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await hl(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,r){await this._privyInternal.fetch(qge,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Rxe=class{async sendCode(e,r){return this._privyInternal.fetch(nme,{body:{phoneNumber:e,token:r}})}async loginWithCode(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(rme,{body:{phoneNumber:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await hl(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(ime,{body:{phoneNumber:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:r,code:n}){await this._privyInternal.fetch(ome,{body:{old_phone_number:e,new_phone_number:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(sme,{body:{phoneNumber:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},jxe=class{async unlinkWallet(e){await this._privyInternal.fetch(wme,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async linkWithSiwe(e,r,n){let i=r||this._wallet,s=n||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(mme,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,r,n,i,s){var u,h;let o=r||this._wallet,a=n||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(gme,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await hl(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,c.user),c}async init(e,r,n){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(HG,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:r,nonce:s,uri:n}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,r){this._wallet=void 0,this._privyInternal=e,this._embedded=r}},Dxe=class{async unlink({address:e}){await this._privyInternal.fetch(Eme,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async link({message:e,signature:r,walletClientType:n,connectorType:i}){await this._privyInternal.fetch(xme,{body:{message:e,signature:r,walletClientType:n,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:r,signature:n,walletClientType:i,connectorType:s,opts:o}){var c,u;let a=await this._privyInternal.fetch(bme,{body:{signature:n,message:r,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await hl(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async fetchNonce({address:e}){let{nonce:r}=await this._privyInternal.fetch(vme,{body:{address:e}});return{nonce:r}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Lxe=class{async link(e,r,n,i){await this._privyInternal.fetch(yme,{body:{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var r;let{nonce:n}=await this._privyInternal.fetch(HG,{body:{address:e.address}});return{nonce:n,message:`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:
${r.address}

${r.statement}

URI: ${r.uri}
Version: 1
Chain ID: ${r.chainId}
Nonce: ${r.nonce}
Issued At: ${r.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Fxe=class{async logout(){var e,r;try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(fme,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(r=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||r.call(e,null)}constructor(e,r,n,i){this._privyInternal=e,this.customProvider=new kxe(this._privyInternal,r),this.phone=new Rxe(this._privyInternal,r),this.email=new Sxe(this._privyInternal,r),this.oauth=new Oxe(this._privyInternal,r,n,i),this.guest=new Txe(this._privyInternal,r),this.siwe=new jxe(this._privyInternal,r),this.siws=new Dxe(this._privyInternal,r),this.smartWallet=new Lxe(this._privyInternal),this.passkey=new Mxe(this._privyInternal,r),this.farcaster=new $xe(this._privyInternal,r),this.farcasterV2=new Ixe(this._privyInternal,r)}},Uxe=class{async initOnRampSession(e){return await this._privyInternal.fetch(Sge,{body:e})}async getStatus(e){return await this._privyInternal.fetch($ge,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Bxe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let zxe=new Set([Ea.id,ba.id,xa.id,Qs.id,ym.id,O4.id]),Wxe=new Set([Ea.id,ba.id,xc.id,xa.id,Qs.id]);function Hxe(t,e){switch(e){case"native-currency":return zxe.has(t);case"USDC":return Wxe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function qxe(t,e){switch(t){case ba.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case ym.id:return"AVAX_CCHAIN";case xa.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case O4.id:return"CELO_CELO";case Qs.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Ea.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Vxe=class{async sign(e){return await this._privyInternal.fetch(Cme,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:r}){let{url:n,key:i}=Bxe[r?"sandbox":"prod"],s=await jI(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new Fbe({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},Gxe=class{constructor(e){this.moonpay=new Vxe(e),this.coinbase=new Uxe(e)}},Kxe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Fge,{body:e})}constructor(e){this._privyInternal=e}},Yxe=class{async sendCode(e){return await this._privyInternal.fetch(Uge,{body:e})}constructor(e){this._privyInternal=e}},Qxe=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new cr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async unenrollMfa(e){if(!this.proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async clearMfa(e){if(!this.proxy)throw new cr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,r){this.proxy=r,this.privyInternal=e,this.sms=new Yxe(e),this.passkey=new Kxe(e)}},Zxe=class{async init(e){return this._privyInternal.fetch(ume,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(dme,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Jxe=class{async generateURL(e){var s;let r=DI(),n=xQ(),i=await EQ({codeVerifier:r,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(Ed,r),this._storage.put(xd,n)]),this._privyInternal.fetch(lme,{body:{redirect_to:e,code_challenge:i,state_code:n}})}async authorize(e,r){let[n,i]=await Promise.all([this._storage.get(Ed),this._storage.get(xd)]);if(i!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:r??""}),new cr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(cme,{body:{authorization_code:e,state_code:i,code_verifier:n}});return await Promise.all([this._storage.del(Ed),this._storage.del(xd)]),s}constructor(e,r,n){this._privyInternal=e,this._storage=r,this._crypto=n}},Xxe=class{async getRecoveryKeyMaterial(e,r){return this._privyInternal.fetch(ame,{body:{chain_type:r},params:{address:e}})}constructor(e,r,n){this._privyInternal=e,this.auth=new Jxe(this._privyInternal,r,n),this.icloudAuth=new Zxe(this._privyInternal)}},e8e=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,r){return this._privyInternal.getPath(e,r)}async fetchPrivyRoute(e,r){return this._privyInternal.fetch(e,r)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...r}){this._privyInternal=new xxe({...r,appClientId:e}),this.mfa=new Qxe(this._privyInternal),this.mfaPromises=new hxe,this.app=new wbe(this._privyInternal),this.embeddedWallet=new dxe(this._privyInternal,r.embeddedWalletMessagePoster,r.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new Exe(this._privyInternal),this.auth=new Fxe(this._privyInternal,this.embeddedWallet,r.storage,r.crypto),this.recovery=new Xxe(this._privyInternal,r.storage,r.crypto),this.funding=new Gxe(this._privyInternal),this.delegated=new $be(this._privyInternal),this.crossApp=new JK(this._privyInternal,r.storage)}};const t8e={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},_Q={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|(?:472|983)[2-47-9]|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function q4(t,e){var r=Array.prototype.slice.call(e);return r.push(_Q),t.apply(this,r)}function r8e(){return q4(Rye,arguments)}function qw(t){return oK.call(this,t,_Q)}qw.prototype=Object.create(oK.prototype,{});qw.prototype.constructor=qw;function n8e(){return q4(Xwe,arguments)}function LI(){return q4(v4,arguments)}function i8e(){return q4(eve,arguments)}const nb=(t,e)=>r8e(String(t),e),G9=(t,e)=>`+${LI(e)} ${t}`,s8e=t=>`*${t.replaceAll("-","").slice(-4)}`,o8e=t=>new qw(t),a8e=n8e().map(t=>({code:t,callCode:LI(t)})),l8e=t=>{var r;let e=(r=i8e(t,t8e))==null?void 0:r.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},c8e=t=>{let e=new qw;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},u8e=(t,e=!0)=>t.reduce((r,n)=>({...r,[n]:e}),{}),d8e={[Ea.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vI.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[xc.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[M4.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Qs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Bv.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[xa.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[N4.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[ym.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[wI.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ba.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[P4.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},f3={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let h8e=new Set([Ea.id,xa.id,xc.id,Qs.id,ba.id]),f8e=new Set([Ea.id,xa.id,Qs.id,xc.id,ba.id]),p8e={buy:"CARD",send:"CRYPTO_ACCOUNT"},g8e={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Ea.id+"",xa.id+"",xc.id+"",Qs.id+"",ba.id+"";function m8e({appId:t,input:e,amount:r,blockchain:n,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),o.searchParams.set("defaultNetwork",n),o.searchParams.set("defaultPaymentMethod",p8e[s]),o.searchParams.set("defaultAsset",g8e[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const y8e=(t,e)=>{switch(e){case"native-currency":return h8e.has(t);case"USDC":return f8e.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function w8e(t,e){return t===Qs.id?"POL":"ETH"}let v8e=class{async invokeRpc({method:e,params:r}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:P5(),method:e,params:r})})).json()}async getBalance(e){try{let r=await this.invokeRpc({method:"getBalance",params:[e]});return r.error?null:BigInt(r.result.value)}catch{return null}}async getTokenAccountsByOwner(e,r){var n,i,s,o,a;try{let l=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:r},{encoding:"jsonParsed"}]});if(l.error)return null;let c=(a=(o=(s=(i=(n=l.result.value.at(0))==null?void 0:n.account)==null?void 0:i.data)==null?void 0:s.parsed)==null?void 0:o.info)==null?void 0:a.tokenAmount;return c?{amount:BigInt(c.amount),decimals:c.decimals}:null}catch{return null}}async getAccountInfo(e){var r,n,i;try{let s=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(s.error)return null;let o=(i=(n=(r=s.result.value)==null?void 0:r.data)==null?void 0:n.parsed)==null?void 0:i.info;return o?{decimals:o.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function YR(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function b8e({wei:t,precision:e=3}){return parseFloat(ap(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function Xi({amount:t,decimals:e}){return Ln(BigInt(t),e)}const x8e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,E8e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_8e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function C8e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){A8e(t);return}return e}function A8e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function W1(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!_8e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(x8e.test(t)||E8e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,C8e)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const k8e=/#/g,S8e=/&/g,$8e=/\//g,I8e=/=/g,FI=/\+/g,T8e=/%5e/gi,P8e=/%60/gi,N8e=/%7c/gi,O8e=/%20/gi;function M8e(t){return encodeURI(""+t).replace(N8e,"|")}function V7(t){return M8e(typeof t=="string"?t:JSON.stringify(t)).replace(FI,"%2B").replace(O8e,"+").replace(k8e,"%23").replace(S8e,"%26").replace(P8e,"`").replace(T8e,"^").replace($8e,"%2F")}function K9(t){return V7(t).replace(I8e,"%3D")}function CQ(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function R8e(t){return CQ(t.replace(FI," "))}function j8e(t){return CQ(t.replace(FI," "))}function D8e(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=R8e(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=j8e(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function L8e(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${K9(t)}=${V7(r)}`).join("&"):`${K9(t)}=${V7(e)}`:K9(t)}function F8e(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>L8e(e,t[e])).filter(Boolean).join("&")}const U8e=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,B8e=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,z8e=/^([/\\]\s*){2,}[^/\\]/,W8e=/^\.?\//;function AQ(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?U8e.test(t):B8e.test(t)||(e.acceptRelative?z8e.test(t):!1)}function H8e(t="",e){return t.endsWith("/")}function q8e(t="",e){return(H8e(t)?t.slice(0,-1):t)||"/"}function V8e(t="",e){return t.endsWith("/")?t:t+"/"}function G8e(t,e){if(Y8e(e)||AQ(t))return t;const r=q8e(e);return t.startsWith(r)?t:Z8e(r,t)}function K8e(t,e){const r=J8e(t),n={...D8e(r.search),...e};return r.search=F8e(n),X8e(r)}function Y8e(t){return!t||t==="/"}function Q8e(t){return t&&t!=="/"}function Z8e(t,...e){let r=t||"";for(const n of e.filter(i=>Q8e(i)))if(r){const i=n.replace(W8e,"");r=V8e(r)+i}else r=n;return r}const kQ=Symbol.for("ufo:protocolRelative");function J8e(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,f=""]=r;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!AQ(t,{acceptRelative:!0}))return QR(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=QR(a);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[kQ]:!n}}function QR(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function X8e(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[kQ]?(t.protocol||"")+"//":"")+i+s+e+r+n}class SQ extends Error{constructor(e,r){super(e,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function e9e(t){var l,c,u,h,f;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",r=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",n=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new SQ(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[g]}});return a}const t9e=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ZR(t="GET"){return t9e.has(t.toUpperCase())}function r9e(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const n9e=new Set(["image/svg","application/xml","application/xhtml","application/html"]),i9e=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function s9e(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return i9e.test(e)?"json":n9e.has(e)||e.startsWith("text/")?"text":"blob"}function o9e(t,e,r,n){const i=a9e((e==null?void 0:e.headers)??(t==null?void 0:t.headers),r==null?void 0:r.headers,n);let s;return(r!=null&&r.query||r!=null&&r.params||e!=null&&e.params||e!=null&&e.query)&&(s={...r==null?void 0:r.params,...r==null?void 0:r.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...r,...e,query:s,params:s,headers:i}}function a9e(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function ib(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const l9e=new Set([408,409,425,429,500,502,503,504]),c9e=new Set([101,204,205,304]);function $Q(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=ZR(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):l9e.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=e9e(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:o9e(l,c,t.defaults,r),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await ib(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=G8e(u.request,u.options.baseURL)),u.options.query&&(u.request=K8e(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&ZR(u.options.method)&&(r9e(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new r(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new n;h=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,p.abort(g)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await ib(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!c9e.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||s9e(u.response.headers.get("content-type")||"");switch(p){case"json":{const g=await u.response.text(),m=u.options.parseResponse||W1;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await ib(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await ib(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>$Q({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const N5=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),u9e=N5.fetch?(...t)=>N5.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),d9e=N5.Headers,h9e=N5.AbortController,IQ=$Q({fetch:u9e,Headers:d9e,AbortController:h9e});var mt;let Ki=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},ho=class extends Ki{constructor(e,r,n,i,s,o){super(n,i,s),this.type=e,this.status=r,this.data=o}},J=class extends Ki{constructor(e,r,n){super(e,r,n),this.type="client_error"}},f9e=class extends J{constructor(){super("Request timed out",void 0,"client_request_timeout")}},kr=class extends Ki{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const qt=t=>{if(t instanceof Ki)return t;if(!(t instanceof SQ))return Dr(t);if(!t.response)return new ho("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new ho(e||"ApiError",t.response.status,r||n,t,i,t.data)},Dr=t=>t instanceof Ki?t:t instanceof Error?new J(t.message,t):new J(`Internal error: ${t}`);var ee=((mt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",mt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",mt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",mt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",mt.INVALID_DATA="invalid_data",mt.INVALID_CAPTCHA="invalid_captcha",mt.LINKED_TO_ANOTHER_USER="linked_to_another_user",mt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",mt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",mt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",mt.USER_EXITED_UPDATE_FLOW="exited_update_flow",mt.ALLOWLIST_REJECTED="allowlist_rejected",mt.OAUTH_USER_DENIED="oauth_user_denied",mt.OAUTH_UNEXPECTED="oauth_unexpected",mt.UNKNOWN_AUTH_ERROR="unknown_auth_error",mt.USER_EXITED_AUTH_FLOW="exited_auth_flow",mt.USER_EXITED_LINK_FLOW="exited_link_flow",mt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",mt.MUST_BE_AUTHENTICATED="must_be_authenticated",mt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",mt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",mt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",mt.INVALID_CREDENTIALS="invalid_credentials",mt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",mt.UNKNOWN_MFA_ERROR="unknown_mfa_error",mt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",mt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",mt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",mt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",mt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",mt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",mt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",mt.TRANSACTION_FAILURE="transaction_failure",mt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",mt.NOT_SUPPORTED="not_supported",mt.CAPTCHA_TIMEOUT="captcha_timeout",mt.INVALID_MESSAGE="invalid_message",mt.UNABLE_TO_SIGN="unable_to_sign",mt.CAPTCHA_FAILURE="captcha_failure",mt.CAPTCHA_DISABLED="captcha_disabled",mt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",mt.TOO_MANY_REQUESTS="too_many_requests",mt.USER_LIMIT_REACHED="max_accounts_reached",mt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",mt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",mt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",mt.USER_DOES_NOT_EXIST="user_does_not_exist",mt.INSUFFICIENT_BALANCE="insufficient_balance",mt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",mt.BUFFER_NOT_DEFINED="buffer_not_defined",mt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",mt);let Oh=class extends J{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Zd=class extends J{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},p9e=class extends J{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},qv=class extends J{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const TQ="/api/v1/sessions",PQ="/api/v1/sessions/logout",g9e="/api/v1/siwe/init",m9e="/api/v1/siwe/authenticate",y9e="/api/v1/siwe/link",w9e="/api/v1/siwe/link_smart_wallet",v9e="/api/v1/siwe/unlink",b9e="/api/v1/siwe/transfer",x9e="/api/v1/siws/init",E9e="/api/v1/siws/authenticate",_9e="/api/v1/siws/link",C9e="/api/v1/siws/unlink",A9e="/api/v1/siws/transfer",k9e="/api/v1/farcaster/init",S9e="/api/v1/farcaster/authenticate",$9e="/api/v1/farcaster/link",I9e="/api/v1/farcaster/status",T9e="/api/v1/farcaster/unlink",P9e="/api/v1/farcaster/transfer",N9e="/api/v1/passwordless/init",O9e="/api/v1/passwordless/authenticate",M9e="/api/v1/passwordless/link",R9e="/api/v1/passwordless/unlink",j9e="/api/v1/passwordless/update",D9e="/api/v1/passwordless/transfer",L9e="/api/v1/passwordless_sms/init",F9e="/api/v1/passwordless_sms/link",U9e="/api/v1/passwordless_sms/unlink",B9e="/api/v1/passwordless_sms/authenticate",z9e="/api/v1/passwordless_sms/update",W9e="/api/v1/passwordless_sms/transfer",NQ="/api/v1/oauth/init",OQ="/api/v1/oauth/authenticate",MQ="/api/v1/oauth/link",H9e="/api/v1/oauth/unlink",q9e="/api/v1/oauth/transfer",V9e="/api/v1/recovery/oauth/init",G9e="/api/v1/recovery/oauth/init_icloud",K9e="/api/v1/recovery/oauth/authenticate",Y9e="/api/v1/passkeys/link/init",Q9e="/api/v1/passkeys/authenticate/init",Z9e="/api/v1/passkeys/register/init",J9e="/api/v1/passkeys/link",X9e="/api/v1/passkeys/authenticate",eEe="/api/v1/passkeys/register",tEe="/api/v1/telegram/authenticate",rEe="/api/v1/telegram/link",nEe="/api/v1/telegram/unlink",iEe="/api/v1/telegram/transfer",sEe="/api/v1/mfa/passwordless_sms/init",oEe="/api/v1/mfa/passkeys/init",aEe="/api/v1/users/me/accept_terms",RQ="/api/v1/analytics_events",lEe="/api/v1/custom_jwt_account/authenticate",cEe="/api/v1/custom_jwt_account/link",uEe="/api/v1/guest/authenticate",dEe="/api/v1/plugins/moonpay_on_ramp/sign",hEe="/api/v1/funding/coinbase_on_ramp/init",fEe="/api/v1/funding/coinbase_on_ramp/status",pEe="/api/v1/wallets/revoke",gEe="/api/v1/users/me",mEe="/api/v1/scan/transaction",oe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},l1=t=>()=>{throw Error(t.trim())},jQ=E.createContext({setAuthenticated:oe,setUser:oe,setIsNewUser:oe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:oe,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:oe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:oe,initializeWalletProxy:oe,getAuthMeta:oe,getAuthFlow:oe,closePrivyModal:oe,openPrivyModal:oe,connectWallet:oe,initLoginWithWallet:oe,loginWithWallet:oe,initLoginWithFarcaster:oe,loginWithFarcaster:oe,loginWithCode:oe,initLoginWithEmail:oe,initLoginWithSms:oe,initUpdateEmail:oe,initUpdatePhone:oe,resendEmailCode:oe,resendSmsCode:oe,initLoginWithHeadlessOAuth:oe,loginWithHeadlessOAuth:oe,crossAppAuthFlow:oe,initLoginWithOAuth:oe,loginWithOAuth:oe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:oe,initSignupWithPasskey:oe,signupWithPasskey:oe,initLoginWithPasskey:oe,loginWithPasskey:oe,initLinkWithPasskey:oe,linkWithPasskey:oe,refreshSessionAndUser:oe,walletProxy:null,createAnalyticsEvent:oe,acceptTerms:oe,getUsdTokenPrice:oe,getUsdPriceForSol:oe,getSplTokenMetadata:oe,recoverEmbeddedWallet:oe,updateWallets:oe,fundWallet:oe,openModal:oe,setReadyToTrue:oe,requestFarcasterSignerStatus:oe,initLoginWithTelegram:oe,loginWithTelegram:oe,generateSiweMessage:oe,generateSiweMessageForSmartWallet:oe,loginWithSiwe:oe,linkWithSiwe:oe,linkSmartWallet:oe,delegateWallet:oe,revokeDelegatedWallets:oe,exportSolanaWallet:oe,connectCoinbaseSmartWallet:oe,connectBaseAccount:oe,initiateAccountTransfer:oe,emailOtpState:{status:"initial"},setEmailOtpState:oe,smsOtpState:{status:"initial"},setSmsOtpState:oe,siweState:{status:"initial"},setSiweState:oe,oAuthState:{status:"initial"},setOAuthState:oe,telegramAuthState:{status:"initial"},setTelegramAuthState:oe,isHeadlessOAuthLoading:!1,isHeadlessSigning:oe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:oe}),Ne=()=>E.useContext(jQ);function ut(t){return t?new Date(1e3*t):null}function $i(t,e){return t.slice().sort((r,n)=>(r.firstVerifiedAt??r.verifiedAt).getTime()-(n.firstVerifiedAt??n.verifiedAt).getTime()).find(r=>r.type===e)}const ql=t=>t?DQ(t).find(e=>e.walletIndex===0)??null:null,DQ=t=>t?LQ(t,"ethereum"):[],LQ=(t,e)=>t.linkedAccounts.filter(r=>r.type==="wallet"&&r.walletClientType==="privy"&&!r.imported&&r.chainType===e),FQ=t=>t?LQ(t,"solana"):[],dp=t=>t?FQ(t).find(e=>e.walletIndex===0)??null:null,G7=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,V4=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let UQ=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Ur(t)===Ur(e);const Zo=(t,e)=>(t==null?void 0:t.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&UQ(r.address,e)))||null,Y9=(t,e)=>t.find(r=>UQ(r.address,e))||null,fa=t=>ql(t)??dp(t);function ai(t){if(!t)return null;let e=function(v){let C=[];for(let x of v){let I=x.type;switch(x.type){case"wallet":let $={id:x.id,address:x.address,type:x.type,imported:x.imported,delegated:x.delegated,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at),chainType:x.chain_type,walletClientType:x.wallet_client_type,connectorType:x.connector_type,recoveryMethod:x.recovery_method,walletIndex:x.wallet_index};C.push($);break;case"smart_wallet":let R={address:x.address,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at),smartWalletType:x.smart_wallet_type,smartWalletVersion:x.smart_wallet_version};C.push(R);break;case"cross_app":let T={type:x.type,subject:x.subject,embeddedWallets:x.embedded_wallets,smartWallets:x.smart_wallets,providerApp:{id:x.provider_app_id},verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(T);break;case"email":let L={address:x.address,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(L);break;case"phone":let U={number:x.phoneNumber,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(U);break;case"google_oauth":let W={subject:x.subject,email:x.email,name:x.name,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(W);break;case"spotify_oauth":let M={subject:x.subject,email:x.email,name:x.name,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(M);break;case"instagram_oauth":let A={subject:x.subject,username:x.username,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(A);break;case"twitter_oauth":let _={subject:x.subject,username:x.username,name:x.name,type:x.type,profilePictureUrl:x.profile_picture_url,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(_);break;case"discord_oauth":let S={subject:x.subject,username:x.username,email:x.email,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(S);break;case"github_oauth":let O={subject:x.subject,username:x.username,name:x.name,email:x.email,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(O);break;case"tiktok_oauth":let P={subject:x.subject,username:x.username,name:x.name,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(P);break;case"line_oauth":let N={subject:x.subject,name:x.name,email:x.email,profilePictureUrl:x.profile_picture_url,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(N);break;case"linkedin_oauth":let D={subject:x.subject,name:x.name,email:x.email,vanityName:x.vanity_name,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(D);break;case"apple_oauth":let F={subject:x.subject,email:x.email,type:x.type,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(F);break;case"custom_auth":C.push({type:x.type,customUserId:x.custom_user_id,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)});break;case"farcaster":let k={type:x.type,fid:x.fid,ownerAddress:x.owner_address,displayName:x.display_name,username:x.username,bio:x.bio,pfp:x.profile_picture_url,url:x.homepage_url,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at),signerPublicKey:x.signer_public_key};C.push(k);break;case"passkey":let z={type:x.type,enrolledInMfa:x.enrolled_in_mfa,credentialId:x.credential_id,publicKey:x.public_key,authenticatorName:x.authenticator_name,createdWithDevice:x.created_with_device,createdWithOs:x.created_with_os,createdWithBrowser:x.created_with_browser,verifiedAt:ut(x.verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(z);break;case"telegram":let V={type:x.type,telegramUserId:x.telegram_user_id,firstName:x.first_name,lastName:x.last_name,username:x.username,photoUrl:x.photo_url,verifiedAt:ut(x.first_verified_at),firstVerifiedAt:ut(x.first_verified_at),latestVerifiedAt:ut(x.latest_verified_at)};C.push(V);break;default:console.warn(`Unrecognized account type: ${I}. Please consider upgrading the Privy SDK.`)}}return C}(t.linked_accounts),r=$i(e,"wallet"),n=$i(e,"smart_wallet"),i=$i(e,"email"),s=$i(e,"phone"),o=$i(e,"google_oauth"),a=$i(e,"twitter_oauth"),l=$i(e,"discord_oauth"),c=$i(e,"github_oauth"),u=$i(e,"spotify_oauth"),h=$i(e,"instagram_oauth"),f=$i(e,"tiktok_oauth"),p=$i(e,"line_oauth"),g=$i(e,"linkedin_oauth"),m=$i(e,"apple_oauth"),w=$i(e,"farcaster"),y=$i(e,"telegram"),b=t.mfa_methods.map(({type:v,verified_at:C})=>({type:v,verifiedAt:ut(C)}));return{id:t.id,createdAt:ut(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:g&&{subject:g.subject,name:g.name,email:g.email,vanityName:g.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:w&&{fid:w.fid,ownerAddress:w.ownerAddress,displayName:w.displayName,username:w.username,bio:w.bio,pfp:w.pfp,url:w.url,signerPublicKey:w.signerPublicKey},telegram:y&&{telegramUserId:y.telegramUserId,firstName:y.firstName,lastName:y.lastName,username:y.username,photoUrl:y.photoUrl},delegatedWallets:[],mfaMethods:b.map(v=>v.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Hn=t=>!!t.id&&t.recoveryMethod==="privy-v2",hp=E.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:oe,login:oe,connectOrCreateWallet:oe,linkEmail:oe,linkPhone:oe,linkFarcaster:oe,linkWallet:oe,startCrossAppAuthFlow:oe,linkGoogle:oe,linkTwitter:oe,linkDiscord:oe,linkGithub:oe,linkSpotify:oe,linkInstagram:oe,linkTelegram:oe,linkTiktok:oe,linkLine:oe,linkLinkedIn:oe,linkApple:oe,linkPasskey:oe,updateEmail:oe,updatePhone:oe,logout:oe,getAccessToken:oe,unlinkEmail:oe,unlinkPhone:oe,unlinkWallet:oe,unlinkGoogle:oe,unlinkTwitter:oe,unlinkDiscord:oe,unlinkGithub:oe,unlinkSpotify:oe,unlinkInstagram:oe,unlinkTiktok:oe,unlinkLine:oe,unlinkLinkedIn:oe,unlinkApple:oe,unlinkCrossAppAccount:oe,unlinkFarcaster:oe,unlinkTelegram:oe,unlinkPasskey:oe,signMessage:oe,signTypedData:oe,enrollInMfa:oe,initEnrollmentWithSms:oe,initEnrollmentWithTotp:oe,initEnrollmentWithPasskey:oe,promptMfa:oe,init:oe,submitEnrollmentWithSms:oe,submitEnrollmentWithTotp:oe,submitEnrollmentWithPasskey:oe,unenroll:oe,submit:oe,cancel:oe,sendTransaction:oe,signTransaction:oe,exportWallet:oe,setWalletPassword:oe,setWalletRecovery:oe,requestFarcasterSignerFromWarpcast:oe,getFarcasterSignerPublicKey:oe,signFarcasterMessage:oe,signMessageWithCrossAppWallet:oe,signTypedDataWithCrossAppWallet:oe,sendTransactionWithCrossAppWallet:oe,signTransactionWithCrossAppWallet:oe,isModalOpen:!1,mfaMethods:[]}),Ut=()=>E.useContext(hp),UI=()=>{let{walletProxy:t,client:e}=Ne();return E.useMemo(()=>({signWithUserSigner:async({message:r})=>{if(!t)throw Error("Wallet proxy not initialized");let n=await e.getAccessToken();if(!n)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:n,message:r});return{signature:i}}}),[t,e])};class yc{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new yc("CBWSDK").clear(),new yc("walletlink").clear()}}const un={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},K7={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},BQ="Unspecified error message.",yEe="Unspecified server error.";function BI(t,e=BQ){if(t&&Number.isInteger(t)){const r=t.toString();if(Y7(K7,r))return K7[r].message;if(zQ(t))return yEe}return e}function wEe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(K7[e]||zQ(t))}function vEe(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Y7(t,"code")&&wEe(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,Y7(n,"data")&&(r.data=n.data)):(r.message=BI(r.code),r.data={originalError:JR(t)})}else r.code=un.rpc.internal,r.message=XR(t,"message")?t.message:BQ,r.data={originalError:JR(t)};return e&&(r.stack=XR(t,"stack")?t.stack:void 0),r}function zQ(t){return t>=-32099&&t<=-32e3}function JR(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Y7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function XR(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const ir={rpc:{parse:t=>Do(un.rpc.parse,t),invalidRequest:t=>Do(un.rpc.invalidRequest,t),invalidParams:t=>Do(un.rpc.invalidParams,t),methodNotFound:t=>Do(un.rpc.methodNotFound,t),internal:t=>Do(un.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Do(e,t)},invalidInput:t=>Do(un.rpc.invalidInput,t),resourceNotFound:t=>Do(un.rpc.resourceNotFound,t),resourceUnavailable:t=>Do(un.rpc.resourceUnavailable,t),transactionRejected:t=>Do(un.rpc.transactionRejected,t),methodNotSupported:t=>Do(un.rpc.methodNotSupported,t),limitExceeded:t=>Do(un.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Dp(un.provider.userRejectedRequest,t),unauthorized:t=>Dp(un.provider.unauthorized,t),unsupportedMethod:t=>Dp(un.provider.unsupportedMethod,t),disconnected:t=>Dp(un.provider.disconnected,t),chainDisconnected:t=>Dp(un.provider.chainDisconnected,t),unsupportedChain:t=>Dp(un.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new qQ(e,r,n)}}};function Do(t,e){const[r,n]=WQ(e);return new HQ(t,r||BI(t),n)}function Dp(t,e){const[r,n]=WQ(e);return new qQ(t,r||BI(t),n)}function WQ(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class HQ extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class qQ extends HQ{constructor(e,r,n){if(!bEe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function bEe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function zI(){return t=>t}const Vw=zI(),xEe=zI(),EEe=zI();function Qc(t){return Math.floor(t)}const VQ=/^[0-9]*$/,GQ=/^[a-f0-9]*$/;function Hh(t){return WI(crypto.getRandomValues(new Uint8Array(t)))}function WI(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function p3(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function my(t,e=!1){const r=t.toString("hex");return Vw(e?`0x${r}`:r)}function Q9(t){return my(Q7(t),!0)}function Al(t){return EEe(t.toString(10))}function jd(t){return Vw(`0x${BigInt(t).toString(16)}`)}function KQ(t){return t.startsWith("0x")||t.startsWith("0X")}function HI(t){return KQ(t)?t.slice(2):t}function YQ(t){return KQ(t)?`0x${t.slice(2)}`:`0x${t}`}function G4(t){if(typeof t!="string")return!1;const e=HI(t).toLowerCase();return GQ.test(e)}function _Ee(t,e=!1){if(typeof t=="string"){const r=HI(t).toLowerCase();if(GQ.test(r))return Vw(e?`0x${r}`:r)}throw ir.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function qI(t,e=!1){let r=_Ee(t,!1);return r.length%2===1&&(r=Vw(`0${r}`)),e?Vw(`0x${r}`):r}function Yu(t){if(typeof t=="string"){const e=HI(t).toLowerCase();if(G4(e)&&e.length===40)return xEe(YQ(e))}throw ir.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function Q7(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(G4(t)){const e=qI(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw ir.rpc.invalidParams(`Not binary data: ${String(t)}`)}function yy(t){if(typeof t=="number"&&Number.isInteger(t))return Qc(t);if(typeof t=="string"){if(VQ.test(t))return Qc(Number(t));if(G4(t))return Qc(Number(BigInt(qI(t,!0))))}throw ir.rpc.invalidParams(`Not an integer: ${String(t)}`)}function c1(t){if(t!==null&&(typeof t=="bigint"||AEe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(yy(t));if(typeof t=="string"){if(VQ.test(t))return BigInt(t);if(G4(t))return BigInt(qI(t,!0))}throw ir.rpc.invalidParams(`Not an integer: ${String(t)}`)}function CEe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw ir.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function AEe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function kEe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function SEe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function $Ee(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function IEe(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function QQ(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function ZQ(t,e){const r=QQ(t),n=await crypto.subtle.exportKey(r,e);return WI(new Uint8Array(n))}async function JQ(t,e){const r=QQ(t),n=p3(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function TEe(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return $Ee(e,r)}async function PEe(t,e){return JSON.parse(await IEe(e,t))}const Z9={storageKey:"ownPrivateKey",keyType:"private"},J9={storageKey:"ownPublicKey",keyType:"public"},X9={storageKey:"peerPublicKey",keyType:"public"};class NEe{constructor(){this.storage=new yc("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(X9,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(J9.storageKey),this.storage.removeItem(Z9.storageKey),this.storage.removeItem(X9.storageKey)}async generateKeyPair(){const e=await kEe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(Z9,e.privateKey),await this.storeKey(J9,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(Z9)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(J9)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(X9)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await SEe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?JQ(e.keyType,r):null}async storeKey(e,r){const n=await ZQ(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const Vv="4.3.2",XQ="@coinbase/wallet-sdk";async function VI(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Vv,"X-Cbw-Sdk-Platform":XQ}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function OEe(){return globalThis.coinbaseWalletExtension}function MEe(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function REe({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=OEe();if(l)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,o,e),l}const a=MEe();if(a!=null&&a.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,i,s,o,e),a}function jEe(t){if(!t||typeof t!="object"||Array.isArray(t))throw ir.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw ir.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw ir.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw ir.provider.unsupportedMethod()}}const ej="accounts",tj="activeChain",rj="availableChains",nj="walletCapabilities";class DEe{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new NEe,this.storage=new yc("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(ej))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(tj)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n,i,s;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await JQ("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(ej,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var r;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw ir.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:jd(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return jd(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(nj);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw ir.rpc.internal("No RPC URL set for chain");return VI(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw ir.rpc.invalidParams();const i=yy(n[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw ir.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await TEe({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await ZQ("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw ir.provider.unauthorized("Invalid session");const o=await PEe(i.encrypted,s),a=(r=o.data)===null||r===void 0?void 0:r.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(rj,c),this.updateChain(this.chain.id,c)}const l=(n=o.data)===null||n===void 0?void 0:n.capabilities;return l&&this.storage.storeObject(nj,l),o}updateChain(e,r){var n;const i=r??this.storage.loadObject(rj),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(tj,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",jd(s.id))),!0):!1}}const LEe=M6(Nhe),{keccak_256:FEe}=LEe;function eZ(t){return Buffer.allocUnsafe(t).fill(0)}function UEe(t){return t.toString(2).length}function tZ(t,e){let r=t.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;n.length<e;)n.unshift(0);return Buffer.from(n)}function BEe(t,e){const r=t<0n;let n;if(r){const i=(1n<<BigInt(e))-1n;n=(~t&i)+1n}else n=t;return n&=(1n<<BigInt(e))-1n,n}function rZ(t,e,r){const n=eZ(e);return t=K4(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function zEe(t,e){return rZ(t,e,!0)}function K4(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")nZ(t)?t=Buffer.from(qEe(iZ(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=tZ(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function WEe(t){return t=K4(t),"0x"+t.toString("hex")}function HEe(t,e){if(t=K4(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(FEe(new Uint8Array(t)))}function qEe(t){return t.length%2?"0"+t:t}function nZ(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function iZ(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var sZ={zeros:eZ,setLength:rZ,setLengthRight:zEe,isHexString:nZ,stripHexPrefix:iZ,toBuffer:K4,bufferToHex:WEe,keccak:HEe,bitLengthFromBigInt:UEe,bufferBEFromBigInt:tZ,twosFromBigInt:BEe};const ns=sZ;function oZ(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function eg(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function ij(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function aZ(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function qh(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function Ll(t,e){var r,n,i,s;if(t==="address")return Ll("uint160",qh(e));if(t==="bool")return Ll("uint8",e?1:0);if(t==="string")return Ll("bytes",new Buffer(e,"utf8"));if(GEe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=aZ(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Ll(t,e[s]));if(r==="dynamic"){var o=Ll("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Ll("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,ns.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=eg(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return ns.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=eg(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=qh(e);const a=ns.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+a);if(n<0)throw new Error("Supplied uint is negative");return ns.bufferBEFromBigInt(n,32)}else if(t.startsWith("int")){if(r=eg(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=qh(e);const a=ns.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied int exceeds width: "+r+" vs "+a);const l=ns.twosFromBigInt(n,256);return ns.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(r=ij(t),n=qh(e),n<0)throw new Error("Supplied ufixed is negative");return Ll("uint256",n*BigInt(2)**BigInt(r[1]))}else if(t.startsWith("fixed"))return r=ij(t),Ll("int256",qh(e)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+t)}function VEe(t){return t==="string"||t==="bytes"||aZ(t)==="dynamic"}function GEe(t){return t.lastIndexOf("]")===t.length-1}function KEe(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=oZ(t[s]),a=e[s],l=Ll(o,a);VEe(o)?(r.push(Ll("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function lZ(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=oZ(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(ns.setLength(a,20));else if(o.startsWith("bytes")){if(r=eg(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(ns.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=eg(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=qh(a);const l=ns.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+l);i.push(ns.bufferBEFromBigInt(n,r/8))}else if(o.startsWith("int")){if(r=eg(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=qh(a);const l=ns.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied int exceeds width: "+r+" vs "+l);const c=ns.twosFromBigInt(n,r);i.push(ns.bufferBEFromBigInt(c,r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function YEe(t,e){return ns.keccak(lZ(t,e))}var QEe={rawEncode:KEe,solidityPack:lZ,soliditySHA3:YEe};const Ma=sZ,wy=QEe,cZ={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},eE={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,l,c)=>{if(r[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ma.keccak(this.encodeData(l,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Ma.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Ma.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(f=>o(a,u,f));return["bytes32",Ma.keccak(wy.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[l,c]};for(const a of r[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ma.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Ma.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ma.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return wy.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ma.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ma.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in cZ.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ma.keccak(Buffer.concat(n))}};var ZEe={TYPED_MESSAGE_SCHEMA:cZ,TypedDataUtils:eE,hashForSignTypedDataLegacy:function(t){return JEe(t.data)},hashForSignTypedData_v3:function(t){return eE.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return eE.hash(t.data)}};function JEe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ma.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return wy.soliditySHA3(["bytes32","bytes32"],[wy.soliditySHA3(new Array(t.length).fill("string"),i),wy.soliditySHA3(n,r)])}const sb=ko(ZEe),XEe="walletUsername",Z7="Addresses",e_e="AppVersion";function ui(t){return t.errorMessage!==void 0}class t_e{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",p3(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...n,...u,...h]);return WI(f)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",p3(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=p3(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;n(p.decode(f))}catch(f){i(f)}})()})}}class r_e{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}var ou;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(ou||(ou={}));class n_e{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,ou.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,ou.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,ou.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,ou.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const sj=1e4,i_e=6e4;class s_e{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Qc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(XEe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(e_e,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new t_e(e.secret),this.listener=n;const i=new n_e(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case ou.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case ou.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},sj),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case ou.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new r_e(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Qc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Qc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>sj*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:i_e}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Qc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Qc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Qc(this.nextReqId++),sessionId:this.session.id}),!0)}}class o_e{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=YQ(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}const oj="session:id",aj="session:secret",lj="session:linked";class tg{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=dhe(zV(`${r}, ${n} WalletLink`)),this._linked=!!i}static create(e){const r=Hh(16),n=Hh(32);return new tg(e,r,n).save()}static load(e){const r=e.getItem(oj),n=e.getItem(lj),i=e.getItem(aj);return r&&i?new tg(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(oj,this.id),this.storage.setItem(aj,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(lj,this._linked?"1":"0")}}function a_e(){try{return window.frameElement!==null}catch{return!1}}function l_e(){try{return a_e()&&window.top?window.top.location:window.location}catch{return window.location}}function c_e(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function uZ(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const u_e='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function dZ(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(u_e)),document.documentElement.appendChild(t)}function hZ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=hZ(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function vy(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=hZ(t))&&(n&&(n+=" "),n+=e);return n}var Y4,zr,fZ,Vh,cj,pZ,J7,GI,X7,eA,Gw={},gZ=[],d_e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,KI=Array.isArray;function Dd(t,e){for(var r in e)t[r]=e[r];return t}function mZ(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xr(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Y4.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return g3(t,o,n,i,null)}function g3(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++fZ,__i:-1,__u:0};return i==null&&zr.vnode!=null&&zr.vnode(s),s}function Q4(t){return t.children}function m3(t,e){this.props=t,this.context=e}function Lg(t,e){if(e==null)return t.__?Lg(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Lg(t):null}function yZ(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return yZ(t)}}function uj(t){(!t.__d&&(t.__d=!0)&&Vh.push(t)&&!O5.__r++||cj!==zr.debounceRendering)&&((cj=zr.debounceRendering)||pZ)(O5)}function O5(){var t,e,r,n,i,s,o,a;for(Vh.sort(J7);t=Vh.shift();)t.__d&&(e=Vh.length,n=void 0,s=(i=(r=t).__v).__e,o=[],a=[],r.__P&&((n=Dd({},i)).__v=i.__v+1,zr.vnode&&zr.vnode(n),YI(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??Lg(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,bZ(o,n,a),n.__e!=s&&yZ(n)),Vh.length>e&&Vh.sort(J7));O5.__r=0}function wZ(t,e,r,n,i,s,o,a,l,c,u){var h,f,p,g,m,w=n&&n.__k||gZ,y=e.length;for(r.__d=l,h_e(r,e,w),l=r.__d,h=0;h<y;h++)(p=r.__k[h])!=null&&(f=p.__i===-1?Gw:w[p.__i]||Gw,p.__i=h,YI(t,p,f,i,s,o,a,l,c,u),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&QI(f.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),65536&p.__u||f.__k===p.__k?l=vZ(p,l,t):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=l,r.__e=m}function h_e(t,e,r){var n,i,s,o,a,l=e.length,c=r.length,u=c,h=0;for(t.__k=[],n=0;n<l;n++)(i=e[n])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=n+h,(i=t.__k[n]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?g3(null,i,null,null,null):KI(i)?g3(Q4,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?g3(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=f_e(i,r,o,u))!==-1&&(u--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[n]=null;if(u)for(n=0;n<c;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Lg(s)),xZ(s,s))}function vZ(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=vZ(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=Lg(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function f_e(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,l=e[r];if(l===null||l&&i==l.key&&s===l.type&&!(131072&l.__u))return r;if(n>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function dj(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||d_e.test(e)?r:r+"px"}function ob(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||dj(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||dj(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=GI,t.addEventListener(e,s?eA:X7,s)):t.removeEventListener(e,s?eA:X7,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function hj(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=GI++;else if(e.t<r.u)return;return r(zr.event?zr.event(e):e)}}}function YI(t,e,r,n,i,s,o,a,l,c){var u,h,f,p,g,m,w,y,b,v,C,x,I,$,R,T,L=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(u=zr.__b)&&u(e);e:if(typeof L=="function")try{if(y=e.props,b="prototype"in L&&L.prototype.render,v=(u=L.contextType)&&n[u.__c],C=u?v?v.props.value:u.__:n,r.__c?w=(h=e.__c=r.__c).__=h.__E:(b?e.__c=h=new L(y,C):(e.__c=h=new m3(y,C),h.constructor=L,h.render=g_e),v&&v.sub(h),h.props=y,h.state||(h.state={}),h.context=C,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),b&&h.__s==null&&(h.__s=h.state),b&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Dd({},h.__s)),Dd(h.__s,L.getDerivedStateFromProps(y,h.__s))),p=h.props,g=h.state,h.__v=e,f)b&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),b&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(b&&L.getDerivedStateFromProps==null&&y!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,C),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,C)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(U){U&&(U.__=e)}),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,C),b&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,m)})}if(h.context=C,h.props=y,h.__P=t,h.__e=!1,I=zr.__r,$=0,b){for(h.state=h.__s,h.__d=!1,I&&I(e),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,I&&I(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++$<25);h.state=h.__s,h.getChildContext!=null&&(n=Dd(Dd({},n),h.getChildContext())),b&&!f&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(p,g)),wZ(t,KI(T=u!=null&&u.type===Q4&&u.key==null?u.props.children:u)?T:[T],e,r,n,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),w&&(h.__E=h.__=null)}catch(U){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=r.__e,e.__k=r.__k;zr.__e(U,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=p_e(r.__e,e,r,n,i,s,o,l,c);(u=zr.diffed)&&u(e)}function bZ(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)QI(r[n],r[++n],r[++n]);zr.__c&&zr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){zr.__e(s,i.__v)}})}function p_e(t,e,r,n,i,s,o,a,l){var c,u,h,f,p,g,m,w=r.props,y=e.props,b=e.type;if(b==="svg"?i="http://www.w3.org/2000/svg":b==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){t=p,s[c]=null;break}}if(t==null){if(b===null)return document.createTextNode(y);t=document.createElementNS(i,b,y.is&&y),a&&(zr.__m&&zr.__m(e,s),a=!1),s=null}if(b===null)w===y||a&&t.data===y||(t.data=y);else{if(s=s&&Y4.call(t.childNodes),w=r.props||Gw,!a&&s!=null)for(w={},c=0;c<t.attributes.length;c++)w[(p=t.attributes[c]).name]=p.value;for(c in w)if(p=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;ob(t,c,null,p,i)}}for(c in y)p=y[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?m=p:a&&typeof p!="function"||w[c]===p||ob(t,c,p,w[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),wZ(t,KI(f)?f:[f],e,r,n,b==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&Lg(r,0),a,l),s!=null)for(c=s.length;c--;)mZ(s[c]);a||(c="value",b==="progress"&&g==null?t.removeAttribute("value"):g!==void 0&&(g!==t[c]||b==="progress"&&!g||b==="option"&&g!==w[c])&&ob(t,c,g,w[c],i),c="checked",m!==void 0&&m!==t[c]&&ob(t,c,m,w[c],i))}return t}function QI(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){zr.__e(i,r)}}function xZ(t,e,r){var n,i;if(zr.unmount&&zr.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||QI(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){zr.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&xZ(n[i],e,r||typeof t.type!="function");r||mZ(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function g_e(t,e,r){return this.constructor(t,r)}function tA(t,e,r){var n,i,s,o;zr.__&&zr.__(t,e),i=(n=!1)?null:e.__k,s=[],o=[],YI(e,t=e.__k=xr(Q4,null,[t]),i||Gw,Gw,e.namespaceURI,i?null:e.firstChild?Y4.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,o),bZ(s,t,o)}Y4=gZ.slice,zr={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},fZ=0,m3.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dd({},this.state),typeof t=="function"&&(t=t(Dd({},r),this.props)),t&&Dd(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),uj(this))},m3.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),uj(this))},m3.prototype.render=Q4,Vh=[],pZ=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,J7=function(t,e){return t.__v.__b-e.__v.__b},O5.__r=0,GI=0,X7=hj(!1),eA=hj(!0);var Kw,fn,tE,fj,rA=0,EZ=[],En=zr,pj=En.__b,gj=En.__r,mj=En.diffed,yj=En.__c,wj=En.unmount,vj=En.__;function ZI(t,e){En.__h&&En.__h(fn,t,rA||e),rA=0;var r=fn.__H||(fn.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function bj(t){return rA=1,m_e(CZ,t)}function m_e(t,e,r){var n=ZI(Kw++,2);if(n.t=t,!n.__c&&(n.__=[CZ(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=fn,!fn.u)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),!(!h&&n.__c.props===a)&&(!s||s.call(this,a,l,c))};fn.u=!0;var s=fn.shouldComponentUpdate,o=fn.componentWillUpdate;fn.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},fn.shouldComponentUpdate=i}return n.__N||n.__}function y_e(t,e){var r=ZI(Kw++,3);!En.__s&&_Z(r.__H,e)&&(r.__=t,r.i=e,fn.__H.__h.push(r))}function Uut(t,e){var r=ZI(Kw++,7);return _Z(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function w_e(){for(var t;t=EZ.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(y3),t.__H.__h.forEach(nA),t.__H.__h=[]}catch(e){t.__H.__h=[],En.__e(e,t.__v)}}En.__b=function(t){fn=null,pj&&pj(t)},En.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),vj&&vj(t,e)},En.__r=function(t){gj&&gj(t),Kw=0;var e=(fn=t.__c).__H;e&&(tE===fn?(e.__h=[],fn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(y3),e.__h.forEach(nA),e.__h=[],Kw=0)),tE=fn},En.diffed=function(t){mj&&mj(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(EZ.push(e)!==1&&fj===En.requestAnimationFrame||((fj=En.requestAnimationFrame)||v_e)(w_e)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),tE=fn=null},En.__c=function(t,e){e.some(function(r){try{r.__h.forEach(y3),r.__h=r.__h.filter(function(n){return!n.__||nA(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],En.__e(n,r.__v)}}),yj&&yj(t,e)},En.unmount=function(t){wj&&wj(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{y3(n)}catch(i){e=i}}),r.__H=void 0,e&&En.__e(e,r.__v))};var xj=typeof requestAnimationFrame=="function";function v_e(t){var e,r=function(){clearTimeout(n),xj&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);xj&&(e=requestAnimationFrame(r))}function y3(t){var e=fn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),fn=e}function nA(t){var e=fn;t.__c=t.__(),fn=e}function _Z(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function CZ(t,e){return typeof e=="function"?e(t):e}const b_e=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",x_e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",E_e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class AZ{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=uZ()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&tA(xr("div",null,xr(kZ,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>xr(__e,Object.assign({},r,{key:e}))))),this.root)}}const kZ=t=>xr("div",{class:vy("-cbwsdk-snackbar-container")},xr("style",null,b_e),xr("div",{class:"-cbwsdk-snackbar"},t.children)),__e=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=bj(!0),[s,o]=bj(t??!1);y_e(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return xr("div",{class:vy("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},xr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},xr("img",{src:x_e,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",xr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),xr("div",{class:"-gear-container"},!s&&xr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),xr("img",{src:E_e,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&xr("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((l,c)=>xr("div",{class:vy("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},xr("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xr("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),xr("span",{class:vy("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},SZ="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class C_e{constructor(){this.attached=!1,this.snackbar=new AZ}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,dZ()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:SZ,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}const A_e=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class k_e{constructor(){this.root=null,this.darkMode=uZ()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),dZ()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(tA(null,this.root),e&&tA(xr(S_e,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const S_e=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return xr(kZ,{darkMode:r},xr("div",{class:"-cbwsdk-redirect-dialog"},xr("style",null,A_e),xr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),xr("div",{class:vy("-cbwsdk-redirect-dialog-box",s)},xr("p",null,t),xr("button",{onClick:n},e))))},$_e="https://keys.coinbase.com/connect",I_e="https://rpc.wallet.coinbase.com",Ej="https://www.walletlink.org",T_e="https://go.cb-w.com/walletlink";class _j{constructor(){this.attached=!1,this.redirectDialog=new k_e}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(T_e);r.searchParams.append("redirect_url",l_e().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Zc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=c_e(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(Z7);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Zc.accountRequestCallbackIds.size>0&&(Array.from(Zc.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Zc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new o_e,this.ui=n,this.ui.attach()}subscribe(){const e=tg.load(this.storage)||tg.create(this.storage),{linkAPIUrl:r}=this,n=new s_e({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new _j:new C_e;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=tg.load(this.storage);(e==null?void 0:e.id)===this._session.id&&yc.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Al(e.weiValue),data:my(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Al(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Al(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Al(e.gasPriceInWei):null,gasLimit:e.gasLimit?Al(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Al(e.weiValue),data:my(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Al(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Al(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Al(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Al(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:my(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=Hh(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r==null||r(),ui(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof _j)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){Zc.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),Zc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=Hh(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(ui(a))return o(new Error(a.errorMessage));s(a)}),Zc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const c=Hh(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),ui(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const c=Hh(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),ui(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=Hh(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i==null||i(),ui(c)&&c.errorCode)return l(ir.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ui(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,n)})}}Zc.accountRequestCallbackIds=new Set;const Cj="DefaultChainId",Aj="DefaultJsonRpcUrl";class $Z{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new yc("walletlink",Ej),this.callback=e.callback||null;const r=this._storage.getItem(Z7);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>Yu(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Aj))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(Aj,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(Cj,r.toString(10)),yy(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",jd(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ir.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ir.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ir.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ir.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,c=await this.initializeRelay().watchAsset(r.type,i,s,a,o,n==null?void 0:n.toString());return ui(c)?!1:!!c.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw ir.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw ir.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw ir.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(ui(f))return!1;if(((n=f.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw ir.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(ui(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Yu(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(Z7,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return jd(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw ir.rpc.internal("No RPC URL set for chain");return VI(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=Yu(e);if(!this._addresses.map(i=>Yu(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?Yu(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?Yu(e.to):null,i=e.value!=null?c1(e.value):BigInt(0),s=e.data?Q7(e.data):Buffer.alloc(0),o=e.nonce!=null?yy(e.nonce):null,a=e.gasPrice!=null?c1(e.gasPrice):null,l=e.maxFeePerGas!=null?c1(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?c1(e.maxPriorityFeePerGas):null,u=e.gas!=null?c1(e.gas):null,h=e.chainId?yy(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw ir.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:Q9(n[0]),signature:Q9(n[1]),addPrefix:r==="personal_ecRecover"}});if(ui(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(Cj))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:jd(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ui(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:jd(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw ir.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Yu(r),message:Q9(n),addPrefix:!0,typedDataJson:null}});if(ui(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(ui(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=Q7(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(ui(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(ui(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw ir.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:sb.hashForSignTypedDataLegacy,eth_signTypedData_v3:sb.hashForSignTypedData_v3,eth_signTypedData_v4:sb.hashForSignTypedData_v4,eth_signTypedData:sb.hashForSignTypedData_v4};return my(u[r]({data:CEe(c)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],o=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Yu(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(ui(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Zc({linkAPIUrl:Ej,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const IZ="SignerType",TZ=new yc("CBWSDK","SignerConfigurator");function P_e(){return TZ.getItem(IZ)}function N_e(t){TZ.setItem(IZ,t)}async function O_e(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;R_e(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function M_e(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new DEe({metadata:r,callback:i,communicator:n});case"walletlink":return new $Z({metadata:r,callback:i})}}async function R_e(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new $Z({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const j_e=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,D_e=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(j_e)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:L_e,getCrossOriginOpenerPolicy:F_e}=D_e(),kj=420,Sj=540,U_e={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:SZ,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},B_e="Popup was blocked. Try again.";let ab=null;function z_e(t){const e=(window.innerWidth-kj)/2+window.screenX,r=(window.innerHeight-Sj)/2+window.screenY;H_e(t);function n(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${kj}, height=${Sj}, left=${e}, top=${r}`);return o==null||o.focus(),o||null}let i=n();if(!i){const s=q_e();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:B_e,menuItems:[Object.assign(Object.assign({},U_e),{onClick:()=>{i=n(),i?o(i):a(ir.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function W_e(t){t&&!t.closed&&t.close()}function H_e(t){const e={sdkName:XQ,sdkVersion:Vv,origin:window.location.origin,coop:F_e()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}function q_e(){if(!ab){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),ab=new AZ,ab.attach(t)}return ab}class V_e{constructor({url:e=$_e,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{W_e(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(ir.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await z_e(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Vv,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw ir.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function G_e(t){const e=vEe(K_e(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Vv),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function K_e(t){var e;if(typeof t=="string")return{message:t,code:un.rpc.internal};if(ui(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?un.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class Y_e extends xh{}var Q_e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Z_e extends Y_e{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=Q_e(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new V_e({url:i,metadata:r,preference:s});const o=P_e();o&&(this.signer=this.initSigner(o))}async request(e){try{if(jEe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,N_e(r);break}case"wallet_sendCalls":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const n=await r.request(e);return await r.cleanup(),n}case"wallet_getCallsStatus":return VI(e,I_e);case"net_version":return 1;case"eth_chainId":return jd(1);default:throw ir.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){const{code:n}=r;return n===un.provider.unauthorized&&this.disconnect(),Promise.reject(G_e(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,yc.clearAll(),this.emit("disconnect",ir.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return O_e({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return M_e({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function J_e(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function X_e(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=REe(r))!==null&&e!==void 0?e:new Z_e(r)}const eCe={options:"all"};function $j(t){var e;new yc("CBWSDK").setItem("VERSION",Vv),L_e();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(eCe,(e=t.preference)!==null&&e!==void 0?e:{})};J_e(n.preference);let i=null;return{getProvider:()=>(i||(i=X_e(n)),i)}}let rE={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const tCe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let Lp=t=>t!==void 0?BigInt(t):void 0;function PZ(t){let e,{type:r=2,...n}=typeof t=="string"?JSON.parse(t):t;n.accessList&&Array.isArray(n.accessList)?e=n.accessList.map(c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c):n.accessList&&(e=Object.entries(n.accessList).map(c=>({address:c[0],storageKeys:c[1]})));let i=Number(n.chainId??1),s=qi(n.data)?n.data:n.data?Pr(Uint8Array.from(n.data)):void 0,o=n.nonce?Number(n.nonce):void 0,a={chainId:i,data:s,nonce:o,value:Lp(n.value),gas:Lp(n.gas??n.gasLimit)},l=Number(r);if(l===0)return{...n,type:rE[l],...a,gasPrice:Lp(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...n,type:rE[l],...a,gasPrice:Lp(n.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...n,type:rE[l],...a,nonce:o,accessList:e,maxFeePerGas:Lp(n.maxFeePerGas),maxPriorityFeePerGas:Lp(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}const rCe=({as:t="div",...e},r)=>d.jsx(t,{...e,ref:r}),nCe=E.forwardRef(rCe),iCe="https://challenges.cloudflare.com/turnstile/v0/api.js",M5="cf-turnstile-script",sCe="cf-turnstile",NZ="onloadTurnstileCallback",R5=t=>!!document.getElementById(t),oCe=({render:t="explicit",onLoadCallbackName:e=NZ,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||M5;if(R5(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${iCe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!n,u.async=!!i,r&&(u.nonce=r),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},kl={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function aCe(t){let e;return t!=="invisible"&&(e=t),e}function lCe(t=M5){const[e,r]=E.useState(!1);return E.useEffect(()=>{const n=()=>{R5(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const OZ=E.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:g,as:m="div",injectScript:w=!0,...y}=t,b=n.size??"normal",[v,C]=E.useState(n.execution==="execute"?kl.invisible:n.appearance==="interaction-only"?kl.interactionOnly:kl[b]),x=E.useRef(null),I=E.useRef(!1),[$,R]=E.useState(),[T,L]=E.useState(!1),U=p??sCe,W=w?(r==null?void 0:r.id)||`${M5}__${U}`:(r==null?void 0:r.id)||M5,M=lCe(W),A=r!=null&&r.onLoadCallbackName?`${r.onLoadCallbackName}__${U}`:`${NZ}__${U}`,_=E.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:aCe(b),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,o,l,a,b,c,u,h]),S=E.useMemo(()=>JSON.stringify(_),[_]);return E.useImperativeHandle(e,()=>{if(typeof window>"u"||!M)return;const{turnstile:O}=window;return{getResponse(){if(!(O!=null&&O.getResponse)||!$){console.warn("Turnstile has not been loaded");return}return O.getResponse($)},reset(){if(!(O!=null&&O.reset)||!$){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&C(kl.invisible);try{O.reset($)}catch(P){console.warn(`Failed to reset Turnstile widget ${$}`,P)}},remove(){if(!(O!=null&&O.remove)||!$){console.warn("Turnstile has not been loaded");return}R(""),C(kl.invisible),O.remove($)},render(){if(!(O!=null&&O.render)||!x.current||$){console.warn("Turnstile has not been loaded or widget already rendered");return}const P=O.render(x.current,_);return R(P),n.execution!=="execute"&&C(kl[b]),P},execute(){if(n.execution==="execute"){if(!(O!=null&&O.execute)||!x.current||!$){console.warn("Turnstile has not been loaded or widget has not been rendered");return}O.execute(x.current,_),C(kl[b])}},isExpired(){if(!(O!=null&&O.isExpired)||!$){console.warn("Turnstile has not been loaded");return}return O.isExpired($)}}},[M,$,n.execution,b,_,x]),E.useEffect(()=>(window[A]=()=>L(!0),()=>{delete window[A]}),[A]),E.useEffect(()=>{w&&!T&&oCe({onLoadCallbackName:A,scriptOptions:{...r,id:W}})},[w,T,A,r,W]),E.useEffect(()=>{M&&!T&&window.turnstile&&L(!0)},[T,M]),E.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!M||!x.current||!T||I.current)return;const O=window.turnstile.render(x.current,_);R(O),I.current=!0},[M,i,_,I,T]),E.useEffect(()=>{if(window.turnstile&&x.current&&$){R5($)&&window.turnstile.remove($);const O=window.turnstile.render(x.current,_);R(O),I.current=!0}},[S,i]),E.useEffect(()=>{if(window.turnstile&&$&&R5($))return s==null||s($),()=>{window.turnstile.remove($)}},[$,s]),E.useEffect(()=>{C(n.execution==="execute"?kl.invisible:_.appearance==="interaction-only"?kl.interactionOnly:kl[b])},[n.execution,b,_.appearance]),E.useEffect(()=>{!M||typeof f!="function"||f()},[M,f]),d.jsx(nCe,{ref:x,as:m,id:U,style:{...v,...g},...y})});OZ.displayName="Turnstile";var zi=function(){return zi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zi.apply(this,arguments)};function Fg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var jr="-ms-",by="-moz-",dr="-webkit-",MZ="comm",Z4="rule",JI="decl",cCe="@import",RZ="@keyframes",uCe="@layer",jZ=Math.abs,XI=String.fromCharCode,iA=Object.assign;function dCe(t,e){return Kn(t,0)^45?(((e<<2^Kn(t,0))<<2^Kn(t,1))<<2^Kn(t,2))<<2^Kn(t,3):0}function DZ(t){return t.trim()}function qc(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,r){return t.replace(e,r)}function w3(t,e,r){return t.indexOf(e,r)}function Kn(t,e){return t.charCodeAt(e)|0}function Ug(t,e,r){return t.slice(e,r)}function Vl(t){return t.length}function LZ(t){return t.length}function H1(t,e){return e.push(t),t}function hCe(t,e){return t.map(e).join("")}function Ij(t,e){return t.filter(function(r){return!qc(r,e)})}var J4=1,Bg=1,FZ=0,pa=0,kn=0,_m="";function X4(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:J4,column:Bg,length:o,return:"",siblings:a}}function ld(t,e){return iA(X4("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Fp(t){for(;t.root;)t=ld(t.root,{children:[t]});H1(t,t.siblings)}function fCe(){return kn}function pCe(){return kn=pa>0?Kn(_m,--pa):0,Bg--,kn===10&&(Bg=1,J4--),kn}function tl(){return kn=pa<FZ?Kn(_m,pa++):0,Bg++,kn===10&&(Bg=1,J4++),kn}function Ef(){return Kn(_m,pa)}function v3(){return pa}function ex(t,e){return Ug(_m,t,e)}function sA(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gCe(t){return J4=Bg=1,FZ=Vl(_m=t),pa=0,[]}function mCe(t){return _m="",t}function nE(t){return DZ(ex(pa-1,oA(t===91?t+2:t===40?t+1:t)))}function yCe(t){for(;(kn=Ef())&&kn<33;)tl();return sA(t)>2||sA(kn)>3?"":" "}function wCe(t,e){for(;--e&&tl()&&!(kn<48||kn>102||kn>57&&kn<65||kn>70&&kn<97););return ex(t,v3()+(e<6&&Ef()==32&&tl()==32))}function oA(t){for(;tl();)switch(kn){case t:return pa;case 34:case 39:t!==34&&t!==39&&oA(kn);break;case 40:t===41&&oA(t);break;case 92:tl();break}return pa}function vCe(t,e){for(;tl()&&t+kn!==57;)if(t+kn===84&&Ef()===47)break;return"/*"+ex(e,pa-1)+"*"+XI(t===47?t:tl())}function bCe(t){for(;!sA(Ef());)tl();return ex(t,pa)}function xCe(t){return mCe(b3("",null,null,null,[""],t=gCe(t),0,[0],t))}function b3(t,e,r,n,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,g=0,m=1,w=1,y=1,b=0,v="",C=i,x=s,I=n,$=v;w;)switch(g=b,b=tl()){case 40:if(g!=108&&Kn($,h-1)==58){w3($+=jt(nE(b),"&","&\f"),"&\f",jZ(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:$+=nE(b);break;case 9:case 10:case 13:case 32:$+=yCe(g);break;case 92:$+=wCe(v3()-1,7);continue;case 47:switch(Ef()){case 42:case 47:H1(ECe(vCe(tl(),v3()),e,r,l),l);break;default:$+="/"}break;case 123*m:a[c++]=Vl($)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+u:y==-1&&($=jt($,/\f/g,"")),p>0&&Vl($)-h&&H1(p>32?Pj($+";",n,r,h-1,l):Pj(jt($," ","")+";",n,r,h-2,l),l);break;case 59:$+=";";default:if(H1(I=Tj($,e,r,c,u,i,a,v,C=[],x=[],h,s),s),b===123)if(u===0)b3($,e,I,I,C,s,h,a,x);else switch(f===99&&Kn($,3)===110?100:f){case 100:case 108:case 109:case 115:b3(t,I,I,n&&H1(Tj(t,I,I,0,0,i,a,v,i,C=[],h,x),x),i,x,h,a,n?C:x);break;default:b3($,I,I,I,[""],x,0,a,x)}}c=u=p=0,m=y=1,v=$="",h=o;break;case 58:h=1+Vl($),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&pCe()==125)continue}switch($+=XI(b),b*m){case 38:y=u>0?1:($+="\f",-1);break;case 44:a[c++]=(Vl($)-1)*y,y=1;break;case 64:Ef()===45&&($+=nE(tl())),f=Ef(),u=h=Vl(v=$+=bCe(v3())),b++;break;case 45:g===45&&Vl($)==2&&(m=0)}}return s}function Tj(t,e,r,n,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],g=LZ(p),m=0,w=0,y=0;m<n;++m)for(var b=0,v=Ug(t,f+1,f=jZ(w=o[m])),C=t;b<g;++b)(C=DZ(w>0?p[b]+" "+v:jt(v,/&\f/g,p[b])))&&(l[y++]=C);return X4(t,e,r,i===0?Z4:a,l,c,u,h)}function ECe(t,e,r,n){return X4(t,e,r,MZ,XI(fCe()),Ug(t,2,-2),0,n)}function Pj(t,e,r,n,i){return X4(t,e,r,JI,Ug(t,0,n),Ug(t,n+1,-1),n,i)}function UZ(t,e,r){switch(dCe(t,e)){case 5103:return dr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dr+t+t;case 4789:return by+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dr+t+by+t+jr+t+t;case 5936:switch(Kn(t,e+11)){case 114:return dr+t+jr+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dr+t+jr+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dr+t+jr+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return dr+t+jr+t+t;case 6165:return dr+t+jr+"flex-"+t+t;case 5187:return dr+t+jt(t,/(\w+).+(:[^]+)/,dr+"box-$1$2"+jr+"flex-$1$2")+t;case 5443:return dr+t+jr+"flex-item-"+jt(t,/flex-|-self/g,"")+(qc(t,/flex-|baseline/)?"":jr+"grid-row-"+jt(t,/flex-|-self/g,""))+t;case 4675:return dr+t+jr+"flex-line-pack"+jt(t,/align-content|flex-|-self/g,"")+t;case 5548:return dr+t+jr+jt(t,"shrink","negative")+t;case 5292:return dr+t+jr+jt(t,"basis","preferred-size")+t;case 6060:return dr+"box-"+jt(t,"-grow","")+dr+t+jr+jt(t,"grow","positive")+t;case 4554:return dr+jt(t,/([^-])(transform)/g,"$1"+dr+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,dr+"$1"),/(image-set)/,dr+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,dr+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,dr+"box-pack:$3"+jr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dr+t+t;case 4200:if(!qc(t,/flex-|baseline/))return jr+"grid-column-align"+Ug(t,e)+t;break;case 2592:case 3360:return jr+jt(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,qc(n.props,/grid-\w+-end/)})?~w3(t+(r=r[e].value),"span",0)?t:jr+jt(t,"-start","")+t+jr+"grid-row-span:"+(~w3(r,"span",0)?qc(r,/\d+/):+qc(r,/\d+/)-+qc(t,/\d+/))+";":jr+jt(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return qc(n.props,/grid-\w+-start/)})?t:jr+jt(jt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,dr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vl(t)-1-e>6)switch(Kn(t,e+1)){case 109:if(Kn(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+dr+"$2-$3$1"+by+(Kn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~w3(t,"stretch",0)?UZ(jt(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return jt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,c){return jr+i+":"+s+c+(o?jr+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Kn(t,e+6)===121)return jt(t,":",":"+dr)+t;break;case 6444:switch(Kn(t,Kn(t,14)===45?18:11)){case 120:return jt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+dr+(Kn(t,14)===45?"inline-":"")+"box$3$1"+dr+"$2$3$1"+jr+"$2box$3")+t;case 100:return jt(t,":",":"+jr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return jt(t,"scroll-","scroll-snap-")+t}return t}function j5(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function _Ce(t,e,r,n){switch(t.type){case uCe:if(t.children.length)break;case cCe:case JI:return t.return=t.return||t.value;case MZ:return"";case RZ:return t.return=t.value+"{"+j5(t.children,n)+"}";case Z4:if(!Vl(t.value=t.props.join(",")))return""}return Vl(r=j5(t.children,n))?t.return=t.value+"{"+r+"}":""}function CCe(t){var e=LZ(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function ACe(t){return function(e){e.root||(e=e.return)&&t(e)}}function kCe(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case JI:t.return=UZ(t.value,t.length,r);return;case RZ:return j5([ld(t,{value:jt(t.value,"@","@"+dr)})],n);case Z4:if(t.length)return hCe(r=t.props,function(i){switch(qc(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Fp(ld(t,{props:[jt(i,/:(read-\w+)/,":"+by+"$1")]})),Fp(ld(t,{props:[i]})),iA(t,{props:Ij(r,n)});break;case"::placeholder":Fp(ld(t,{props:[jt(i,/:(plac\w+)/,":"+dr+"input-$1")]})),Fp(ld(t,{props:[jt(i,/:(plac\w+)/,":"+by+"$1")]})),Fp(ld(t,{props:[jt(i,/:(plac\w+)/,jr+"input-$1")]})),Fp(ld(t,{props:[i]})),iA(t,{props:Ij(r,n)});break}return""})}}var SCe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oo={},zg=typeof process<"u"&&oo!==void 0&&(oo.REACT_APP_SC_ATTR||oo.SC_ATTR)||"data-styled",BZ="active",zZ="data-styled-version",tx="6.1.19",eT=`/*!sc*/
`,D5=typeof window<"u"&&typeof document<"u",$Ce=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&oo!==void 0&&oo.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&oo.REACT_APP_SC_DISABLE_SPEEDY!==""?oo.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&oo.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&oo!==void 0&&oo.SC_DISABLE_SPEEDY!==void 0&&oo.SC_DISABLE_SPEEDY!==""&&oo.SC_DISABLE_SPEEDY!=="false"&&oo.SC_DISABLE_SPEEDY),ICe={},rx=Object.freeze([]),Wg=Object.freeze({});function WZ(t,e,r){return r===void 0&&(r=Wg),t.theme!==r.theme&&t.theme||e||r.theme}var HZ=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),TCe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,PCe=/(^-|-$)/g;function Nj(t){return t.replace(TCe,"-").replace(PCe,"")}var NCe=/(a)(d)/gi,lb=52,Oj=function(t){return String.fromCharCode(t+(t>25?39:97))};function aA(t){var e,r="";for(e=Math.abs(t);e>lb;e=e/lb|0)r=Oj(e%lb)+r;return(Oj(e%lb)+r).replace(NCe,"$1-$2")}var iE,qZ=5381,P0=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},VZ=function(t){return P0(qZ,t)};function tT(t){return aA(VZ(t)>>>0)}function OCe(t){return t.displayName||t.name||"Component"}function sE(t){return typeof t=="string"&&!0}var GZ=typeof Symbol=="function"&&Symbol.for,KZ=GZ?Symbol.for("react.memo"):60115,MCe=GZ?Symbol.for("react.forward_ref"):60112,RCe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jCe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DCe=((iE={})[MCe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iE[KZ]=YZ,iE);function Mj(t){return("type"in(e=t)&&e.type.$$typeof)===KZ?YZ:"$$typeof"in t?DCe[t.$$typeof]:RCe;var e}var LCe=Object.defineProperty,FCe=Object.getOwnPropertyNames,Rj=Object.getOwnPropertySymbols,UCe=Object.getOwnPropertyDescriptor,BCe=Object.getPrototypeOf,jj=Object.prototype;function QZ(t,e,r){if(typeof e!="string"){if(jj){var n=BCe(e);n&&n!==jj&&QZ(t,n,r)}var i=FCe(e);Rj&&(i=i.concat(Rj(e)));for(var s=Mj(t),o=Mj(e),a=0;a<i.length;++a){var l=i[a];if(!(l in jCe||r&&r[l]||o&&l in o||s&&l in s)){var c=UCe(e,l);try{LCe(t,l,c)}catch{}}}}return t}function Hg(t){return typeof t=="function"}function rT(t){return typeof t=="object"&&"styledComponentId"in t}function nf(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function L5(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function Yw(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function lA(t,e,r){if(r===void 0&&(r=!1),!r&&!Yw(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=lA(t[n],e[n]);else if(Yw(e))for(var n in e)t[n]=lA(t[n],e[n]);return t}function nT(t,e){Object.defineProperty(t,"toString",{value:e})}function Gv(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var zCe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw Gv(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(eT);return r},t}(),x3=new Map,F5=new Map,E3=1,cb=function(t){if(x3.has(t))return x3.get(t);for(;F5.has(E3);)E3++;var e=E3++;return x3.set(t,e),F5.set(e,t),e},WCe=function(t,e){E3=e+1,x3.set(t,e),F5.set(e,t)},HCe="style[".concat(zg,"][").concat(zZ,'="').concat(tx,'"]'),qCe=new RegExp("^".concat(zg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),VCe=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},GCe=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(eT),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(qCe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(WCe(u,c),VCe(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},Dj=function(t){for(var e=document.querySelectorAll(HCe),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(zg)!==BZ&&(GCe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function KCe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ZZ=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(zg,"]")));return l[l.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(zg,BZ),n.setAttribute(zZ,tx);var o=KCe();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},YCe=function(){function t(e){this.element=ZZ(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw Gv(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),QCe=function(){function t(e){this.element=ZZ(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),ZCe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Lj=D5,JCe={isServer:!D5,useCSSOMInjection:!$Ce},U5=function(){function t(e,r,n){e===void 0&&(e=Wg),r===void 0&&(r={});var i=this;this.options=zi(zi({},JCe),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&D5&&Lj&&(Lj=!1,Dj(this)),nT(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(y){return F5.get(y)}(h);if(f===void 0)return"continue";var p=s.names.get(f),g=o.getGroup(h);if(p===void 0||!p.size||g.length===0)return"continue";var m="".concat(zg,".g").concat(h,'[id="').concat(f,'"]'),w="";p!==void 0&&p.forEach(function(y){y.length>0&&(w+="".concat(y,","))}),l+="".concat(g).concat(m,'{content:"').concat(w,'"}').concat(eT)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return cb(e)},t.prototype.rehydrate=function(){!this.server&&D5&&Dj(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(zi(zi({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new ZCe(i):n?new YCe(i):new QCe(i)}(this.options),new zCe(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(cb(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(cb(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(cb(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),XCe=/&/g,e7e=/^\s*\/\/.*$/gm;function JZ(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=JZ(r.children,e)),r})}function t7e(t){var e,r,n,i=Wg,s=i.options,o=s===void 0?Wg:s,a=i.plugins,l=a===void 0?rx:a,c=function(f,p,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===Z4&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(XCe,r).replace(n,c))}),o.prefix&&u.push(kCe),u.push(_Ce);var h=function(f,p,g,m){p===void 0&&(p=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var w=f.replace(e7e,""),y=xCe(g||p?"".concat(g," ").concat(p," { ").concat(w," }"):w);o.namespace&&(y=JZ(y,o.namespace));var b=[];return j5(y,CCe(u.concat(ACe(function(v){return b.push(v)})))),b};return h.hash=l.length?l.reduce(function(f,p){return p.name||Gv(15),P0(f,p.name)},qZ).toString():"",h}var r7e=new U5,cA=t7e(),XZ=Oe.createContext({shouldForwardProp:void 0,styleSheet:r7e,stylis:cA});XZ.Consumer;Oe.createContext(void 0);function uA(){return E.useContext(XZ)}var eJ=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=cA);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,nT(this,function(){throw Gv(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=cA),this.name+e.hash},t}(),n7e=function(t){return t>="A"&&t<="Z"};function Fj(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;n7e(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var tJ=function(t){return t==null||t===!1||t===""},rJ=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!tJ(s)&&(Array.isArray(s)&&s.isCss||Hg(s)?n.push("".concat(Fj(i),":"),s,";"):Yw(s)?n.push.apply(n,Fg(Fg(["".concat(i," {")],rJ(s),!1),["}"],!1)):n.push("".concat(Fj(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in SCe||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Jd(t,e,r,n){if(tJ(t))return[];if(rT(t))return[".".concat(t.styledComponentId)];if(Hg(t)){if(!Hg(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Jd(i,e,r,n)}var s;return t instanceof eJ?r?(t.inject(r,n),[t.getName(n)]):[t]:Yw(t)?rJ(t):Array.isArray(t)?Array.prototype.concat.apply(rx,t.map(function(o){return Jd(o,e,r,n)})):[t.toString()]}function nJ(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Hg(r)&&!rT(r))return!1}return!0}var i7e=VZ(tx),s7e=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&nJ(e),this.componentId=r,this.baseHash=P0(i7e,r),this.baseStyle=n,U5.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=nf(i,this.staticRulesId);else{var s=L5(Jd(this.rules,e,r,n)),o=aA(P0(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=nf(i,o),this.staticRulesId=o}else{for(var l=P0(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=L5(Jd(h,e,r,n));l=P0(l,f+u),c+=f}}if(c){var p=aA(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(c,".".concat(p),void 0,this.componentId)),i=nf(i,p)}}return i},t}(),iT=Oe.createContext(void 0);iT.Consumer;var oE={};function o7e(t,e,r){var n=rT(t),i=t,s=!sE(t),o=e.attrs,a=o===void 0?rx:o,l=e.componentId,c=l===void 0?function(C,x){var I=typeof C!="string"?"sc":Nj(C);oE[I]=(oE[I]||0)+1;var $="".concat(I,"-").concat(tT(tx+I+oE[I]));return x?"".concat(x,"-").concat($):$}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(C){return sE(C)?"styled.".concat(C):"Styled(".concat(OCe(C),")")}(t):u,f=e.displayName&&e.componentId?"".concat(Nj(e.displayName),"-").concat(e.componentId):e.componentId||c,p=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(n&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;g=function(C,x){return m(C,x)&&w(C,x)}}else g=m}var y=new s7e(r,f,n?i.componentStyle:void 0);function b(C,x){return function(I,$,R){var T=I.attrs,L=I.componentStyle,U=I.defaultProps,W=I.foldedComponentIds,M=I.styledComponentId,A=I.target,_=Oe.useContext(iT),S=uA(),O=I.shouldForwardProp||S.shouldForwardProp,P=WZ($,_,U)||Wg,N=function(j,G,Q){for(var K,re=zi(zi({},G),{className:void 0,theme:Q}),le=0;le<j.length;le+=1){var ne=Hg(K=j[le])?K(re):K;for(var ae in ne)re[ae]=ae==="className"?nf(re[ae],ne[ae]):ae==="style"?zi(zi({},re[ae]),ne[ae]):ne[ae]}return G.className&&(re.className=nf(re.className,G.className)),re}(T,$,P),D=N.as||A,F={};for(var k in N)N[k]===void 0||k[0]==="$"||k==="as"||k==="theme"&&N.theme===P||(k==="forwardedAs"?F.as=N.forwardedAs:O&&!O(k,D)||(F[k]=N[k]));var z=function(j,G){var Q=uA(),K=j.generateAndInjectStyles(G,Q.styleSheet,Q.stylis);return K}(L,N),V=nf(W,M);return z&&(V+=" "+z),N.className&&(V+=" "+N.className),F[sE(D)&&!HZ.has(D)?"class":"className"]=V,R&&(F.ref=R),E.createElement(D,F)}(v,C,x)}b.displayName=h;var v=Oe.forwardRef(b);return v.attrs=p,v.componentStyle=y,v.displayName=h,v.shouldForwardProp=g,v.foldedComponentIds=n?nf(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=f,v.target=n?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=n?function(x){for(var I=[],$=1;$<arguments.length;$++)I[$-1]=arguments[$];for(var R=0,T=I;R<T.length;R++)lA(x,T[R],!0);return x}({},i.defaultProps,C):C}}),nT(v,function(){return".".concat(v.styledComponentId)}),s&&QZ(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function Uj(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var Bj=function(t){return Object.assign(t,{isCss:!0})};function Un(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Hg(t)||Yw(t))return Bj(Jd(Uj(rx,Fg([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Jd(n):Bj(Jd(Uj(n,e)))}function dA(t,e,r){if(r===void 0&&(r=Wg),!e)throw Gv(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,Un.apply(void 0,Fg([i],s,!1)))};return n.attrs=function(i){return dA(t,e,zi(zi({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return dA(t,e,zi(zi({},r),i))},n}var iJ=function(t){return dA(o7e,t)},q=iJ;HZ.forEach(function(t){q[t]=iJ(t)});var a7e=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=nJ(e),U5.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(L5(Jd(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&U5.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function l7e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Un.apply(void 0,Fg([t],e,!1)),i="sc-global-".concat(tT(JSON.stringify(n))),s=new a7e(n,i),o=function(l){var c=uA(),u=Oe.useContext(iT),h=Oe.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),Oe.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,ICe,u,f);else{var p=zi(zi({},c),{theme:WZ(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return Oe.memo(o)}function sJ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=L5(Un.apply(void 0,Fg([t],e,!1))),i=tT(n);return new eJ(i,n)}function B5(t){"@babel/helpers - typeof";return B5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B5(t)}var c7e=/^\s+/,u7e=/\s+$/;function Ye(t,e){if(t=t||"",e=e||{},t instanceof Ye)return t;if(!(this instanceof Ye))return new Ye(t,e);var r=d7e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Ye.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,o,a;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=oJ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Wj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Wj(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=zj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=zj(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Hj(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return g7e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Vr(this._r,255)*100)+"%",g:Math.round(Vr(this._g,255)*100)+"%",b:Math.round(Vr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Vr(this._r,255)*100)+"%, "+Math.round(Vr(this._g,255)*100)+"%, "+Math.round(Vr(this._b,255)*100)+"%)":"rgba("+Math.round(Vr(this._r,255)*100)+"%, "+Math.round(Vr(this._g,255)*100)+"%, "+Math.round(Vr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:S7e[Hj(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+qj(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ye(e);n="#"+qj(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Ye(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v7e,arguments)},brighten:function(){return this._applyModification(b7e,arguments)},darken:function(){return this._applyModification(x7e,arguments)},desaturate:function(){return this._applyModification(m7e,arguments)},saturate:function(){return this._applyModification(y7e,arguments)},greyscale:function(){return this._applyModification(w7e,arguments)},spin:function(){return this._applyModification(E7e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(A7e,arguments)},complement:function(){return this._applyCombination(_7e,arguments)},monochromatic:function(){return this._applyCombination(k7e,arguments)},splitcomplement:function(){return this._applyCombination(C7e,arguments)},triad:function(){return this._applyCombination(Vj,[3])},tetrad:function(){return this._applyCombination(Vj,[4])}};Ye.fromRatio=function(t,e){if(B5(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=q1(t[n]));t=r}return Ye(t,e)};function d7e(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=P7e(t)),B5(t)=="object"&&(Pc(t.r)&&Pc(t.g)&&Pc(t.b)?(e=h7e(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Pc(t.h)&&Pc(t.s)&&Pc(t.v)?(n=q1(t.s),i=q1(t.v),e=p7e(t.h,n,i),o=!0,a="hsv"):Pc(t.h)&&Pc(t.s)&&Pc(t.l)&&(n=q1(t.s),s=q1(t.l),e=f7e(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=oJ(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function h7e(t,e,r){return{r:Vr(t,255)*255,g:Vr(e,255)*255,b:Vr(r,255)*255}}function zj(t,e,r){t=Vr(t,255),e=Vr(e,255),r=Vr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=(n+i)/2;if(n==i)s=o=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function f7e(t,e,r){var n,i,s;t=Vr(t,360),e=Vr(e,100),r=Vr(r,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function Wj(t,e,r){t=Vr(t,255),e=Vr(e,255),r=Vr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=n,l=n-i;if(o=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function p7e(t,e,r){t=Vr(t,360)*6,e=Vr(e,100),r=Vr(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,c=[r,o,s,s,a,r][l],u=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:c*255,g:u*255,b:h*255}}function Hj(t,e,r,n){var i=[Za(Math.round(t).toString(16)),Za(Math.round(e).toString(16)),Za(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g7e(t,e,r,n,i){var s=[Za(Math.round(t).toString(16)),Za(Math.round(e).toString(16)),Za(Math.round(r).toString(16)),Za(aJ(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function qj(t,e,r,n){var i=[Za(aJ(n)),Za(Math.round(t).toString(16)),Za(Math.round(e).toString(16)),Za(Math.round(r).toString(16))];return i.join("")}Ye.equals=function(t,e){return!t||!e?!1:Ye(t).toRgbString()==Ye(e).toRgbString()};Ye.random=function(){return Ye.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function m7e(t,e){e=e===0?0:e||10;var r=Ye(t).toHsl();return r.s-=e/100,r.s=nx(r.s),Ye(r)}function y7e(t,e){e=e===0?0:e||10;var r=Ye(t).toHsl();return r.s+=e/100,r.s=nx(r.s),Ye(r)}function w7e(t){return Ye(t).desaturate(100)}function v7e(t,e){e=e===0?0:e||10;var r=Ye(t).toHsl();return r.l+=e/100,r.l=nx(r.l),Ye(r)}function b7e(t,e){e=e===0?0:e||10;var r=Ye(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Ye(r)}function x7e(t,e){e=e===0?0:e||10;var r=Ye(t).toHsl();return r.l-=e/100,r.l=nx(r.l),Ye(r)}function E7e(t,e){var r=Ye(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Ye(r)}function _7e(t){var e=Ye(t).toHsl();return e.h=(e.h+180)%360,Ye(e)}function Vj(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ye(t).toHsl(),n=[Ye(t)],i=360/e,s=1;s<e;s++)n.push(Ye({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function C7e(t){var e=Ye(t).toHsl(),r=e.h;return[Ye(t),Ye({h:(r+72)%360,s:e.s,l:e.l}),Ye({h:(r+216)%360,s:e.s,l:e.l})]}function A7e(t,e,r){e=e||6,r=r||30;var n=Ye(t).toHsl(),i=360/r,s=[Ye(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(Ye(n));return s}function k7e(t,e){e=e||6;for(var r=Ye(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(Ye({h:n,s:i,v:s})),s=(s+a)%1;return o}Ye.mix=function(t,e,r){r=r===0?0:r||50;var n=Ye(t).toRgb(),i=Ye(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return Ye(o)};Ye.readability=function(t,e){var r=Ye(t),n=Ye(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Ye.isReadable=function(t,e,r){var n=Ye.readability(t,e),i,s;switch(s=!1,i=N7e(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};Ye.mostReadable=function(t,e,r){var n=null,i=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var c=0;c<e.length;c++)s=Ye.readability(t,e[c]),s>i&&(i=s,n=Ye(e[c]));return Ye.isReadable(t,n,{level:a,size:l})||!o?n:(r.includeFallbackColors=!1,Ye.mostReadable(t,["#fff","#000"],r))};var hA=Ye.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S7e=Ye.hexNames=$7e(hA);function $7e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function oJ(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Vr(t,e){I7e(t)&&(t="100%");var r=T7e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function nx(t){return Math.min(1,Math.max(0,t))}function no(t){return parseInt(t,16)}function I7e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function T7e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Za(t){return t.length==1?"0"+t:""+t}function q1(t){return t<=1&&(t=t*100+"%"),t}function aJ(t){return Math.round(parseFloat(t)*255).toString(16)}function Gj(t){return no(t)/255}var Ra=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Pc(t){return!!Ra.CSS_UNIT.exec(t)}function P7e(t){t=t.replace(c7e,"").replace(u7e,"").toLowerCase();var e=!1;if(hA[t])t=hA[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Ra.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Ra.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ra.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Ra.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ra.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Ra.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ra.hex8.exec(t))?{r:no(r[1]),g:no(r[2]),b:no(r[3]),a:Gj(r[4]),format:e?"name":"hex8"}:(r=Ra.hex6.exec(t))?{r:no(r[1]),g:no(r[2]),b:no(r[3]),format:e?"name":"hex"}:(r=Ra.hex4.exec(t))?{r:no(r[1]+""+r[1]),g:no(r[2]+""+r[2]),b:no(r[3]+""+r[3]),a:Gj(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Ra.hex3.exec(t))?{r:no(r[1]+""+r[1]),g:no(r[2]+""+r[2]),b:no(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function N7e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function O7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const ix=E.forwardRef(O7e);function M7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const sT=E.forwardRef(M7e);function R7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const ah=E.forwardRef(R7e);function j7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const qf=E.forwardRef(j7e);function D7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const L7e=E.forwardRef(D7e);function F7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const U7e=E.forwardRef(F7e);function B7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const rg=E.forwardRef(B7e);function z7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const W7e=E.forwardRef(z7e);function H7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const q7e=E.forwardRef(H7e);function V7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const fp=E.forwardRef(V7e);function G7e({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const sx=E.forwardRef(G7e),Kj=t=>{let e;const r=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,a);return a},K7e=t=>t?Kj(t):Kj,Y7e=t=>t;function Q7e(t,e=Y7e){const r=Oe.useSyncExternalStore(t.subscribe,Oe.useCallback(()=>e(t.getState()),[t,e]),Oe.useCallback(()=>e(t.getInitialState()),[t,e]));return Oe.useDebugValue(r),r}const Yj=t=>{const e=K7e(t),r=n=>Q7e(e,n);return Object.assign(r,e),r},Cm=t=>t?Yj(t):Yj,lJ=typeof document<"u"?Oe.useLayoutEffect:()=>{};var aE;const Z7e=(aE=Oe.useInsertionEffect)!==null&&aE!==void 0?aE:lJ;function J7e(t){const e=E.useRef(null);return Z7e(()=>{e.current=t},[t]),E.useCallback((...r)=>{const n=e.current;return n==null?void 0:n(...r)},[])}const Eh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},sf=t=>t&&"window"in t&&t.window===t?t:Eh(t).defaultView||window;function X7e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function eAe(t){return X7e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let tAe=!1;function oT(){return tAe}function cJ(t,e){if(!oT())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:eAe(r)?r=r.host:r=r.parentNode}return!1}const fA=(t=document)=>{var e;if(!oT())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function uJ(t){return oT()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function rAe(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function nAe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function dJ(t){let e=null;return()=>(e==null&&(e=t()),e)}const iAe=dJ(function(){return nAe(/^Mac/i)}),sAe=dJ(function(){return rAe(/Android/i)});function hJ(){let t=E.useRef(new Map),e=E.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),r=E.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),n=E.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return E.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function oAe(t){return t.pointerType===""&&t.isTrusted?!0:sAe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function fJ(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function aAe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function pJ(t){let e=E.useRef({isFocused:!1,observer:null});lJ(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=J7e(n=>{t==null||t(n)});return E.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=fJ(o);r(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let lAe=!1,Kv=null,pA=new Set,xy=new Map,Vf=!1,gA=!1;const cAe={Tab:!0,Escape:!0};function aT(t,e){for(let r of pA)r(t,e)}function uAe(t){return!(t.metaKey||!iAe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function z5(t){Vf=!0,uAe(t)&&(Kv="keyboard",aT("keyboard",t))}function ng(t){Kv="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Vf=!0,aT("pointer",t))}function gJ(t){oAe(t)&&(Vf=!0,Kv="virtual")}function mJ(t){t.target===window||t.target===document||lAe||!t.isTrusted||(!Vf&&!gA&&(Kv="virtual",aT("virtual",t)),Vf=!1,gA=!1)}function yJ(){Vf=!1,gA=!0}function mA(t){if(typeof window>"u"||typeof document>"u"||xy.get(sf(t)))return;const e=sf(t),r=Eh(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Vf=!0,n.apply(this,arguments)},r.addEventListener("keydown",z5,!0),r.addEventListener("keyup",z5,!0),r.addEventListener("click",gJ,!0),e.addEventListener("focus",mJ,!0),e.addEventListener("blur",yJ,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",ng,!0),r.addEventListener("pointermove",ng,!0),r.addEventListener("pointerup",ng,!0)),e.addEventListener("beforeunload",()=>{wJ(t)},{once:!0}),xy.set(e,{focus:n})}const wJ=(t,e)=>{const r=sf(t),n=Eh(t);e&&n.removeEventListener("DOMContentLoaded",e),xy.has(r)&&(r.HTMLElement.prototype.focus=xy.get(r).focus,n.removeEventListener("keydown",z5,!0),n.removeEventListener("keyup",z5,!0),n.removeEventListener("click",gJ,!0),r.removeEventListener("focus",mJ,!0),r.removeEventListener("blur",yJ,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",ng,!0),n.removeEventListener("pointermove",ng,!0),n.removeEventListener("pointerup",ng,!0)),xy.delete(r))};function dAe(t){const e=Eh(t);let r;return e.readyState!=="loading"?mA(t):(r=()=>{mA(t)},e.addEventListener("DOMContentLoaded",r)),()=>wJ(t,r)}typeof document<"u"&&dAe();function vJ(){return Kv!=="pointer"}const hAe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fAe(t,e,r){let n=Eh(r==null?void 0:r.target);const i=typeof window<"u"?sf(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?sf(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?sf(r==null?void 0:r.target).HTMLElement:HTMLElement,a=typeof window<"u"?sf(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!hAe.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof a&&!cAe[r.key])}function pAe(t,e,r){mA(),E.useEffect(()=>{let n=(i,s)=>{fAe(!!(r!=null&&r.isTextInput),i,s)&&t(vJ())};return pA.add(n),()=>{pA.delete(n)}},e)}function gAe(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=E.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),o=pJ(s),a=E.useCallback(l=>{const c=Eh(l.target),u=c?fA(c):fA();l.target===l.currentTarget&&u===uJ(l.nativeEvent)&&(r&&r(l),i&&i(!0),o(l))},[i,r,o]);return{focusProps:{onFocus:!e&&(r||i||n)?a:void 0,onBlur:!e&&(n||i)?s:void 0}}}function mAe(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=E.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=hJ(),l=E.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),r&&r(h),i&&i(!1))},[r,i,s,a]),c=pJ(l),u=E.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=Eh(h.target),p=fA(f);if(!s.current.isFocusWithin&&p===uJ(h.nativeEvent)){n&&n(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let g=h.currentTarget;o(f,"focus",m=>{if(s.current.isFocusWithin&&!cJ(g,m.target)){let w=new f.defaultView.FocusEvent("blur",{relatedTarget:m.target});aAe(w,g);let y=fJ(w);l(y)}},{capture:!0})}},[n,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let yA=!1,ub=0;function yAe(){yA=!0,setTimeout(()=>{yA=!1},50)}function Qj(t){t.pointerType==="touch"&&yAe()}function wAe(){if(!(typeof document>"u"))return ub===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Qj),ub++,()=>{ub--,!(ub>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Qj)}}function vAe(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,o]=E.useState(!1),a=E.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;E.useEffect(wAe,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=hJ(),{hoverProps:u,triggerHoverEnd:h}=E.useMemo(()=>{let f=(m,w)=>{if(a.pointerType=w,i||w==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let y=m.currentTarget;a.target=y,l(Eh(m.target),"pointerover",b=>{a.isHovered&&a.target&&!cJ(a.target,b.target)&&p(b,b.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:w}),r&&r(!0),o(!0)},p=(m,w)=>{let y=a.target;a.pointerType="",a.target=null,!(w==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,c(),n&&n({type:"hoverend",target:y,pointerType:w}),r&&r(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{yA&&m.pointerType==="mouse"||f(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&p(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[e,r,n,i,a,l,c]);return E.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function bAe(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=E.useRef({isFocused:!1,isFocusVisible:e||vJ()}),[s,o]=E.useState(!1),[a,l]=E.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=E.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=E.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);pAe(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:h}=gAe({isDisabled:n,onFocusChange:u}),{focusWithinProps:f}=mAe({isDisabled:!n,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:n?f:h}}var xAe=Object.defineProperty,EAe=(t,e,r)=>e in t?xAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lE=(t,e,r)=>(EAe(t,typeof e!="symbol"?e+"":e,r),r);let _Ae=class{constructor(){lE(this,"current",this.detect()),lE(this,"handoffState","pending"),lE(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},du=new _Ae;function pp(t){var e,r;return du.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function ox(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Zs(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ox(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Zs();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function gp(){let[t]=E.useState(Zs);return E.useEffect(()=>()=>t.dispose(),[t]),t}let Wr=(t,e)=>{du.isServer?E.useEffect(t,e):E.useLayoutEffect(t,e)};function mp(t){let e=E.useRef(t);return Wr(()=>{e.current=t},[t]),e}let wt=function(t){let e=mp(t);return Oe.useCallback((...r)=>e.current(...r),[e])};function CAe(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function AAe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function kAe({disabled:t=!1}={}){let e=E.useRef(null),[r,n]=E.useState(!1),i=gp(),s=wt(()=>{e.current=null,n(!1),i.dispose()}),o=wt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,n(!0);{let l=pp(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=CAe(c);n(AAe(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function _c(t){return E.useMemo(()=>t,Object.values(t))}let SAe=E.createContext(void 0);function bJ(){return E.useContext(SAe)}function wA(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function fl(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fl),n}var qg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qg||{}),Ld=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ld||{});function In(){let t=IAe();return E.useCallback(e=>$Ae({mergeRefs:t,...e}),[t])}function $Ae({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??TAe;let l=xJ(e,t);if(s)return db(l,r,n,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return db(h,r,n,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return fl(u?0:1,{0(){return null},1(){return db({...h,hidden:!0,style:{display:"none"}},r,n,o,a)}})}return db(l,r,n,o,a)}function db(t,e={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=cE(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[g,m]of Object.entries(e))typeof m=="boolean"&&(f=!0),m===!0&&p.push(g.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let g of p)h[`data-${g}`]=""}}if(Ey(s)&&(Object.keys(Uh(l)).length>0||Object.keys(Uh(h)).length>0))if(!E.isValidElement(u)||Array.isArray(u)&&u.length>1||NAe(u)){if(Object.keys(Uh(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Uh(l)).concat(Object.keys(Uh(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...y)=>wA(p(...y),l.className):wA(p,l.className),m=g?{className:g}:{},w=xJ(u.props,Uh(cE(l,["ref"])));for(let y in h)y in w&&delete h[y];return E.cloneElement(u,Object.assign({},w,h,c,{ref:i(PAe(u),c.ref)},m))}return E.createElement(s,Object.assign({},cE(l,["ref"]),!Ey(s)&&c,!Ey(s)&&h),u)}function IAe(){let t=E.useRef([]),e=E.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function TAe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function xJ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function EJ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let o of s)o==null||o(...i)}});return e}function an(t){var e;return Object.assign(E.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Uh(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function cE(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function PAe(t){return Oe.version.split(".")[0]>="19"?t.props.ref:t.ref}function Ey(t){return t===E.Fragment||t===Symbol.for("react.fragment")}function NAe(t){return Ey(t.type)}let OAe="span";var W5=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(W5||{});function MAe(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return In()({ourProps:s,theirProps:i,slot:{},defaultTag:OAe,name:"Hidden"})}let vA=an(MAe),RAe=E.createContext(void 0);function jAe(){return E.useContext(RAe)}function _J(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function hu(t){return _J(t)&&"tagName"in t}function _o(t){return hu(t)&&"accessKey"in t}function Zl(t){return hu(t)&&"tabIndex"in t}function DAe(t){return hu(t)&&"style"in t}function LAe(t){return _o(t)&&t.nodeName==="IFRAME"}function CJ(t){return _o(t)&&t.nodeName==="INPUT"}function Zj(t){return _o(t)&&t.nodeName==="LABEL"}function FAe(t){return _o(t)&&t.nodeName==="FIELDSET"}function AJ(t){return _o(t)&&t.nodeName==="LEGEND"}function UAe(t){return hu(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function BAe(t){let e=t.parentElement,r=null;for(;e&&!FAe(e);)AJ(e)&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&zAe(r)?!1:n}function zAe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(AJ(e))return!1;e=e.previousElementSibling}return!0}let kJ=Symbol();function WAe(t,e=!0){return Object.assign(t,{[kJ]:e})}function vs(...t){let e=E.useRef(t);E.useEffect(()=>{e.current=t},[t]);let r=wt(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[kJ]))?void 0:r}let lT=E.createContext(null);lT.displayName="DescriptionContext";function SJ(){let t=E.useContext(lT);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,SJ),e}return t}function $J(){let[t,e]=E.useState([]);return[t.length>0?t.join(" "):void 0,E.useMemo(()=>function(r){let n=wt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=E.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Oe.createElement(lT.Provider,{value:i},r.children)},[e])]}let HAe="p";function qAe(t,e){let r=E.useId(),n=bJ(),{id:i=`headlessui-description-${r}`,...s}=t,o=SJ(),a=vs(e);Wr(()=>o.register(i),[i,o.register]);let l=_c({...o.slot,disabled:n||!1}),c={ref:a,...o.props,id:i};return In()({ourProps:c,theirProps:s,slot:l,defaultTag:HAe,name:o.name||"Description"})}let VAe=an(qAe),GAe=Object.assign(VAe,{});var Vn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Vn||{});let ax=E.createContext(null);ax.displayName="LabelContext";function cT(){let t=E.useContext(ax);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,cT),e}return t}function KAe(t){var e,r,n;let i=(r=(e=E.useContext(ax))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function IJ({inherit:t=!1}={}){let e=KAe(),[r,n]=E.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,E.useMemo(()=>function(s){let o=wt(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=E.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Oe.createElement(ax.Provider,{value:a},s.children)},[n])]}let YAe="label";function QAe(t,e){var r;let n=E.useId(),i=cT(),s=jAe(),o=bJ(),{id:a=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=t,h=vs(e);Wr(()=>i.register(a),[a,i.register]);let f=wt(m=>{let w=m.currentTarget;if(!(m.target!==m.currentTarget&&UAe(m.target))&&(Zj(w)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),Zj(w))){let y=document.getElementById(w.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let v=y.getAttribute("aria-disabled");if(v==="true"||v==="")return;(CJ(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=_c({...i.slot,disabled:o||!1}),g={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in u&&delete u.onClick),In()({ourProps:g,theirProps:u,slot:p,defaultTag:l?YAe:"div",name:i.name||"Label"})}let ZAe=an(QAe);Object.assign(ZAe,{});let JAe=E.createContext(()=>{});function XAe({value:t,children:e}){return Oe.createElement(JAe.Provider,{value:t},e)}function Up(t,e,r){let n=r.initialDeps??[],i;function s(){var o,a,l,c;let u;r.key&&((o=r.debug)!=null&&o.call(r))&&(u=Date.now());const h=t();if(!(h.length!==n.length||h.some((g,m)=>n[m]!==g)))return i;n=h;let p;if(r.key&&((a=r.debug)!=null&&a.call(r))&&(p=Date.now()),i=e(...h),r.key&&((l=r.debug)!=null&&l.call(r))){const g=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-p)*100)/100,w=m/16,y=(b,v)=>{for(b=String(b);b.length<v;)b=" "+b;return b};console.info(`%c ${y(m,5)} /${y(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(c=r==null?void 0:r.onChange)==null||c.call(r,i),i}return s.updateDeps=o=>{n=o},s}function Jj(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const eke=(t,e)=>Math.abs(t-e)<1.01,tke=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},Xj=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},rke=t=>t,nke=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},ike=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(Xj(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(Xj(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},eD={passive:!0},tD=typeof window>"u"?!0:"onscrollend"in window,ske=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=t.options.useScrollendEvent&&tD?()=>{}:tke(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?r.scrollLeft*(f&&-1||1):r.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),r.addEventListener("scroll",a,eD);const c=t.options.useScrollendEvent&&tD;return c&&r.addEventListener("scrollend",l,eD),()=>{r.removeEventListener("scroll",a),c&&r.removeEventListener("scrollend",l)}},oke=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},ake=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const o=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class lke{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:rke,rangeExtractor:nke,onChange:()=>{},measureElement:oke,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=Up(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let o=n-1;o>=0;o--){const a=r[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=Up(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=Up(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<r;u++){const h=s(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:n+i,g=a.get(h),m=typeof g=="number"?g:this.options.estimateSize(u),w=p+m,y=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:m,end:w,key:h,lane:y}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Up(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,s)=>this.range=r.length>0&&n>0?cke({measurements:r,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Up(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,s,o)=>s===null||o===null?[]:r({startIndex:s,endIndex:o,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==r&&(a&&this.observer.unobserve(a),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=n-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=Up(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=n[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return Jj(n[TJ(0,n.length-1,i=>Jj(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+s?"end":"start"),n==="center"?r+=(i-s)/2:n==="end"&&(r-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const a=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(r,c);if(!u){console.warn("Failed to get offset for index:",r);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),g=this.getOffsetForIndex(r,f);if(!g){console.warn("Failed to get offset for index:",r);return}eke(g[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${r} after ${o} attempts.`))};a(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&s.some(a=>a===null);){const a=n[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const TJ=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function cke({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const i=t.length-1,s=l=>t[l].start;if(t.length<=n)return{startIndex:0,endIndex:i};let o=TJ(0,i,s,r),a=o;if(n===1)for(;a<i&&t[a].end<r+e;)a++;else if(n>1){const l=Array(n).fill(0);for(;a<i&&l.some(u=>u<r+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(n).fill(r+e);for(;o>=0&&c.some(u=>u>=r);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%n),a=Math.min(i,a+(n-1-a%n))}return{startIndex:o,endIndex:a}}const rD=typeof document<"u"?E.useLayoutEffect:E.useEffect;function uke(t){const e=E.useReducer(()=>({}),{})[1],r={...t,onChange:(i,s)=>{var o;s?hc.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[n]=E.useState(()=>new lke(r));return n.setOptions(r),rD(()=>n._didMount(),[]),rD(()=>n._willUpdate()),n}function dke(t){return uke({observeElementRect:ike,observeElementOffset:ske,scrollToFn:ake,...t})}function nD(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function hke(t,e,r=!1){let[n,i]=E.useState(()=>nD(e));return Wr(()=>{if(!e||!t)return;let s=Zs();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=nD(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}let PJ=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var fke=Object.defineProperty,pke=(t,e,r)=>e in t?fke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gke=(t,e,r)=>(pke(t,e+"",r),r),NJ=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Lo=(t,e,r)=>(NJ(t,e,"read from private field"),r?r.call(t):e.get(t)),uE=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},iD=(t,e,r,n)=>(NJ(t,e,"write to private field"),e.set(t,r),r),Ml,V1,G1;let OJ=class{constructor(e){uE(this,Ml,{}),uE(this,V1,new PJ(()=>new Set)),uE(this,G1,new Set),gke(this,"disposables",Zs()),iD(this,Ml,e),du.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Lo(this,Ml)}subscribe(e,r){if(du.isServer)return()=>{};let n={selector:e,callback:r,current:e(Lo(this,Ml))};return Lo(this,G1).add(n),this.disposables.add(()=>{Lo(this,G1).delete(n)})}on(e,r){return du.isServer?()=>{}:(Lo(this,V1).get(e).add(r),this.disposables.add(()=>{Lo(this,V1).get(e).delete(r)}))}send(e){let r=this.reduce(Lo(this,Ml),e);if(r!==Lo(this,Ml)){iD(this,Ml,r);for(let n of Lo(this,G1)){let i=n.selector(Lo(this,Ml));MJ(n.current,i)||(n.current=i,n.callback(i))}for(let n of Lo(this,V1).get(e.type))n(Lo(this,Ml),e)}}};Ml=new WeakMap,V1=new WeakMap,G1=new WeakMap;function MJ(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:dE(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:dE(t.entries(),e.entries()):sD(t)&&sD(e)?dE(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function dE(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function sD(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function oD(t){let[e,r]=t(),n=Zs();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var mke=Object.defineProperty,yke=(t,e,r)=>e in t?mke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aD=(t,e,r)=>(yke(t,typeof e!="symbol"?e+"":e,r),r),RJ=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(RJ||{});let wke={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},vke=class jJ extends OJ{constructor(){super(...arguments),aD(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),aD(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new jJ({stack:[]})}reduce(e,r){return fl(r.type,wke,e,r)}};const lx=new PJ(()=>vke.new());var DJ={exports:{}},LJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=E;function bke(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xke=typeof Object.is=="function"?Object.is:bke,Eke=Yv.useSyncExternalStore,_ke=Yv.useRef,Cke=Yv.useEffect,Ake=Yv.useMemo,kke=Yv.useDebugValue;LJ.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=_ke(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Ake(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,xke(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,h=m)}var c=!1,u,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=Eke(t,s[0],s[1]);return Cke(function(){o.hasValue=!0,o.value=a},[a]),kke(a),a};DJ.exports=LJ;var Ske=DJ.exports;function ta(t,e,r=MJ){return Ske.useSyncExternalStoreWithSelector(wt(n=>t.subscribe($ke,n)),wt(()=>t.state),wt(()=>t.state),wt(e),r)}function $ke(t){return t}function Qv(t,e){let r=E.useId(),n=lx.get(e),[i,s]=ta(n,E.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return Wr(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let bA=new Map,_y=new Map;function lD(t){var e;let r=(e=_y.get(t))!=null?e:0;return _y.set(t,r+1),r!==0?()=>cD(t):(bA.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>cD(t))}function cD(t){var e;let r=(e=_y.get(t))!=null?e:1;if(r===1?_y.delete(t):_y.set(t,r-1),r!==1)return;let n=bA.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,bA.delete(t))}function FJ(t,{allowed:e,disallowed:r}={}){let n=Qv(t,"inert-others");Wr(()=>{var i,s;if(!n)return;let o=Zs();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&o.add(lD(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=pp(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(lD(h));u=u.parentElement}}return o.dispose},[n,e,r])}function UJ(t,e,r){let n=mp(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});E.useEffect(()=>{if(!t)return;let i=e===null?null:_o(e)?e:e.current;if(!i)return;let s=Zs();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,t])}let H5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Ike=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ya=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ya||{}),xA=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(xA||{}),Tke=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Tke||{});function BJ(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(H5)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Pke(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ike)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var uT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(uT||{});function dT(t,e=0){var r;return t===((r=pp(t))==null?void 0:r.body)?!1:fl(e,{0(){return t.matches(H5)},1(){let n=t;for(;n!==null;){if(n.matches(H5))return!0;n=n.parentElement}return!1}})}function zJ(t){let e=pp(t);Zs().nextFrame(()=>{e&&Zl(e.activeElement)&&!dT(e.activeElement,0)&&oc(t)})}var Nke=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Nke||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function oc(t){t==null||t.focus({preventScroll:!0})}let Oke=["textarea","input"].join(",");function Mke(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Oke))!=null?r:!1}function WJ(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Rke(t,e){return ig(BJ(),e,{relativeTo:t})}function ig(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?WJ(t):t:e&64?Pke(t):BJ(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),n=n??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==s.activeElement);return e&6&&Mke(f)&&f.select(),2}function HJ(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function jke(){return/Android/gi.test(window.navigator.userAgent)}function uD(){return HJ()||jke()}function N0(t,e,r,n){let i=mp(r);E.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function qJ(t,e,r,n){let i=mp(r);E.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const dD=30;function VJ(t,e,r){let n=mp(r),i=E.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!dT(c,uT.Loose)&&c.tabIndex!==-1&&a.preventDefault(),n.current(a,c)},[n,e]),s=E.useRef(null);N0(t,"pointerdown",a=>{var l,c;uD()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),N0(t,"pointerup",a=>{if(uD()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=E.useRef({x:0,y:0});N0(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),N0(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=dD||Math.abs(l.y-o.current.y)>=dD))return i(a,()=>Zl(a.target)?a.target:null)},!0),qJ(t,"blur",a=>i(a,()=>LAe(window.document.activeElement)?window.document.activeElement:null),!0)}function Vg(...t){return E.useMemo(()=>pp(...t),[...t])}var Dke=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Dke||{});const hb={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Lke=200,hD=5;function Fke(t,{trigger:e,action:r,close:n,select:i}){let s=E.useRef(null),o=E.useRef(null),a=E.useRef(null);N0(t&&e!==null,"pointerdown",l=>{_J(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),N0(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Zl(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<hD&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<hD)return;let f=r(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>Lke&&(i(f.target),n());break}case 2:{n();break}}},{capture:!0})}function GJ(t,e,r,n){let i=mp(r);E.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Uke(t,e){return E.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Bke(t){return E.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function zke(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(a=>a()))}}}function Wke(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function Hke(){return HJ()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Zs();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Zl(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Zl(u)&&!n(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(Zl(a.target)&&DAe(a.target))if(n(a.target)){let l=a.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(Zl(a.target)){if(CJ(a.target))return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function qke(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Vke(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let of=zke(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Zs(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:Vke(r)},i=[Hke(),Wke(),qke()];i.forEach(({before:s})=>s==null?void 0:s(n)),i.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});of.subscribe(()=>{let t=of.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&of.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&of.dispatch("TEARDOWN",r)}});function Gke(t,e,r=()=>({containers:[]})){let n=Bke(of),i=e?n.get(e):void 0,s=i?i.count>0:!1;return Wr(()=>{if(!(!e||!t))return of.dispatch("PUSH",e,r),()=>of.dispatch("POP",e,r)},[t,e]),s}function KJ(t,e,r=()=>[document.body]){let n=Qv(t,"scroll-lock");Gke(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function fD(t){return[t.screenX,t.screenY]}function Kke(){let t=E.useRef([-1,-1]);return{wasMoved(e){let r=fD(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=fD(e)}}}function Yke(t=0){let[e,r]=E.useState(t),n=E.useCallback(l=>r(l),[]),i=E.useCallback(l=>r(c=>c|l),[]),s=E.useCallback(l=>(e&l)===l,[e]),o=E.useCallback(l=>r(c=>c&~l),[]),a=E.useCallback(l=>r(c=>c^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Qke={},pD,gD;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((pD=process==null?void 0:Qke)==null?void 0:pD.NODE_ENV)==="test"&&typeof((gD=Element==null?void 0:Element.prototype)==null?void 0:gD.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Zke=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Zke||{});function YJ(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function QJ(t,e,r,n){let[i,s]=E.useState(r),{hasFlag:o,addFlag:a,removeFlag:l}=Yke(t&&i?3:0),c=E.useRef(!1),u=E.useRef(!1),h=gp();return Wr(()=>{var f;if(t){if(r&&s(!0),!e){r&&a(3);return}return(f=n==null?void 0:n.start)==null||f.call(n,r),Jke(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(a(3),l(4)):(a(4),l(2)))},run(){u.current?r?(l(3),a(4)):(l(4),a(3)):r?l(1):a(1)},done(){var p;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),r||s(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[t,r,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Jke(t,{prepare:e,run:r,done:n,inFlight:i}){let s=Zs();return eSe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(Xke(t,n))})}),s.dispose}function Xke(t,e){var r,n;let i=Zs();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(a=>a instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function eSe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function tSe(t,{container:e,accept:r,walk:n}){let i=E.useRef(r),s=E.useRef(n);E.useEffect(()=>{i.current=r,s.current=n},[r,n]),Wr(()=>{if(!e||!t)return;let o=pp(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function hT(t,e){let r=E.useRef([]),n=wt(t);E.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let a=n(e,i);return r.current=e,a}},[n,...e])}function cx(){return typeof window<"u"}function Am(t){return ZJ(t)?(t.nodeName||"").toLowerCase():"#document"}function bo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cc(t){var e;return(e=(ZJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZJ(t){return cx()?t instanceof Node||t instanceof bo(t).Node:!1}function ls(t){return cx()?t instanceof Element||t instanceof bo(t).Element:!1}function wc(t){return cx()?t instanceof HTMLElement||t instanceof bo(t).HTMLElement:!1}function mD(t){return!cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bo(t).ShadowRoot}const rSe=new Set(["inline","contents"]);function Zv(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=pl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!rSe.has(i)}const nSe=new Set(["table","td","th"]);function iSe(t){return nSe.has(Am(t))}const sSe=[":popover-open",":modal"];function ux(t){return sSe.some(e=>{try{return t.matches(e)}catch{return!1}})}const oSe=["transform","translate","scale","rotate","perspective"],aSe=["transform","translate","scale","rotate","perspective","filter"],lSe=["paint","layout","strict","content"];function fT(t){const e=pT(),r=ls(t)?pl(t):t;return oSe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||aSe.some(n=>(r.willChange||"").includes(n))||lSe.some(n=>(r.contain||"").includes(n))}function cSe(t){let e=lh(t);for(;wc(e)&&!Gg(e);){if(fT(e))return e;if(ux(e))return null;e=lh(e)}return null}function pT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uSe=new Set(["html","body","#document"]);function Gg(t){return uSe.has(Am(t))}function pl(t){return bo(t).getComputedStyle(t)}function dx(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lh(t){if(Am(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mD(t)&&t.host||Cc(t);return mD(e)?e.host:e}function JJ(t){const e=lh(t);return Gg(e)?t.ownerDocument?t.ownerDocument.body:t.body:wc(e)&&Zv(e)?e:JJ(e)}function Qw(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=JJ(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=bo(i);if(s){const a=EA(o);return e.concat(o,o.visualViewport||[],Zv(i)?i:[],a&&r?Qw(a):[])}return e.concat(i,Qw(i,[],r))}function EA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dSe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const Gf=Math.min,Bi=Math.max,Zw=Math.round,fb=Math.floor,ac=t=>({x:t,y:t}),hSe={left:"right",right:"left",bottom:"top",top:"bottom"},fSe={start:"end",end:"start"};function yD(t,e,r){return Bi(t,Gf(e,r))}function km(t,e){return typeof t=="function"?t(e):t}function ch(t){return t.split("-")[0]}function Jv(t){return t.split("-")[1]}function XJ(t){return t==="x"?"y":"x"}function eX(t){return t==="y"?"height":"width"}const pSe=new Set(["top","bottom"]);function au(t){return pSe.has(ch(t))?"y":"x"}function tX(t){return XJ(au(t))}function gSe(t,e,r){r===void 0&&(r=!1);const n=Jv(t),i=tX(t),s=eX(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=q5(o)),[o,q5(o)]}function mSe(t){const e=q5(t);return[_A(t),e,_A(e)]}function _A(t){return t.replace(/start|end/g,e=>fSe[e])}const wD=["left","right"],vD=["right","left"],ySe=["top","bottom"],wSe=["bottom","top"];function vSe(t,e,r){switch(t){case"top":case"bottom":return r?e?vD:wD:e?wD:vD;case"left":case"right":return e?ySe:wSe;default:return[]}}function bSe(t,e,r,n){const i=Jv(t);let s=vSe(ch(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(_A)))),s}function q5(t){return t.replace(/left|right|bottom|top/g,e=>hSe[e])}function xSe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ESe(t){return typeof t!="number"?xSe(t):{top:t,right:t,bottom:t,left:t}}function V5(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function bD(t,e,r){let{reference:n,floating:i}=t;const s=au(e),o=tX(e),a=eX(o),l=ch(e),c=s==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Jv(e)){case"start":p[o]-=f*(r&&c?-1:1);break;case"end":p[o]+=f*(r&&c?-1:1);break}return p}const _Se=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=bD(c,n,l),f=n,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:b,y:v,data:C,reset:x}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,h=v??h,p={...p,[w]:{...p[w],...C}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:u,y:h}=bD(c,f,l)),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function hx(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=km(e,t),g=ESe(p),w=a[f?h==="floating"?"reference":"floating":h],y=V5(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},x=V5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(y.top-x.top+g.top)/C.y,bottom:(x.bottom-y.bottom+g.bottom)/C.y,left:(y.left-x.left+g.left)/C.x,right:(x.right-y.right+g.right)/C.x}}const CSe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=km(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=ch(i),b=au(a),v=ch(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=f||(v||!m?[q5(a)]:mSe(a)),I=g!=="none";!f&&I&&x.push(...bSe(a,m,g,C));const $=[a,...x],R=await hx(e,w),T=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&T.push(R[y]),h){const A=gSe(i,o,C);T.push(R[A[0]],R[A[1]])}if(L=[...L,{placement:i,overflows:T}],!T.every(A=>A<=0)){var U,W;const A=(((U=s.flip)==null?void 0:U.index)||0)+1,_=$[A];if(_&&(!(h==="alignment"?b!==au(_):!1)||L.every(P=>au(P.placement)===b?P.overflows[0]>0:!0)))return{data:{index:A,overflows:L},reset:{placement:_}};let S=(W=L.filter(O=>O.overflows[0]<=0).sort((O,P)=>O.overflows[1]-P.overflows[1])[0])==null?void 0:W.placement;if(!S)switch(p){case"bestFit":{var M;const O=(M=L.filter(P=>{if(I){const N=au(P.placement);return N===b||N==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(N=>N>0).reduce((N,D)=>N+D,0)]).sort((P,N)=>P[1]-N[1])[0])==null?void 0:M[0];O&&(S=O);break}case"initialPlacement":S=a;break}if(i!==S)return{reset:{placement:S}}}return{}}}},ASe=new Set(["left","top"]);async function kSe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=ch(r),a=Jv(r),l=au(r)==="y",c=ASe.has(o)?-1:1,u=s&&l?-1:1,h=km(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const SSe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await kSe(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$Se=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...l}=km(t,e),c={x:r,y:n},u=await hx(e,l),h=au(ch(i)),f=XJ(h);let p=c[f],g=c[h];if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+u[w],v=p-u[y];p=yD(b,p,v)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=g+u[w],v=g-u[y];g=yD(b,g,v)}const m=a.fn({...e,[f]:p,[h]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:s,[h]:o}}}}}},ISe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=km(t,e),u=await hx(e,c),h=ch(i),f=Jv(i),p=au(i)==="y",{width:g,height:m}=s.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=g-u.left-u.right,C=Gf(m-u[w],b),x=Gf(g-u[y],v),I=!e.middlewareData.shift;let $=C,R=x;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&($=b),I&&!f){const L=Bi(u.left,0),U=Bi(u.right,0),W=Bi(u.top,0),M=Bi(u.bottom,0);p?R=g-2*(L!==0||U!==0?L+U:Bi(u.left,u.right)):$=m-2*(W!==0||M!==0?W+M:Bi(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:$});const T=await o.getDimensions(a.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function rX(t){const e=pl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=wc(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Zw(r)!==s||Zw(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function gT(t){return ls(t)?t:t.contextElement}function sg(t){const e=gT(t);if(!wc(e))return ac(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=rX(e);let o=(s?Zw(r.width):r.width)/n,a=(s?Zw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TSe=ac(0);function nX(t){const e=bo(t);return!pT()||!e.visualViewport?TSe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PSe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==bo(t)?!1:e}function Kf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=gT(t);let o=ac(1);e&&(n?ls(n)&&(o=sg(n)):o=sg(t));const a=PSe(s,r,n)?nX(s):ac(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=bo(s),p=n&&ls(n)?bo(n):n;let g=f,m=EA(g);for(;m&&n&&p!==g;){const w=sg(m),y=m.getBoundingClientRect(),b=pl(m),v=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,C=y.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=v,c+=C,g=bo(m),m=EA(g)}}return V5({width:u,height:h,x:l,y:c})}function fx(t,e){const r=dx(t).scrollLeft;return e?e.left+r:Kf(Cc(t)).left+r}function iX(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-fx(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function NSe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Cc(n),a=e?ux(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=ac(1);const u=ac(0),h=wc(n);if((h||!h&&!s)&&((Am(n)!=="body"||Zv(o))&&(l=dx(n)),wc(n))){const p=Kf(n);c=sg(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!h&&!s?iX(o,l):ac(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function OSe(t){return Array.from(t.getClientRects())}function MSe(t){const e=Cc(t),r=dx(t),n=t.ownerDocument.body,i=Bi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Bi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+fx(t);const a=-r.scrollTop;return pl(n).direction==="rtl"&&(o+=Bi(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const xD=25;function RSe(t,e){const r=bo(t),n=Cc(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=pT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=fx(n);if(c<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-p);g<=xD&&(s-=g)}else c<=xD&&(s+=c);return{width:s,height:o,x:a,y:l}}const jSe=new Set(["absolute","fixed"]);function DSe(t,e){const r=Kf(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=wc(t)?sg(t):ac(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function ED(t,e,r){let n;if(e==="viewport")n=RSe(t,r);else if(e==="document")n=MSe(Cc(t));else if(ls(e))n=DSe(e,r);else{const i=nX(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return V5(n)}function sX(t,e){const r=lh(t);return r===e||!ls(r)||Gg(r)?!1:pl(r).position==="fixed"||sX(r,e)}function LSe(t,e){const r=e.get(t);if(r)return r;let n=Qw(t,[],!1).filter(a=>ls(a)&&Am(a)!=="body"),i=null;const s=pl(t).position==="fixed";let o=s?lh(t):t;for(;ls(o)&&!Gg(o);){const a=pl(o),l=fT(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&jSe.has(i.position)||Zv(o)&&!l&&sX(t,o))?n=n.filter(u=>u!==o):i=a,o=lh(o)}return e.set(t,n),n}function FSe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?ux(e)?[]:LSe(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const h=ED(e,u,i);return c.top=Bi(h.top,c.top),c.right=Gf(h.right,c.right),c.bottom=Gf(h.bottom,c.bottom),c.left=Bi(h.left,c.left),c},ED(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function USe(t){const{width:e,height:r}=rX(t);return{width:e,height:r}}function BSe(t,e,r){const n=wc(e),i=Cc(e),s=r==="fixed",o=Kf(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ac(0);function c(){l.x=fx(i)}if(n||!n&&!s)if((Am(e)!=="body"||Zv(i))&&(a=dx(e)),n){const p=Kf(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?iX(i,a):ac(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function hE(t){return pl(t).position==="static"}function _D(t,e){if(!wc(t)||pl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Cc(t)===r&&(r=r.ownerDocument.body),r}function oX(t,e){const r=bo(t);if(ux(t))return r;if(!wc(t)){let i=lh(t);for(;i&&!Gg(i);){if(ls(i)&&!hE(i))return i;i=lh(i)}return r}let n=_D(t,e);for(;n&&iSe(n)&&hE(n);)n=_D(n,e);return n&&Gg(n)&&hE(n)&&!fT(n)?r:n||cSe(t)||r}const zSe=async function(t){const e=this.getOffsetParent||oX,r=this.getDimensions,n=await r(t.floating);return{reference:BSe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WSe(t){return pl(t).direction==="rtl"}const HSe={convertOffsetParentRelativeRectToViewportRelativeRect:NSe,getDocumentElement:Cc,getClippingRect:FSe,getOffsetParent:oX,getElementRects:zSe,getClientRects:OSe,getDimensions:USe,getScale:sg,isElement:ls,isRTL:WSe};function aX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qSe(t,e){let r=null,n;const i=Cc(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const g=fb(h),m=fb(i.clientWidth-(u+f)),w=fb(i.clientHeight-(h+p)),y=fb(u),v={rootMargin:-g+"px "+-m+"px "+-w+"px "+-y+"px",threshold:Bi(0,Gf(1,l))||1};let C=!0;function x(I){const $=I[0].intersectionRatio;if($!==l){if(!C)return o();$?o(!1,$):n=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!aX(c,t.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(x,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(x,v)}r.observe(t)}return o(!0),s}function VSe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=gT(t),u=i||s?[...c?Qw(c):[],...Qw(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const h=c&&a?qSe(c,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Kf(t):null;l&&w();function w(){const y=Kf(t);m&&!aX(m,y)&&r(),m=y,g=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const fE=hx,GSe=SSe,KSe=$Se,YSe=CSe,QSe=ISe,ZSe=(t,e,r)=>{const n=new Map,i={platform:HSe,...r},s={...i.platform,_c:n};return _Se(t,e,{...i,platform:s})};var JSe=typeof document<"u",XSe=function(){},_3=JSe?E.useLayoutEffect:XSe;function G5(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!G5(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!G5(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function lX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CD(t,e){const r=lX(t);return Math.round(e*r)/r}function pE(t){const e=E.useRef(t);return _3(()=>{e.current=t}),e}function e$e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=E.useState(n);G5(f,n)||p(n);const[g,m]=E.useState(null),[w,y]=E.useState(null),b=E.useCallback(P=>{P!==I.current&&(I.current=P,m(P))},[]),v=E.useCallback(P=>{P!==$.current&&($.current=P,y(P))},[]),C=s||g,x=o||w,I=E.useRef(null),$=E.useRef(null),R=E.useRef(u),T=l!=null,L=pE(l),U=pE(i),W=pE(c),M=E.useCallback(()=>{if(!I.current||!$.current)return;const P={placement:e,strategy:r,middleware:f};U.current&&(P.platform=U.current),ZSe(I.current,$.current,P).then(N=>{const D={...N,isPositioned:W.current!==!1};A.current&&!G5(R.current,D)&&(R.current=D,hc.flushSync(()=>{h(D)}))})},[f,e,r,U,W]);_3(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[c]);const A=E.useRef(!1);_3(()=>(A.current=!0,()=>{A.current=!1}),[]),_3(()=>{if(C&&(I.current=C),x&&($.current=x),C&&x){if(L.current)return L.current(C,x,M);M()}},[C,x,M,L,T]);const _=E.useMemo(()=>({reference:I,floating:$,setReference:b,setFloating:v}),[b,v]),S=E.useMemo(()=>({reference:C,floating:x}),[C,x]),O=E.useMemo(()=>{const P={position:r,left:0,top:0};if(!S.floating)return P;const N=CD(S.floating,u.x),D=CD(S.floating,u.y);return a?{...P,transform:"translate("+N+"px, "+D+"px)",...lX(S.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:D}},[r,a,S.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:M,refs:_,elements:S,floatingStyles:O}),[u,M,_,S,O])}const cX=(t,e)=>({...GSe(t),options:[t,e]}),t$e=(t,e)=>({...KSe(t),options:[t,e]}),r$e=(t,e)=>({...YSe(t),options:[t,e]}),n$e=(t,e)=>({...QSe(t),options:[t,e]}),uX={...B_},i$e=uX.useInsertionEffect,s$e=i$e||(t=>t());function dX(t){const e=E.useRef(()=>{});return s$e(()=>{e.current=t}),E.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var CA=typeof document<"u"?E.useLayoutEffect:E.useEffect;let AD=!1,o$e=0;const kD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+o$e++;function a$e(){const[t,e]=E.useState(()=>AD?kD():void 0);return CA(()=>{t==null&&e(kD())},[]),E.useEffect(()=>{AD=!0},[]),t}const l$e=uX.useId,c$e=l$e||a$e;function u$e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const d$e=E.createContext(null),h$e=E.createContext(null),f$e=()=>{var t;return((t=E.useContext(d$e))==null?void 0:t.id)||null},p$e=()=>E.useContext(h$e),g$e="data-floating-ui-focusable";function m$e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=c$e(),s=E.useRef({}),[o]=E.useState(()=>u$e()),a=f$e()!=null,[l,c]=E.useState(n.reference),u=dX((p,g,m)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:m,nested:a}),r==null||r(p,g,m)}),h=E.useMemo(()=>({setPositionReference:c}),[]),f=E.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return E.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function y$e(t){t===void 0&&(t={});const{nodeId:e}=t,r=m$e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,o]=E.useState(null),[a,l]=E.useState(null),u=(i==null?void 0:i.domReference)||s,h=E.useRef(null),f=p$e();CA(()=>{u&&(h.current=u)},[u]);const p=e$e({...t,elements:{...i,...a&&{reference:a}}}),g=E.useCallback(v=>{const C=ls(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(C),p.refs.setReference(C)},[p.refs]),m=E.useCallback(v=>{(ls(v)||v===null)&&(h.current=v,o(v)),(ls(p.refs.reference.current)||p.refs.reference.current===null||v!==null&&!ls(v))&&p.refs.setReference(v)},[p.refs]),w=E.useMemo(()=>({...p.refs,setReference:m,setPositionReference:g,domReference:h}),[p.refs,m,g]),y=E.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),b=E.useMemo(()=>({...p,...n,refs:w,elements:y,nodeId:e}),[p,w,y,e,n]);return CA(()=>{n.dataRef.current.floatingContext=b;const v=f==null?void 0:f.nodesRef.current.find(C=>C.id===e);v&&(v.context=b)}),E.useMemo(()=>({...p,context:b,refs:w,elements:y}),[p,w,y,b])}const SD="active",$D="selected";function gE(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[SD]:o,[$D]:a,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[g$e]:""},...s,...e.map(o=>{const a=o?o[r]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[SD,$D].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var h;(h=n.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];return(f=n.get(c))==null?void 0:f.map(w=>w(...g)).find(w=>w!==void 0)}}}else o[c]=u}),o),{})}}function w$e(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),r=t.map(a=>a==null?void 0:a.floating),n=t.map(a=>a==null?void 0:a.item),i=E.useCallback(a=>gE(a,t,"reference"),e),s=E.useCallback(a=>gE(a,t,"floating"),r),o=E.useCallback(a=>gE(a,t,"item"),n);return E.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function ID(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const v$e=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=km(t,e),{rects:h,elements:{floating:f}}=e,p=r.current[o],g=(c==null?void 0:c.current)||f,m=f.clientTop||g.clientTop,w=f.clientTop!==0,y=g.clientTop!==0,b=f===g;if(!p)return{};const v={...e,...await cX(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},C=await fE(ID(v,g.scrollHeight+m+f.clientTop),u),x=await fE(v,{...u,elementContext:"reference"}),I=Bi(0,C.top),$=v.y+I,L=(g.scrollHeight>g.clientHeight?U=>U:Zw)(Bi(0,g.scrollHeight+(w&&b||y?m*2:0)-I-Bi(0,C.bottom)));if(g.style.maxHeight=L+"px",g.scrollTop=I,i){const U=g.offsetHeight<p.offsetHeight*Gf(a,r.current.length)-1||x.top>=-l||x.bottom>=-l;hc.flushSync(()=>i(U))}return n&&(n.current=await fE(ID({...v,y:$},g.offsetHeight+m+f.clientTop),u)),{y:$}}});function b$e(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=dX(a),c=E.useRef(!1),u=E.useRef(null),h=E.useRef(null);E.useEffect(()=>{if(!i)return;function p(m){if(m.ctrlKey||!g||s.current==null)return;const w=m.deltaY,y=s.current.top>=-.5,b=s.current.bottom>=-.5,v=g.scrollHeight-g.clientHeight,C=w<0?-1:1,x=w<0?"max":"min";g.scrollHeight<=g.clientHeight||(!y&&w>0||!b&&w<0?(m.preventDefault(),hc.flushSync(()=>{l(I=>I+Math[x](w,v*C))})):/firefox/i.test(dSe())&&(g.scrollTop+=w))}const g=(o==null?void 0:o.current)||n.floating;if(r&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,g.removeEventListener("wheel",p)}},[i,r,n.floating,s,o,l]);const f=E.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||n.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&hc.flushSync(()=>l(m=>m+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[n.floating,l,s,o]);return E.useMemo(()=>i?{floating:f}:{},[i,f])}let Sm=E.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Sm.displayName="FloatingContext";let mT=E.createContext(null);mT.displayName="PlacementContext";function x$e(t){return E.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function E$e(){return E.useContext(Sm).setReference}function _$e(){return E.useContext(Sm).getReferenceProps}function C$e(){let{getFloatingProps:t,slot:e}=E.useContext(Sm);return E.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function A$e(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=E.useContext(mT),r=E.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Wr(()=>{e==null||e(r??null)},[e,r]);let n=E.useContext(Sm);return E.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let TD=4;function k$e({children:t,enabled:e=!0}){let[r,n]=E.useState(null),[i,s]=E.useState(0),o=E.useRef(null),[a,l]=E.useState(null);S$e(a);let c=e&&r!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:g}=$$e(r,a),[m,w="center"]=u.split(" ");Wr(()=>{c&&s(0)},[c]);let{refs:y,floatingStyles:b,context:v}=y$e({open:c,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[cX({mainAxis:m==="selection"?0:h,crossAxis:f}),t$e({padding:p}),m!=="selection"&&r$e({padding:p}),m==="selection"&&g?v$e({...g,padding:p,overflowRef:o,offset:i,minItemsVisible:TD,referenceOverflowThreshold:p,onFallbackChange(U){var W,M;if(!U)return;let A=v.elements.floating;if(!A)return;let _=parseFloat(getComputedStyle(A).scrollPaddingBottom)||0,S=Math.min(TD,A.childElementCount),O=0,P=0;for(let N of(M=(W=v.elements.floating)==null?void 0:W.childNodes)!=null?M:[])if(_o(N)){let D=N.offsetTop,F=D+N.clientHeight+_,k=A.scrollTop,z=k+A.clientHeight;if(D>=k&&F<=z)S--;else{P=Math.max(0,Math.min(F,z)-Math.max(D,k)),O=N.clientHeight;break}}S>=1&&s(N=>{let D=O*S-P+_;return N>=D?N:D})}}):null,n$e({padding:p,apply({availableWidth:U,availableHeight:W,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${W}px)`})}})].filter(Boolean),whileElementsMounted:VSe}),[C=m,x=w]=v.placement.split("-");m==="selection"&&(C="selection");let I=E.useMemo(()=>({anchor:[C,x].filter(Boolean).join(" ")}),[C,x]),$=b$e(v,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:T}=w$e([$]),L=wt(U=>{l(U),y.setFloating(U)});return E.createElement(mT.Provider,{value:n},E.createElement(Sm.Provider,{value:{setFloating:L,setReference:y.setReference,styles:b,getReferenceProps:R,getFloatingProps:T,slot:I}},t))}function S$e(t){Wr(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function $$e(t,e){var r,n,i;let s=mE((r=t==null?void 0:t.gap)!=null?r:"var(--anchor-gap, 0)",e),o=mE((n=t==null?void 0:t.offset)!=null?n:"var(--anchor-offset, 0)",e),a=mE((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function mE(t,e,r=void 0){let n=gp(),i=wt((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=PD(l,c);return[u,h=>{let f=hX(l);{let p=f.map(g=>window.getComputedStyle(c).getPropertyValue(g));n.requestAnimationFrame(function g(){n.nextFrame(g);let m=!1;for(let[y,b]of f.entries()){let v=window.getComputedStyle(c).getPropertyValue(b);if(p[y]!==v){p[y]=v,m=!0;break}}if(!m)return;let w=PD(l,c);u!==w&&(h(w),u=w)})}return n.dispose}]}return[r,null]}),s=E.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=E.useState();return Wr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function hX(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...hX(i)]:[n]}return[]}function PD(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let px=E.createContext(null);px.displayName="OpenClosedContext";var cs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(cs||{});function Xv(){return E.useContext(px)}function fX({value:t,children:e}){return Oe.createElement(px.Provider,{value:t},e)}function I$e({children:t}){return Oe.createElement(px.Provider,{value:null},t)}function T$e(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let _d=[];T$e(()=>{function t(e){if(!Zl(e.target)||e.target===document.body||_d[0]===e.target)return;let r=e.target;r=r.closest(H5),_d.unshift(r??e.target),_d=_d.filter(n=>n!=null&&n.isConnected),_d.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function P$e(t){throw new Error("Unexpected object: "+t)}var Cn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Cn||{});function pb(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:P$e(t)}}var pX=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(pX||{});function yT(t){let e=wt(t),r=E.useRef(!1);E.useEffect(()=>(r.current=!1,()=>{r.current=!0,ox(()=>{r.current&&e()})}),[e])}let gX=E.createContext(!1);function N$e(){return E.useContext(gX)}function ND(t){return Oe.createElement(gX.Provider,{value:t.force},t.children)}function O$e(t){let e=N$e(),r=E.useContext(yX),[n,i]=E.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(du.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return E.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),E.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let mX=E.Fragment,M$e=an(function(t,e){let{ownerDocument:r=null,...n}=t,i=E.useRef(null),s=vs(WAe(f=>{i.current=f}),e),o=Vg(i),a=r??o,l=O$e(a),c=E.useContext(AA),u=gp(),h=In();return yT(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?hc.createPortal(Oe.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:mX,name:"Portal"})),l):null});function R$e(t,e){let r=vs(e),{enabled:n=!0,ownerDocument:i,...s}=t,o=In();return n?Oe.createElement(M$e,{...s,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:mX,name:"Portal"})}let j$e=E.Fragment,yX=E.createContext(null);function D$e(t,e){let{target:r,...n}=t,i={ref:vs(e)},s=In();return Oe.createElement(yX.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:j$e,name:"Popover.Group"}))}let AA=E.createContext(null);function L$e(){let t=E.useContext(AA),e=E.useRef([]),r=wt(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=wt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=E.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,E.useMemo(()=>function({children:s}){return Oe.createElement(AA.Provider,{value:i},s)},[i])]}let F$e=an(R$e),wX=an(D$e),vX=Object.assign(F$e,{Group:wX});const C3={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function bX(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function U$e(t,e,r){let n=Zs();if(e.kind==="Tracked"){let i=function(){s!==bX(t)&&(n.dispose(),r())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function B$e(t,e=typeof document<"u"?document.defaultView:null,r){let n=Qv(t,"escape");GJ(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===Vn.Escape&&r(i))})}function z$e(){var t;let[e]=E.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=E.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Wr(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function W$e({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=Vg(r),i=wt(()=>{var s,o;let a=[];for(let l of t)l!==null&&(hu(l)?a.push(l):"current"in l&&hu(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&hu(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:i,contains:wt(s=>i().some(o=>o.contains(s)))}}let xX=E.createContext(null);function OD({children:t,node:e}){let[r,n]=E.useState(null),i=EX(e??r);return Oe.createElement(xX.Provider,{value:i},t,i===null&&Oe.createElement(vA,{features:W5.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=pp(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&hu(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function EX(t=null){var e;return(e=E.useContext(xX))!=null?e:t}function H$e(){let t=typeof document>"u";return"useSyncExternalStore"in B_?(e=>e.useSyncExternalStore)(B_)(()=>()=>{},()=>!1,()=>!t):!1}function gx(){let t=H$e(),[e,r]=E.useState(du.isHandoffComplete);return e&&du.isHandoffComplete===!1&&r(!1),E.useEffect(()=>{e!==!0&&r(!0)},[e]),E.useEffect(()=>du.handoff(),[]),t?!1:e}function wT(){let t=E.useRef(!1);return Wr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var K1=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(K1||{});function q$e(){let t=E.useRef(0);return qJ(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function _X(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)hu(r.current)&&e.add(r.current);return e}let V$e="div";var Gh=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Gh||{});function G$e(t,e){let r=E.useRef(null),n=vs(r,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;gx()||(a=0);let c=Vg(r);Z$e(a,{ownerDocument:c});let u=J$e(a,{ownerDocument:c,container:r,initialFocus:i,initialFocusFallback:s});X$e(a,{ownerDocument:c,container:r,containers:o,previousActiveElement:u});let h=q$e(),f=wt(b=>{if(!_o(r.current))return;let v=r.current;(C=>C())(()=>{fl(h.current,{[K1.Forwards]:()=>{ig(v,Ya.First,{skipElements:[b.relatedTarget,s]})},[K1.Backwards]:()=>{ig(v,Ya.Last,{skipElements:[b.relatedTarget,s]})}})})}),p=Qv(!!(a&2),"focus-trap#tab-lock"),g=gp(),m=E.useRef(!1),w={ref:n,onKeyDown(b){b.key=="Tab"&&(m.current=!0,g.requestAnimationFrame(()=>{m.current=!1}))},onBlur(b){if(!(a&4))return;let v=_X(o);_o(r.current)&&v.add(r.current);let C=b.relatedTarget;Zl(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(CX(v,C)||(m.current?ig(r.current,fl(h.current,{[K1.Forwards]:()=>Ya.Next,[K1.Backwards]:()=>Ya.Previous})|Ya.WrapAround,{relativeTo:b.target}):Zl(b.target)&&oc(b.target)))}},y=In();return Oe.createElement(Oe.Fragment,null,p&&Oe.createElement(vA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:W5.Focusable}),y({ourProps:w,theirProps:l,defaultTag:V$e,name:"FocusTrap"}),p&&Oe.createElement(vA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:W5.Focusable}))}let K$e=an(G$e),Y$e=Object.assign(K$e,{features:Gh});function Q$e(t=!0){let e=E.useRef(_d.slice());return hT(([r],[n])=>{n===!0&&r===!1&&ox(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=_d.slice())},[t,_d,e]),wt(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Z$e(t,{ownerDocument:e}){let r=!!(t&8),n=Q$e(r);hT(()=>{r||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&oc(n())},[r]),yT(()=>{r&&oc(n())})}function J$e(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=E.useRef(null),o=Qv(!!(t&1),"focus-trap#initial-focus"),a=wT();return hT(()=>{if(t===0)return;if(!o){i!=null&&i.current&&oc(i.current);return}let l=r.current;l&&ox(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(n!=null&&n.current)oc(n.current);else{if(t&16){if(ig(l,Ya.First|Ya.AutoFocus)!==xA.Error)return}else if(ig(l,Ya.First)!==xA.Error)return;if(i!=null&&i.current&&(oc(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function X$e(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=wT(),o=!!(t&4);GJ(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=_X(n);_o(r.current)&&l.add(r.current);let c=i.current;if(!c)return;let u=a.target;_o(u)?CX(l,u)?(i.current=u,oc(u)):(a.preventDefault(),a.stopPropagation(),oc(c)):oc(i.current)},!0)}function CX(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function AX(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Ey((e=t.as)!=null?e:SX)||Oe.Children.count(t.children)===1}let mx=E.createContext(null);mx.displayName="TransitionContext";var eIe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(eIe||{});function tIe(){let t=E.useContext(mx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function rIe(){let t=E.useContext(yx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let yx=E.createContext(null);yx.displayName="NestingContext";function wx(t){return"children"in t?wx(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function kX(t,e){let r=mp(t),n=E.useRef([]),i=wT(),s=gp(),o=wt((p,g=Ld.Hidden)=>{let m=n.current.findIndex(({el:w})=>w===p);m!==-1&&(fl(g,{[Ld.Unmount](){n.current.splice(m,1)},[Ld.Hidden](){n.current[m].state="hidden"}}),s.microTask(()=>{var w;!wx(n)&&i.current&&((w=r.current)==null||w.call(r))}))}),a=wt(p=>{let g=n.current.find(({el:m})=>m===p);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,Ld.Unmount)}),l=E.useRef([]),c=E.useRef(Promise.resolve()),u=E.useRef({enter:[],leave:[]}),h=wt((p,g,m)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([w])=>w!==p)),e==null||e.chains.current[g].push([p,new Promise(w=>{l.current.push(w)})]),e==null||e.chains.current[g].push([p,new Promise(w=>{Promise.all(u.current[g].map(([y,b])=>b)).then(()=>w())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),f=wt((p,g,m)=>{Promise.all(u.current[g].splice(0).map(([w,y])=>y)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>m(g))});return E.useMemo(()=>({children:n,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,n,h,f,u,c])}let SX=E.Fragment,$X=qg.RenderStrategy;function nIe(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:g,leaveTo:m,...w}=t,[y,b]=E.useState(null),v=E.useRef(null),C=AX(t),x=vs(...C?[v,e,b]:e===null?[]:[e]),I=(r=w.unmount)==null||r?Ld.Unmount:Ld.Hidden,{show:$,appear:R,initial:T}=tIe(),[L,U]=E.useState($?"visible":"hidden"),W=rIe(),{register:M,unregister:A}=W;Wr(()=>M(v),[M,v]),Wr(()=>{if(I===Ld.Hidden&&v.current){if($&&L!=="visible"){U("visible");return}return fl(L,{hidden:()=>A(v),visible:()=>M(v)})}},[L,v,M,A,$,I]);let _=gx();Wr(()=>{if(C&&_&&L==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,L,_,C]);let S=T&&!R,O=R&&$&&T,P=E.useRef(!1),N=kX(()=>{P.current||(U("hidden"),A(v))},W),D=wt(Q=>{P.current=!0;let K=Q?"enter":"leave";N.onStart(v,K,re=>{re==="enter"?s==null||s():re==="leave"&&(a==null||a())})}),F=wt(Q=>{let K=Q?"enter":"leave";P.current=!1,N.onStop(v,K,re=>{re==="enter"?o==null||o():re==="leave"&&(l==null||l())}),K==="leave"&&!wx(N)&&(U("hidden"),A(v))});E.useEffect(()=>{C&&i||(D($),F($))},[$,C,i]);let k=!(!i||!C||!_||S),[,z]=QJ(k,y,$,{start:D,end:F}),V=Uh({ref:x,className:((n=wA(w.className,O&&c,O&&u,z.enter&&c,z.enter&&z.closed&&u,z.enter&&!z.closed&&h,z.leave&&p,z.leave&&!z.closed&&g,z.leave&&z.closed&&m,!z.transition&&$&&f))==null?void 0:n.trim())||void 0,...YJ(z)}),j=0;L==="visible"&&(j|=cs.Open),L==="hidden"&&(j|=cs.Closed),$&&L==="hidden"&&(j|=cs.Opening),!$&&L==="visible"&&(j|=cs.Closing);let G=In();return Oe.createElement(yx.Provider,{value:N},Oe.createElement(fX,{value:j},G({ourProps:V,theirProps:w,defaultTag:SX,features:$X,visible:L==="visible",name:"Transition.Child"})))}function iIe(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=E.useRef(null),a=AX(t),l=vs(...a?[o,e]:e===null?[]:[e]);gx();let c=Xv();if(r===void 0&&c!==null&&(r=(c&cs.Open)===cs.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=E.useState(r?"visible":"hidden"),f=kX(()=>{r||h("hidden")}),[p,g]=E.useState(!0),m=E.useRef([r]);Wr(()=>{p!==!1&&m.current[m.current.length-1]!==r&&(m.current.push(r),g(!1))},[m,r]);let w=E.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);Wr(()=>{r?h("visible"):!wx(f)&&o.current!==null&&h("hidden")},[r,f]);let y={unmount:i},b=wt(()=>{var x;p&&g(!1),(x=t.beforeEnter)==null||x.call(t)}),v=wt(()=>{var x;p&&g(!1),(x=t.beforeLeave)==null||x.call(t)}),C=In();return Oe.createElement(yx.Provider,{value:f},Oe.createElement(mx.Provider,{value:w},C({ourProps:{...y,as:E.Fragment,children:Oe.createElement(IX,{ref:l,...y,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:E.Fragment,features:$X,visible:u==="visible",name:"Transition"})))}function sIe(t,e){let r=E.useContext(mx)!==null,n=Xv()!==null;return Oe.createElement(Oe.Fragment,null,!r&&n?Oe.createElement(kA,{ref:e,...t}):Oe.createElement(IX,{ref:e,...t}))}let kA=an(iIe),IX=an(nIe),Jw=an(sIe),TX=Object.assign(kA,{Child:Jw,Root:kA});var oIe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(oIe||{}),aIe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(aIe||{});let lIe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},vT=E.createContext(null);vT.displayName="DialogContext";function vx(t){let e=E.useContext(vT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,vx),r}return e}function cIe(t,e){return fl(e.type,lIe,t,e)}let MD=an(function(t,e){let r=E.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=E.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Xv();i===void 0&&p!==null&&(i=(p&cs.Open)===cs.Open);let g=E.useRef(null),m=vs(g,e),w=Vg(g),y=i?0:1,[b,v]=E.useReducer(cIe,{titleId:null,descriptionId:null,panelRef:E.createRef()}),C=wt(()=>s(!1)),x=wt(z=>v({type:0,id:z})),I=gx()?y===0:!1,[$,R]=L$e(),T={get current(){var z;return(z=b.panelRef.current)!=null?z:g.current}},L=EX(),{resolveContainers:U}=W$e({mainTreeNode:L,portals:$,defaultContainers:[T]}),W=p!==null?(p&cs.Closing)===cs.Closing:!1;FJ(c||W?!1:I,{allowed:wt(()=>{var z,V;return[(V=(z=g.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:wt(()=>{var z;return[(z=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let M=lx.get(null);Wr(()=>{if(I)return M.actions.push(n),()=>M.actions.pop(n)},[M,n,I]);let A=ta(M,E.useCallback(z=>M.selectors.isTop(z,n),[M,n]));VJ(A,U,z=>{z.preventDefault(),C()}),B$e(A,w==null?void 0:w.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),KJ(c||W?!1:I,w,U),UJ(I,g,C);let[_,S]=$J(),O=E.useMemo(()=>[{dialogState:y,close:C,setTitleId:x,unmount:u},b],[y,C,x,u,b]),P=_c({open:y===0}),N={ref:m,id:n,role:a,tabIndex:-1,"aria-modal":c?void 0:y===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":_,unmount:u},D=!z$e(),F=Gh.None;I&&!c&&(F|=Gh.RestoreFocus,F|=Gh.TabLock,l&&(F|=Gh.AutoFocus),D&&(F|=Gh.InitialFocus));let k=In();return Oe.createElement(I$e,null,Oe.createElement(ND,{force:!0},Oe.createElement(vX,null,Oe.createElement(vT.Provider,{value:O},Oe.createElement(wX,{target:g},Oe.createElement(ND,{force:!1},Oe.createElement(S,{slot:P},Oe.createElement(R,null,Oe.createElement(Y$e,{initialFocus:o,initialFocusFallback:g,containers:U,features:F},Oe.createElement(XAe,{value:C},k({ourProps:N,theirProps:h,slot:P,defaultTag:uIe,features:dIe,visible:y===0,name:"Dialog"})))))))))))}),uIe="div",dIe=qg.RenderStrategy|qg.Static;function hIe(t,e){let{transition:r=!1,open:n,...i}=t,s=Xv(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?Oe.createElement(OD,null,Oe.createElement(TX,{show:n,transition:r,unmount:i.unmount},Oe.createElement(MD,{ref:e,...i}))):Oe.createElement(OD,null,Oe.createElement(MD,{ref:e,open:n,...i}))}let fIe="div";function pIe(t,e){let r=E.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=vx("Dialog.Panel"),c=vs(e,l.panelRef),u=_c({open:o===0}),h=wt(w=>{w.stopPropagation()}),f={ref:c,id:n,onClick:h},p=i?Jw:E.Fragment,g=i?{unmount:a}:{},m=In();return Oe.createElement(p,{...g},m({ourProps:f,theirProps:s,slot:u,defaultTag:fIe,name:"Dialog.Panel"}))}let gIe="div";function mIe(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=vx("Dialog.Backdrop"),o=_c({open:i===0}),a={ref:e,"aria-hidden":!0},l=r?Jw:E.Fragment,c=r?{unmount:s}:{},u=In();return Oe.createElement(l,{...c},u({ourProps:a,theirProps:n,slot:o,defaultTag:gIe,name:"Dialog.Backdrop"}))}let yIe="h2";function wIe(t,e){let r=E.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=vx("Dialog.Title"),a=vs(e);E.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=_c({open:s===0}),c={ref:a,id:n};return In()({ourProps:c,theirProps:i,slot:l,defaultTag:yIe,name:"Dialog.Title"})}let vIe=an(hIe),PX=an(pIe);an(mIe);let bIe=an(wIe),xIe=Object.assign(vIe,{Panel:PX,Title:bIe,Description:GAe}),RD=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function jD(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!_o(i))return n;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(r=i.innerText)!=null?r:"":n;return RD.test(o)&&(o=o.replace(RD,"")),o}function EIe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():jD(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return jD(t).trim()}function _Ie(t){let e=E.useRef(""),r=E.useRef("");return wt(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=EIe(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var CIe=Object.defineProperty,AIe=(t,e,r)=>e in t?CIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DD=(t,e,r)=>(AIe(t,typeof e!="symbol"?e+"":e,r),r),Li=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Li||{}),K5=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(K5||{}),Cr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Cr||{});function LD(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=WJ(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let kIe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?C3.Tracked(bX(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Cn.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:C3.Idle}},2:(t,e)=>{var r,n,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===Cn.Nothing)return{...a,activeItemIndex:null};if(e.focus===Cn.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Cn.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=pb(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===Cn.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=pb(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=LD(t),c=pb(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==Cn.Nothing&&(n=pb(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:Cn.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,o]of r.entries())if(i.has(o.id)&&(n.push(s),i.delete(o.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...LD(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:C3.Moved}}},SIe=class NX extends OJ{constructor(e){super(e),DD(this,"actions",{registerItem:oD(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:oD(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),DD(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,o=r.items;return s!==null?((i=o[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=lx.get(null);this.disposables.add(n.on(RJ.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(U$e(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new NX({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Cn.Nothing},buttonPositionState:C3.Idle})}reduce(e,r){return fl(r.type,kIe,e,r)}};const OX=E.createContext(null);function bT(t){let e=E.useContext(OX);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,MX),r}return e}function MX({id:t,__demoMode:e=!1}){let r=E.useMemo(()=>SIe.new({id:t,__demoMode:e}),[]);return yT(()=>r.dispose()),r}let $Ie=E.Fragment;function IIe(t,e){let r=E.useId(),{__demoMode:n=!1,...i}=t,s=MX({id:r,__demoMode:n}),[o,a,l]=ta(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),c=vs(e),u=lx.get(null),h=ta(u,E.useCallback(w=>u.selectors.isTop(w,r),[u,r]));VJ(h,[l,a],(w,y)=>{var b;s.send({type:Cr.CloseMenu}),dT(y,uT.Loose)||(w.preventDefault(),(b=s.state.buttonElement)==null||b.focus())});let f=wt(()=>{s.send({type:Cr.CloseMenu})}),p=_c({open:o===Li.Open,close:f}),g={ref:c},m=In();return Oe.createElement(k$e,null,Oe.createElement(OX.Provider,{value:s},Oe.createElement(fX,{value:fl(o,{[Li.Open]:cs.Open,[Li.Closed]:cs.Closed})},m({ourProps:g,theirProps:i,slot:p,defaultTag:$Ie,name:"Menu"}))))}let TIe="button";function PIe(t,e){let r=bT("Menu.Button"),n=E.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=E.useRef(null),c=_$e(),u=vs(e,l,E$e(),wt(M=>r.send({type:Cr.SetButtonElement,element:M}))),h=wt(M=>{switch(M.key){case Vn.Space:case Vn.Enter:case Vn.ArrowDown:M.preventDefault(),M.stopPropagation(),r.send({type:Cr.OpenMenu,focus:{focus:Cn.First}});break;case Vn.ArrowUp:M.preventDefault(),M.stopPropagation(),r.send({type:Cr.OpenMenu,focus:{focus:Cn.Last}});break}}),f=wt(M=>{switch(M.key){case Vn.Space:M.preventDefault();break}}),[p,g,m]=ta(r,M=>[M.menuState,M.buttonElement,M.itemsElement]),w=p===Li.Open;Fke(w,{trigger:g,action:E.useCallback(M=>{if(g!=null&&g.contains(M.target))return hb.Ignore;let A=M.target.closest('[role="menuitem"]:not([data-disabled])');return _o(A)?hb.Select(A):m!=null&&m.contains(M.target)?hb.Ignore:hb.Close},[g,m]),close:E.useCallback(()=>r.send({type:Cr.CloseMenu}),[]),select:E.useCallback(M=>M.click(),[])});let y=wt(M=>{var A;if(M.button===pX.Left){if(BAe(M.currentTarget))return M.preventDefault();s||(p===Li.Open?(hc.flushSync(()=>r.send({type:Cr.CloseMenu})),(A=l.current)==null||A.focus({preventScroll:!0})):(M.preventDefault(),r.send({type:Cr.OpenMenu,focus:{focus:Cn.Nothing},trigger:K5.Pointer})))}}),b=E.useRef(null),v=wt(M=>{b.current=M.pointerType,M.pointerType==="mouse"&&y(M)}),C=wt(M=>{b.current!=="mouse"&&y(M)}),{isFocusVisible:x,focusProps:I}=bAe({autoFocus:o}),{isHovered:$,hoverProps:R}=vAe({isDisabled:s}),{pressed:T,pressProps:L}=kAe({disabled:s}),U=_c({open:p===Li.Open,active:T||p===Li.Open,disabled:s,hover:$,focus:x,autofocus:o}),W=EJ(c(),{ref:u,id:i,type:Uke(t,l.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":p===Li.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f,onPointerDown:v,onClick:C},I,R,L);return In()({ourProps:W,theirProps:a,slot:U,defaultTag:TIe,name:"Menu.Button"})}let NIe="div",OIe=qg.RenderStrategy|qg.Static;function MIe(t,e){let r=E.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=x$e(i),u=bT("Menu.Items"),[h,f]=A$e(c),p=C$e(),[g,m]=E.useState(null),w=vs(e,c?h:null,wt(P=>u.send({type:Cr.SetItemsElement,element:P})),m),[y,b]=ta(u,P=>[P.menuState,P.buttonElement]),v=Vg(b),C=Vg(g);c&&(s=!0);let x=Xv(),[I,$]=QJ(a,g,x!==null?(x&cs.Open)===cs.Open:y===Li.Open);UJ(I,b,()=>{u.send({type:Cr.CloseMenu})});let R=ta(u,P=>P.__demoMode),T=R?!1:o&&y===Li.Open;KJ(T,C);let L=R?!1:o&&y===Li.Open;FJ(L,{allowed:E.useCallback(()=>[b,g],[b,g])});let U=ta(u,u.selectors.didButtonMove)?!1:I;E.useEffect(()=>{let P=g;P&&y===Li.Open&&P!==(C==null?void 0:C.activeElement)&&P.focus({preventScroll:!0})},[y,g,C]),tSe(y===Li.Open,{container:g,accept(P){return P.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:P.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(P){P.setAttribute("role","none")}});let W=gp(),M=wt(P=>{var N,D,F;switch(W.dispose(),P.key){case Vn.Space:if(u.state.searchQuery!=="")return P.preventDefault(),P.stopPropagation(),u.send({type:Cr.Search,value:P.key});case Vn.Enter:if(P.preventDefault(),P.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:k}=u.state.items[u.state.activeItemIndex];(D=(N=k.current)==null?void 0:N.domRef.current)==null||D.click()}u.send({type:Cr.CloseMenu}),zJ(u.state.buttonElement);break;case Vn.ArrowDown:return P.preventDefault(),P.stopPropagation(),u.send({type:Cr.GoToItem,focus:Cn.Next});case Vn.ArrowUp:return P.preventDefault(),P.stopPropagation(),u.send({type:Cr.GoToItem,focus:Cn.Previous});case Vn.Home:case Vn.PageUp:return P.preventDefault(),P.stopPropagation(),u.send({type:Cr.GoToItem,focus:Cn.First});case Vn.End:case Vn.PageDown:return P.preventDefault(),P.stopPropagation(),u.send({type:Cr.GoToItem,focus:Cn.Last});case Vn.Escape:P.preventDefault(),P.stopPropagation(),hc.flushSync(()=>u.send({type:Cr.CloseMenu})),(F=u.state.buttonElement)==null||F.focus({preventScroll:!0});break;case Vn.Tab:P.preventDefault(),P.stopPropagation(),hc.flushSync(()=>u.send({type:Cr.CloseMenu})),Rke(u.state.buttonElement,P.shiftKey?Ya.Previous:Ya.Next);break;default:P.key.length===1&&(u.send({type:Cr.Search,value:P.key}),W.setTimeout(()=>u.send({type:Cr.ClearSearch}),350));break}}),A=wt(P=>{switch(P.key){case Vn.Space:P.preventDefault();break}}),_=_c({open:y===Li.Open}),S=EJ(c?p():{},{"aria-activedescendant":ta(u,u.selectors.activeDescendantId),"aria-labelledby":ta(u,P=>{var N;return(N=P.buttonElement)==null?void 0:N.id}),id:n,onKeyDown:M,onKeyUp:A,role:"menu",tabIndex:y===Li.Open?0:void 0,ref:w,style:{...l.style,...f,"--button-width":hke(I,b,!0).width},...YJ($)}),O=In();return Oe.createElement(vX,{enabled:s?t.static||I:!1,ownerDocument:v},O({ourProps:S,theirProps:l,slot:_,defaultTag:NIe,features:OIe,visible:U,name:"Menu.Items"}))}let RIe=E.Fragment;function jIe(t,e){let r=E.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,o=bT("Menu.Item"),a=ta(o,U=>o.selectors.isActive(U,n)),l=E.useRef(null),c=vs(e,l),u=ta(o,U=>o.selectors.shouldScrollIntoView(U,n));Wr(()=>{if(u)return Zs().requestAnimationFrame(()=>{var U,W;(W=(U=l.current)==null?void 0:U.scrollIntoView)==null||W.call(U,{block:"nearest"})})},[u,l]);let h=_Ie(l),f=E.useRef({disabled:i,domRef:l,get textValue(){return h()}});Wr(()=>{f.current.disabled=i},[f,i]),Wr(()=>(o.actions.registerItem(n,f),()=>o.actions.unregisterItem(n)),[f,n]);let p=wt(()=>{o.send({type:Cr.CloseMenu})}),g=wt(U=>{if(i)return U.preventDefault();o.send({type:Cr.CloseMenu}),zJ(o.state.buttonElement)}),m=wt(()=>{if(i)return o.send({type:Cr.GoToItem,focus:Cn.Nothing});o.send({type:Cr.GoToItem,focus:Cn.Specific,id:n})}),w=Kke(),y=wt(U=>w.update(U)),b=wt(U=>{w.wasMoved(U)&&(i||a||o.send({type:Cr.GoToItem,focus:Cn.Specific,id:n,trigger:K5.Pointer}))}),v=wt(U=>{w.wasMoved(U)&&(i||a&&o.state.activationTrigger===K5.Pointer&&o.send({type:Cr.GoToItem,focus:Cn.Nothing}))}),[C,x]=IJ(),[I,$]=$J(),R=_c({active:a,focus:a,disabled:i,close:p}),T={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":C,"aria-describedby":I,disabled:void 0,onClick:g,onFocus:m,onPointerEnter:y,onMouseEnter:y,onPointerMove:b,onMouseMove:b,onPointerLeave:v,onMouseLeave:v},L=In();return Oe.createElement(x,null,Oe.createElement($,null,L({ourProps:T,theirProps:s,slot:R,defaultTag:RIe,name:"Menu.Item"})))}let DIe="div";function LIe(t,e){let[r,n]=IJ(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},o=In();return Oe.createElement(n,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:DIe,name:"Menu.Section"}))}let FIe="header";function UIe(t,e){let r=E.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=cT();Wr(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return In()({ourProps:o,theirProps:i,slot:{},defaultTag:FIe,name:"Menu.Heading"})}let BIe="div";function zIe(t,e){let r=t,n={ref:e,role:"separator"};return In()({ourProps:n,theirProps:r,slot:{},defaultTag:BIe,name:"Menu.Separator"})}let WIe=an(IIe),RX=an(PIe),jX=an(MIe),DX=an(jIe),HIe=an(LIe),qIe=an(UIe),VIe=an(zIe),GIe=Object.assign(WIe,{Button:RX,Items:jX,Item:DX,Section:HIe,Heading:qIe,Separator:VIe});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KIe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LX=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YIe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QIe=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...YIe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:LX("lucide",i),...a},[...o.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=(t,e)=>{const r=E.forwardRef(({className:n,...i},s)=>E.createElement(QIe,{ref:s,iconNode:e,className:LX(`lucide-${KIe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZIe=ln("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JIe=ln("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ln("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=ln("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ln("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XIe=ln("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eTe=ln("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ln("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tTe=ln("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ln("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=ln("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rTe=ln("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ln("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ln("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ln("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nTe=ln("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=ln("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iTe=ln("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sTe=ln("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ln("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oTe=ln("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aTe=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var _T={exports:{}},og=typeof Reflect=="object"?Reflect:null,FD=og&&typeof og.apply=="function"?og.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},A3;og&&typeof og.ownKeys=="function"?A3=og.ownKeys:Object.getOwnPropertySymbols?A3=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:A3=function(e){return Object.getOwnPropertyNames(e)};function lTe(t){console&&console.warn&&console.warn(t)}var BX=Number.isNaN||function(e){return e!==e};function Er(){Er.init.call(this)}_T.exports=Er;_T.exports.once=hTe;Er.EventEmitter=Er;Er.prototype._events=void 0;Er.prototype._eventsCount=0;Er.prototype._maxListeners=void 0;var UD=10;function xx(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Er,"defaultMaxListeners",{enumerable:!0,get:function(){return UD},set:function(t){if(typeof t!="number"||t<0||BX(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");UD=t}});Er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Er.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||BX(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function zX(t){return t._maxListeners===void 0?Er.defaultMaxListeners:t._maxListeners}Er.prototype.getMaxListeners=function(){return zX(this)};Er.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")FD(l,this,r);else for(var c=l.length,u=GX(l,c),n=0;n<c;++n)FD(u[n],this,r);return!0};function WX(t,e,r,n){var i,s,o;if(xx(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=zX(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,lTe(a)}return t}Er.prototype.addListener=function(e,r){return WX(this,e,r,!1)};Er.prototype.on=Er.prototype.addListener;Er.prototype.prependListener=function(e,r){return WX(this,e,r,!0)};function cTe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HX(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=cTe.bind(n);return i.listener=r,n.wrapFn=i,i}Er.prototype.once=function(e,r){return xx(r),this.on(e,HX(this,e,r)),this};Er.prototype.prependOnceListener=function(e,r){return xx(r),this.prependListener(e,HX(this,e,r)),this};Er.prototype.removeListener=function(e,r){var n,i,s,o,a;if(xx(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():uTe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Er.prototype.off=Er.prototype.removeListener;Er.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function qX(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?dTe(i):GX(i,i.length)}Er.prototype.listeners=function(e){return qX(this,e,!0)};Er.prototype.rawListeners=function(e){return qX(this,e,!1)};Er.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):VX.call(t,e)};Er.prototype.listenerCount=VX;function VX(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Er.prototype.eventNames=function(){return this._eventsCount>0?A3(this._events):[]};function GX(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function uTe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function dTe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function hTe(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}KX(t,e,s,{once:!0}),e!=="error"&&fTe(t,i,{once:!0})})}function fTe(t,e,r){typeof t.on=="function"&&KX(t,"error",e,r)}function KX(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var No=_T.exports;const CT=ko(No);var BD=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},pTe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),gTe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),mTe=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),yTe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),wTe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),vTe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,bTe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zD=3,xTe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vTe]],WD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ETe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wTe:typeof navigator<"u"?CTe(navigator.userAgent):kTe()}function _Te(t){return t!==""&&xTe.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function CTe(t){var e=_Te(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new yTe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<zD&&(i=BD(BD([],i,!0),STe(zD-i.length),!0)):i=[];var s=i.join("."),o=ATe(t),a=bTe.exec(t);return a&&a[1]?new mTe(r,s,o,a[1]):new pTe(r,s,o)}function ATe(t){for(var e=0,r=WD.length;e<r;e++){var n=WD[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function kTe(){var t=typeof process<"u"&&process.version;return t?new gTe(process.version.slice(1)):null}function STe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Me={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $A=function(t,e){return $A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$A(t,e)};function $Te(t,e){$A(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IA=function(){return IA=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},IA.apply(this,arguments)};function ITe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function TTe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function PTe(t,e){return function(r,n){e(r,n,t)}}function NTe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function OTe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function MTe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function RTe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function jTe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function TA(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function YX(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function DTe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(YX(arguments[e]));return t}function LTe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ev(t){return this instanceof ev?(this.v=t,this):new ev(t)}function FTe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(g){h(s[0][3],g)}}function l(f){f.value instanceof ev?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function UTe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ev(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function BTe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof TA=="function"?TA(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function zTe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function WTe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function HTe(t){return t&&t.__esModule?t:{default:t}}function qTe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function VTe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const GTe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return IA},__asyncDelegator:UTe,__asyncGenerator:FTe,__asyncValues:BTe,__await:ev,__awaiter:OTe,__classPrivateFieldGet:qTe,__classPrivateFieldSet:VTe,__createBinding:RTe,__decorate:TTe,__exportStar:jTe,__extends:$Te,__generator:MTe,__importDefault:HTe,__importStar:WTe,__makeTemplateObject:zTe,__metadata:NTe,__param:PTe,__read:YX,__rest:ITe,__spread:DTe,__spreadArrays:LTe,__values:TA},Symbol.toStringTag,{value:"Module"})),Ex=M6(GTe);var yE={},u1={},HD;function KTe(){if(HD)return u1;HD=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return u1.delay=t,u1}var Mh={},wE={},Rh={},qD;function YTe(){return qD||(qD=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.ONE_THOUSAND=Rh.ONE_HUNDRED=void 0,Rh.ONE_HUNDRED=100,Rh.ONE_THOUSAND=1e3),Rh}var vE={},VD;function QTe(){return VD||(VD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(vE)),vE}var GD;function QX(){return GD||(GD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ex;e.__exportStar(YTe(),t),e.__exportStar(QTe(),t)}(wE)),wE}var KD;function ZTe(){if(KD)return Mh;KD=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.fromMiliseconds=Mh.toMiliseconds=void 0;const t=QX();function e(n){return n*t.ONE_THOUSAND}Mh.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Mh.fromMiliseconds=r,Mh}var YD;function JTe(){return YD||(YD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ex;e.__exportStar(KTe(),t),e.__exportStar(ZTe(),t)}(yE)),yE}var Bp={},QD;function XTe(){if(QD)return Bp;QD=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Bp.Watch=t,Bp.default=t,Bp}var bE={},d1={},ZD;function ePe(){if(ZD)return d1;ZD=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.IWatch=void 0;class t{}return d1.IWatch=t,d1}var JD;function tPe(){return JD||(JD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Ex.__exportStar(ePe(),t)}(bE)),bE}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ex;e.__exportStar(JTe(),t),e.__exportStar(XTe(),t),e.__exportStar(tPe(),t),e.__exportStar(QX(),t)})(Me);var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getLocalStorage=Ir.getLocalStorageOrThrow=Ir.getCrypto=Ir.getCryptoOrThrow=ZX=Ir.getLocation=Ir.getLocationOrThrow=AT=Ir.getNavigator=Ir.getNavigatorOrThrow=Yf=Ir.getDocument=Ir.getDocumentOrThrow=Ir.getFromWindowOrThrow=Ir.getFromWindow=void 0;function yp(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Ir.getFromWindow=yp;function $m(t){const e=yp(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Ir.getFromWindowOrThrow=$m;function rPe(){return $m("document")}Ir.getDocumentOrThrow=rPe;function nPe(){return yp("document")}var Yf=Ir.getDocument=nPe;function iPe(){return $m("navigator")}Ir.getNavigatorOrThrow=iPe;function sPe(){return yp("navigator")}var AT=Ir.getNavigator=sPe;function oPe(){return $m("location")}Ir.getLocationOrThrow=oPe;function aPe(){return yp("location")}var ZX=Ir.getLocation=aPe;function lPe(){return $m("crypto")}Ir.getCryptoOrThrow=lPe;function cPe(){return yp("crypto")}Ir.getCrypto=cPe;function uPe(){return $m("localStorage")}Ir.getLocalStorageOrThrow=uPe;function dPe(){return yp("localStorage")}Ir.getLocalStorage=dPe;var kT={};Object.defineProperty(kT,"__esModule",{value:!0});var JX=kT.getWindowMetadata=void 0;const XD=Ir;function hPe(){let t,e;try{t=XD.getDocumentOrThrow(),e=XD.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const g=h[p],m=g.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const w=g.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");y+=v+"/"+w}f.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;f.push(y)}else f.push(w)}}return f}function n(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const g=f[p],m=["itemprop","property","name"].map(w=>g.getAttribute(w)).filter(w=>w?h.includes(w):!1);if(m.length&&m){const w=g.getAttribute("content");if(w)return w}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=r();return{description:a,url:l,icons:c,name:o}}JX=kT.getWindowMetadata=hPe;function tv(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function PA(t){return tv(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const XX="2.31.0";let h1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${XX}`},_x=class NA extends Error{constructor(e,r={}){var a;const n=(()=>{var l;return r.cause instanceof NA?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof NA&&r.cause.docsPath||r.docsPath,s=(a=h1.getDocsUrl)==null?void 0:a.call(h1,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...h1.version?[`Version: ${h1.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=XX}walk(e){return eee(this,e)}};function eee(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?eee(t.cause,e):e?null:t}class tee extends _x{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Im(t,{dir:e,size:r=32}={}){return typeof t=="string"?fPe(t,{dir:e,size:r}):pPe(t,{dir:e,size:r})}function fPe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new tee({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function pPe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new tee({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class gPe extends _x{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class mPe extends _x{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Tm(t,{size:e}){if(PA(t)>e)throw new mPe({givenSize:PA(t),maxSize:e})}function OA(t,e={}){const{signed:r}=e;e.size&&Tm(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function yPe(t,e={}){return Number(OA(t,e))}const wPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function MA(t,e={}){return typeof t=="number"||typeof t=="bigint"?nee(t,e):typeof t=="string"?xPe(t,e):typeof t=="boolean"?vPe(t,e):ree(t,e)}function vPe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Tm(r,{size:e.size}),Im(r,{size:e.size})):r}function ree(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=wPe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Tm(n,{size:e.size}),Im(n,{dir:"right",size:e.size})):n}function nee(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new gPe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Im(a,{size:n}):a}const bPe=new TextEncoder;function xPe(t,e={}){const r=bPe.encode(t);return ree(r,e)}const EPe=new TextEncoder;function _Pe(t,e={}){return typeof t=="number"||typeof t=="bigint"?APe(t,e):typeof t=="boolean"?CPe(t,e):tv(t)?iee(t,e):see(t,e)}function CPe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Tm(r,{size:e.size}),Im(r,{size:e.size})):r}const Nc={zero:48,nine:57,A:65,F:70,a:97,f:102};function eL(t){if(t>=Nc.zero&&t<=Nc.nine)return t-Nc.zero;if(t>=Nc.A&&t<=Nc.F)return t-(Nc.A-10);if(t>=Nc.a&&t<=Nc.f)return t-(Nc.a-10)}function iee(t,e={}){let r=t;e.size&&(Tm(r,{size:e.size}),r=Im(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=eL(n.charCodeAt(a++)),c=eL(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new _x(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function APe(t,e){const r=nee(t,e);return iee(r)}function see(t,e={}){const r=EPe.encode(t);return typeof e.size=="number"?(Tm(r,{size:e.size}),Im(r,{dir:"right",size:e.size})):r}function oee(t,e){const r=e||"hex",n=e4(tv(t,{strict:!1})?_Pe(t):t);return r==="bytes"?n:MA(n)}class kPe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const xE=new kPe(8192);function SPe(t,e){if(xE.has(`${t}.${e}`))return xE.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=oee(see(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return xE.set(`${t}.${e}`,s),s}function $Pe(t){const e=oee(`0x${t.substring(4)}`).substring(26);return SPe(`0x${e}`)}async function IPe({hash:t,signature:e}){const r=tv(t)?t:MA(t),{secp256k1:n}=await tc(async()=>{const{secp256k1:o}=await import("./secp256k1-KV9XMFth.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),g=tL(p);return new n.Signature(OA(c),OA(u)).addRecoveryBit(g)}const o=tv(e)?e:MA(e);if(PA(o)!==65)throw new Error("invalid signature length");const a=yPe(`0x${o.slice(130)}`),l=tL(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function tL(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function TPe({hash:t,signature:e}){return $Pe(await IPe({hash:t,signature:e}))}function PPe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const g=(p-f)*s+1>>>0,m=new Uint8Array(g);for(;f!==p;){let b=c[f],v=0;for(let C=g-1;(b!==0||v<h)&&C!==-1;C--,v++)b+=256*m[C]>>>0,m[C]=b%r>>>0,b=b/r>>>0;if(b!==0)throw new Error("Non-zero carry");h=v,f++}let w=g-h;for(;w!==g&&m[w]===0;)w++;let y=n.repeat(u);for(;w<g;++w)y+=t.charAt(m[w]);return y}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===n;)h++,u++;const p=(c.length-u)*i+1>>>0,g=new Uint8Array(p);for(;u<c.length;){const b=c.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let C=0;for(let x=p-1;(v!==0||C<f)&&x!==-1;x--,C++)v+=r*g[x]>>>0,g[x]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");f=C,u++}let m=p-f;for(;m!==p&&g[m]===0;)m++;const w=new Uint8Array(h+(p-m));let y=h;for(;m!==p;)w[y++]=g[m++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var NPe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const t2=PPe(NPe);function OPe(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}function MPe(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const RPe=new TextEncoder,jPe=50;function DPe(t,e,r){RPe.encodeInto(t,e.subarray(r))}function LPe(t,e,r){t.length>jPe?DPe(t,e,r):MPe(t,e,r)}const FPe=4096;function aee(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[n++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[n++]&63,c=t[n++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[n++]&63,c=t[n++]&63,u=t[n++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=FPe&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const UPe=new TextDecoder,BPe=200;function zPe(t,e,r){const n=t.subarray(e,e+r);return UPe.decode(n)}function WPe(t,e,r){return r>BPe?zPe(t,e,r):aee(t,e,r)}class gb{constructor(e,r){this.type=e,this.data=r}}class lo extends Error{constructor(e){super(e);const r=Object.create(lo.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:lo.name})}}const f1=4294967295;function HPe(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function lee(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function cee(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function qPe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const VPe=-1,GPe=4294967296-1,KPe=17179869184-1;function YPe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=KPe)if(e===0&&t<=GPe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),lee(n,4,t),r}}function QPe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function ZPe(t){if(t instanceof Date){const e=QPe(t);return YPe(e)}else return null}function JPe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=cee(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new lo(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function XPe(t){const e=JPe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const eNe={type:VPe,encode:ZPe,decode:XPe};class Z5{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(eNe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new gb(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new gb(o,s)}}}return e instanceof gb?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new gb(r,e)}}Z5.defaultCodec=new Z5;function tNe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function RA(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):tNe(t)?new Uint8Array(t):Uint8Array.from(t)}const rNe=100,nNe=2048;let iNe=class uee{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Z5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??rNe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??nNe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new uee({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=OPe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),LPe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=RA(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),HPe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),lee(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function sNe(t,e){return new iNe(e).encodeSharedRef(t)}function EE(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const oNe=16,aNe=16;class lNe{constructor(e=oNe,r=aNe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=aee(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const jA="array",Cy="map_key",dee="map_value",cNe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new lo("The type of key must be string or number but "+typeof t)};class uNe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=jA,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Cy,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===jA){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Cy||e.type===dee){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const p1=-1,ST=new DataView(new ArrayBuffer(0)),dNe=new Uint8Array(ST.buffer);try{ST.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const rL=new RangeError("Insufficient data"),hNe=new lNe;let fNe=class hee{constructor(e){this.totalPos=0,this.pos=0,this.view=ST,this.bytes=dNe,this.headByte=p1,this.stack=new uNe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Z5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??f1,this.maxBinLength=(e==null?void 0:e.maxBinLength)??f1,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??f1,this.maxMapLength=(e==null?void 0:e.maxMapLength)??f1,this.maxExtLength=(e==null?void 0:e.maxExtLength)??f1,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:hNe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??cNe}clone(){return new hee({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=p1,this.stack.reset()}setBuffer(e){const r=RA(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===p1&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=RA(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${EE(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new lo(`Unrecognized type byte: ${EE(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===jA)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===Cy){if(r==="__proto__")throw new lo("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=dee;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=Cy;continue e}}return r}}readHeadByte(){return this.headByte===p1&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=p1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new lo(`Unrecognized array type byte: ${EE(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new lo(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new lo(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var s;if(e>this.maxStrLength)throw new lo(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw rL;const n=this.pos+r;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,n,e):i=WPe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Cy:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new lo(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw rL;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new lo(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=qPe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=cee(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function pNe(t,e){return new fNe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gNe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fee(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function J5(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function $T(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function DA(t){if(!Array.isArray(t))throw new Error("array expected")}function X5(t,e){if(!fee(!0,e))throw new Error(`${t}: array of strings expected`)}function mNe(t,e){if(!fee(!1,e))throw new Error(`${t}: array of numbers expected`)}function yNe(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function wNe(t){const e=typeof t=="string"?t.split(""):t,r=e.length;X5("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(DA(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(DA(i),i.map(s=>{J5("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function vNe(t=""){return J5("join",t),{encode:e=>(X5("join.decode",e),e.join(t)),decode:e=>(J5("join.decode",e),e.split(t))}}function bNe(t,e="="){return $T(t),J5("padding",e),{encode(r){for(X5("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){X5("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const pee=(t,e)=>e===0?t:pee(e,t%e),e6=(t,e)=>t+(e-pee(t,e)),_E=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function nL(t,e,r,n){if(DA(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(e6(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${e6(e,r)}`);let i=0,s=0;const o=_E[e],a=_E[r]-1,l=[];for(const c of t){if($T(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&a)>>>0);const u=_E[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function xNe(t,e=!1){if($T(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(e6(8,t)>32||e6(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!gNe(r))throw new Error("radix2.encode input should be Uint8Array");return nL(Array.from(r),8,t,!e)},decode:r=>(mNe("radix2.decode",r),Uint8Array.from(nL(r,t,8,e)))}}const ENe=yNe(xNe(5),wNe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),bNe(5),vNe("")),_Ne=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),CNe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Qf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return CNe(t)}catch{return t}}function $u(t){return typeof t=="string"?t:_Ne(t)||""}function ANe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gee(t,...e){if(!ANe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function iL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kNe(t,e){gee(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const zp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function SNe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function mee(t){return typeof t=="string"&&(t=SNe(t)),gee(t),t}let $Ne=class{clone(){return this._cloneInto()}};function INe(t){const e=n=>t().update(mee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function yee(t=32){if(zp&&typeof zp.getRandomValues=="function")return zp.getRandomValues(new Uint8Array(t));if(zp&&typeof zp.randomBytes=="function")return zp.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function TNe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}let PNe=class extends $Ne{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CE(this.buffer)}update(e){iL(this);const{view:r,buffer:n,blockLen:i}=this;e=mee(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=CE(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){iL(this),kNe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;TNe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=CE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const mb=BigInt(2**32-1),LA=BigInt(32);function wee(t,e=!1){return e?{h:Number(t&mb),l:Number(t>>LA&mb)}:{h:Number(t>>LA&mb)|0,l:Number(t&mb)|0}}function NNe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=wee(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const ONe=(t,e)=>BigInt(t>>>0)<<LA|BigInt(e>>>0),MNe=(t,e,r)=>t>>>r,RNe=(t,e,r)=>t<<32-r|e>>>r,jNe=(t,e,r)=>t>>>r|e<<32-r,DNe=(t,e,r)=>t<<32-r|e>>>r,LNe=(t,e,r)=>t<<64-r|e>>>r-32,FNe=(t,e,r)=>t>>>r-32|e<<64-r,UNe=(t,e)=>e,BNe=(t,e)=>t,zNe=(t,e,r)=>t<<r|e>>>32-r,WNe=(t,e,r)=>e<<r|t>>>32-r,HNe=(t,e,r)=>e<<r-32|t>>>64-r,qNe=(t,e,r)=>t<<r-32|e>>>64-r;function VNe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const GNe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),KNe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,YNe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),QNe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,ZNe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),JNe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Rt={fromBig:wee,split:NNe,toBig:ONe,shrSH:MNe,shrSL:RNe,rotrSH:jNe,rotrSL:DNe,rotrBH:LNe,rotrBL:FNe,rotr32H:UNe,rotr32L:BNe,rotlSH:zNe,rotlSL:WNe,rotlBH:HNe,rotlBL:qNe,add:VNe,add3L:GNe,add3H:KNe,add4L:YNe,add4H:QNe,add5H:JNe,add5L:ZNe},[XNe,eOe]=Rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qu=new Uint32Array(80),Zu=new Uint32Array(80);let tOe=class extends PNe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Qu[v]=e.getUint32(r),Zu[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const C=Qu[v-15]|0,x=Zu[v-15]|0,I=Rt.rotrSH(C,x,1)^Rt.rotrSH(C,x,8)^Rt.shrSH(C,x,7),$=Rt.rotrSL(C,x,1)^Rt.rotrSL(C,x,8)^Rt.shrSL(C,x,7),R=Qu[v-2]|0,T=Zu[v-2]|0,L=Rt.rotrSH(R,T,19)^Rt.rotrBH(R,T,61)^Rt.shrSH(R,T,6),U=Rt.rotrSL(R,T,19)^Rt.rotrBL(R,T,61)^Rt.shrSL(R,T,6),W=Rt.add4L($,U,Zu[v-7],Zu[v-16]),M=Rt.add4H(W,I,L,Qu[v-7],Qu[v-16]);Qu[v]=M|0,Zu[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const C=Rt.rotrSH(h,f,14)^Rt.rotrSH(h,f,18)^Rt.rotrBH(h,f,41),x=Rt.rotrSL(h,f,14)^Rt.rotrSL(h,f,18)^Rt.rotrBL(h,f,41),I=h&p^~h&m,$=f&g^~f&w,R=Rt.add5L(b,x,$,eOe[v],Zu[v]),T=Rt.add5H(R,y,C,I,XNe[v],Qu[v]),L=R|0,U=Rt.rotrSH(n,i,28)^Rt.rotrBH(n,i,34)^Rt.rotrBH(n,i,39),W=Rt.rotrSL(n,i,28)^Rt.rotrBL(n,i,34)^Rt.rotrBL(n,i,39),M=n&s^n&a^s&a,A=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=Rt.add(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const _=Rt.add3L(L,W,A);n=Rt.add3H(_,T,U,M),i=_|0}({h:n,l:i}=Rt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Rt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Rt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Rt.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=Rt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=Rt.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=Rt.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){Qu.fill(0),Zu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const rOe=INe(()=>new tOe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IT=BigInt(0),vee=BigInt(1),nOe=BigInt(2);function TT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function PT(t){if(!TT(t))throw new Error("Uint8Array expected")}function AE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const iOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NT(t){PT(t);let e="";for(let r=0;r<t.length;r++)e+=iOe[t[r]];return e}function bee(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?IT:BigInt("0x"+t)}const Oc={_0:48,_9:57,A:65,F:70,a:97,f:102};function sL(t){if(t>=Oc._0&&t<=Oc._9)return t-Oc._0;if(t>=Oc.A&&t<=Oc.F)return t-(Oc.A-10);if(t>=Oc.a&&t<=Oc.f)return t-(Oc.a-10)}function xee(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=sL(t.charCodeAt(s)),a=sL(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function sOe(t){return bee(NT(t))}function k3(t){return PT(t),bee(NT(Uint8Array.from(t).reverse()))}function Eee(t,e){return xee(t.toString(16).padStart(e*2,"0"))}function FA(t,e){return Eee(t,e).reverse()}function Mc(t,e,r){let n;if(typeof e=="string")try{n=xee(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(TT(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function oL(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];PT(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const kE=t=>typeof t=="bigint"&&IT<=t;function oOe(t,e,r){return kE(t)&&kE(e)&&kE(r)&&e<=t&&t<r}function g1(t,e,r,n){if(!oOe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function aOe(t){let e;for(e=0;t>IT;t>>=vee,e+=1);return e}const lOe=t=>(nOe<<BigInt(t-1))-vee,cOe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||TT(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function OT(t,e,r={}){const n=(i,s,o)=>{const a=cOe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function aL(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Qn=BigInt(0),gn=BigInt(1),Kh=BigInt(2),uOe=BigInt(3),UA=BigInt(4),lL=BigInt(5),cL=BigInt(8);function Rn(t,e){const r=t%e;return r>=Qn?r:e+r}function dOe(t,e,r){if(e<Qn)throw new Error("invalid exponent, negatives unsupported");if(r<=Qn)throw new Error("invalid modulus");if(r===gn)return Qn;let n=gn;for(;e>Qn;)e&gn&&(n=n*t%r),t=t*t%r,e>>=gn;return n}function Sl(t,e,r){let n=t;for(;e-- >Qn;)n*=n,n%=r;return n}function uL(t,e){if(t===Qn)throw new Error("invert: expected non-zero number");if(e<=Qn)throw new Error("invert: expected positive modulus, got "+e);let r=Rn(t,e),n=e,i=Qn,s=gn;for(;r!==Qn;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==gn)throw new Error("invert: does not exist");return Rn(i,e)}function hOe(t){const e=(t-gn)/Kh;let r,n,i;for(r=t-gn,n=0;r%Kh===Qn;r/=Kh,n++);for(i=Kh;i<t&&dOe(i,e,t)!==t-gn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+gn)/UA;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+gn)/Kh;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<l&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(c,gn<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function fOe(t){if(t%UA===uOe){const e=(t+gn)/UA;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%cL===lL){const e=(t-lL)/cL;return function(r,n){const i=r.mul(n,Kh),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Kh),s),l=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return hOe(t)}const pOe=(t,e)=>(Rn(t,e)&gn)===gn,gOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mOe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=gOe.reduce((n,i)=>(n[i]="function",n),e);return OT(t,r)}function yOe(t,e,r){if(r<Qn)throw new Error("invalid exponent, negatives unsupported");if(r===Qn)return t.ONE;if(r===gn)return e;let n=t.ONE,i=e;for(;r>Qn;)r&gn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=gn;return n}function wOe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function _ee(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Cee(t,e,r=!1,n={}){if(t<=Qn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=_ee(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:lOe(i),ZERO:Qn,ONE:gn,create:l=>Rn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Qn<=l&&l<t},is0:l=>l===Qn,isOdd:l=>(l&gn)===gn,neg:l=>Rn(-l,t),eql:(l,c)=>l===c,sqr:l=>Rn(l*l,t),add:(l,c)=>Rn(l+c,t),sub:(l,c)=>Rn(l-c,t),mul:(l,c)=>Rn(l*c,t),pow:(l,c)=>yOe(a,l,c),div:(l,c)=>Rn(l*uL(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>uL(l,t),sqrt:n.sqrt||(l=>(o||(o=fOe(t)),o(a,l))),invertBatch:l=>wOe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?FA(l,s):Eee(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?k3(l):sOe(l)}});return Object.freeze(a)}const dL=BigInt(0),yb=BigInt(1);function SE(t,e){const r=e.negate();return t?r:e}function Aee(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $E(t,e){Aee(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function vOe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function bOe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const IE=new WeakMap,kee=new WeakMap;function TE(t){return kee.get(t)||1}function xOe(t,e){return{constTimeNegate:SE,hasPrecomputes(r){return TE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>dL;)n&yb&&(i=i.add(s)),s=s.double(),n>>=yb;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=$E(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=$E(r,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&c);i>>=h,g>o&&(g-=u,i+=yb);const m=p,w=p+Math.abs(g)-1,y=f%2!==0,b=g<0;g===0?l=l.add(SE(y,n[m])):a=a.add(SE(b,n[w]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=$E(r,e),l=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let h=0;h<o;h++){const f=h*a;if(i===dL)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=yb),p===0)continue;let g=n[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=IE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&IE.set(n,i(s))),s},wNAFCached(r,n,i){const s=TE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=TE(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Aee(n,e),kee.set(r,n),IE.delete(r)}}}function EOe(t,e,r,n){if(vOe(r,t),bOe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=aOe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<n.length;p++){const g=n[p],m=Number(g>>BigInt(h)&BigInt(a));l[m]=l[m].add(r[p])}let f=i;for(let p=l.length-1,g=i;p>0;p--)g=g.add(l[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function _Oe(t){return mOe(t.Fp),OT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._ee(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ta=BigInt(0),_s=BigInt(1),wb=BigInt(2),COe=BigInt(8),AOe={zip215:!0};function kOe(t){const e=_Oe(t);return OT(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function SOe(t){const e=kOe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=wb<<BigInt(a*8)-_s,u=r.create,h=Cee(e.n,e.nBitLength),f=e.uvRatio||((_,S)=>{try{return{isValid:!0,value:r.sqrt(_*r.inv(S))}}catch{return{isValid:!1,value:Ta}}}),p=e.adjustScalarBytes||(_=>_),g=e.domain||((_,S,O)=>{if(AE("phflag",O),S.length||O)throw new Error("Contexts/pre-hash are not supported");return _});function m(_,S){g1("coordinate "+_,S,Ta,c)}function w(_){if(!(_ instanceof v))throw new Error("ExtendedPoint expected")}const y=aL((_,S)=>{const{ex:O,ey:P,ez:N}=_,D=_.is0();S==null&&(S=D?COe:r.inv(N));const F=u(O*S),k=u(P*S),z=u(N*S);if(D)return{x:Ta,y:_s};if(z!==_s)throw new Error("invZ was invalid");return{x:F,y:k}}),b=aL(_=>{const{a:S,d:O}=e;if(_.is0())throw new Error("bad point: ZERO");const{ex:P,ey:N,ez:D,et:F}=_,k=u(P*P),z=u(N*N),V=u(D*D),j=u(V*V),G=u(k*S),Q=u(V*u(G+z)),K=u(j+u(O*u(k*z)));if(Q!==K)throw new Error("bad point: equation left != right (1)");const re=u(P*N),le=u(D*F);if(re!==le)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(S,O,P,N){this.ex=S,this.ey=O,this.ez=P,this.et=N,m("x",S),m("y",O),m("z",P),m("t",N),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof v)throw new Error("extended point not allowed");const{x:O,y:P}=S||{};return m("x",O),m("y",P),new v(O,P,_s,u(O*P))}static normalizeZ(S){const O=r.invertBatch(S.map(P=>P.ez));return S.map((P,N)=>P.toAffine(O[N])).map(v.fromAffine)}static msm(S,O){return EOe(v,h,S,O)}_setWindowSize(S){I.setWindowSize(this,S)}assertValidity(){b(this)}equals(S){w(S);const{ex:O,ey:P,ez:N}=this,{ex:D,ey:F,ez:k}=S,z=u(O*k),V=u(D*N),j=u(P*k),G=u(F*N);return z===V&&j===G}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:O,ey:P,ez:N}=this,D=u(O*O),F=u(P*P),k=u(wb*u(N*N)),z=u(S*D),V=O+P,j=u(u(V*V)-D-F),G=z+F,Q=G-k,K=z-F,re=u(j*Q),le=u(G*K),ne=u(j*K),ae=u(Q*G);return new v(re,le,ae,ne)}add(S){w(S);const{a:O,d:P}=e,{ex:N,ey:D,ez:F,et:k}=this,{ex:z,ey:V,ez:j,et:G}=S;if(O===BigInt(-1)){const be=u((D-N)*(V+z)),se=u((D+N)*(V-z)),we=u(se-be);if(we===Ta)return this.double();const vt=u(F*wb*G),ce=u(k*wb*j),Ie=ce+vt,Fe=se+be,tt=ce-vt,Qe=u(Ie*we),$t=u(Fe*tt),ht=u(Ie*tt),it=u(we*Fe);return new v(Qe,$t,it,ht)}const Q=u(N*z),K=u(D*V),re=u(k*P*G),le=u(F*j),ne=u((N+D)*(z+V)-Q-K),ae=le-re,ye=le+re,de=u(K-O*Q),he=u(ne*ae),Xe=u(ye*de),ie=u(ne*de),xe=u(ae*ye);return new v(he,Xe,xe,ie)}subtract(S){return this.add(S.negate())}wNAF(S){return I.wNAFCached(this,S,v.normalizeZ)}multiply(S){const O=S;g1("scalar",O,_s,n);const{p:P,f:N}=this.wNAF(O);return v.normalizeZ([P,N])[0]}multiplyUnsafe(S,O=v.ZERO){const P=S;return g1("scalar",P,Ta,n),P===Ta?x:this.is0()||P===_s?this:I.wNAFCachedUnsafe(this,P,v.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return I.unsafeLadder(this,n).is0()}toAffine(S){return y(this,S)}clearCofactor(){const{h:S}=e;return S===_s?this:this.multiplyUnsafe(S)}static fromHex(S,O=!1){const{d:P,a:N}=e,D=r.BYTES;S=Mc("pointHex",S,D),AE("zip215",O);const F=S.slice(),k=S[D-1];F[D-1]=k&-129;const z=k3(F),V=O?c:r.ORDER;g1("pointHex.y",z,Ta,V);const j=u(z*z),G=u(j-_s),Q=u(P*j-N);let{isValid:K,value:re}=f(G,Q);if(!K)throw new Error("Point.fromHex: invalid y coordinate");const le=(re&_s)===_s,ne=(k&128)!==0;if(!O&&re===Ta&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==le&&(re=u(-re)),v.fromAffine({x:re,y:z})}static fromPrivateKey(S){return T(S).point}toRawBytes(){const{x:S,y:O}=this.toAffine(),P=FA(O,r.BYTES);return P[P.length-1]|=S&_s?128:0,P}toHex(){return NT(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,_s,u(e.Gx*e.Gy)),v.ZERO=new v(Ta,_s,_s,Ta);const{BASE:C,ZERO:x}=v,I=xOe(v,a*8);function $(_){return Rn(_,n)}function R(_){return $(k3(_))}function T(_){const S=r.BYTES;_=Mc("private key",_,S);const O=Mc("hashed private key",s(_),2*S),P=p(O.slice(0,S)),N=O.slice(S,2*S),D=R(P),F=C.multiply(D),k=F.toRawBytes();return{head:P,prefix:N,scalar:D,point:F,pointBytes:k}}function L(_){return T(_).pointBytes}function U(_=new Uint8Array,...S){const O=oL(...S);return R(s(g(O,Mc("context",_),!!i)))}function W(_,S,O={}){_=Mc("message",_),i&&(_=i(_));const{prefix:P,scalar:N,pointBytes:D}=T(S),F=U(O.context,P,_),k=C.multiply(F).toRawBytes(),z=U(O.context,k,D,_),V=$(F+z*N);g1("signature.s",V,Ta,n);const j=oL(k,FA(V,r.BYTES));return Mc("result",j,r.BYTES*2)}const M=AOe;function A(_,S,O,P=M){const{context:N,zip215:D}=P,F=r.BYTES;_=Mc("signature",_,2*F),S=Mc("message",S),O=Mc("publicKey",O,F),D!==void 0&&AE("zip215",D),i&&(S=i(S));const k=k3(_.slice(F,2*F));let z,V,j;try{z=v.fromHex(O,D),V=v.fromHex(_.slice(0,F),D),j=C.multiplyUnsafe(k)}catch{return!1}if(!D&&z.isSmallOrder())return!1;const G=U(N,V.toRawBytes(),z.toRawBytes(),S);return V.add(z.multiplyUnsafe(G)).subtract(j).clearCofactor().equals(v.ZERO)}return C._setWindowSize(8),{CURVE:e,getPublicKey:L,sign:W,verify:A,ExtendedPoint:v,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(r.BYTES),precompute(_=8,S=v.BASE){return S._setWindowSize(_),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const MT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),hL=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const $Oe=BigInt(1),fL=BigInt(2);BigInt(3);const IOe=BigInt(5),TOe=BigInt(8);function POe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=MT,o=t*t%s*t%s,a=Sl(o,fL,s)*o%s,l=Sl(a,$Oe,s)*t%s,c=Sl(l,IOe,s)*l%s,u=Sl(c,e,s)*c%s,h=Sl(u,r,s)*u%s,f=Sl(h,n,s)*h%s,p=Sl(f,i,s)*f%s,g=Sl(p,i,s)*f%s,m=Sl(g,e,s)*c%s;return{pow_p_5_8:Sl(m,fL,s)*t%s,b2:o}}function NOe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function OOe(t,e){const r=MT,n=Rn(e*e*e,r),i=Rn(n*n*e,r),s=POe(t*i).pow_p_5_8;let o=Rn(t*n*s,r);const a=Rn(e*o*o,r),l=o,c=Rn(o*hL,r),u=a===t,h=a===Rn(-t,r),f=a===Rn(-t*hL,r);return u&&(o=l),(h||f)&&(o=c),pOe(o,r)&&(o=Rn(-o,r)),{isValid:u||h,value:o}}const MOe=Cee(MT,void 0,!0),ROe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:MOe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:TOe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:rOe,randomBytes:yee,adjustScalarBytes:NOe,uvRatio:OOe},See=SOe(ROe),jOe="EdDSA",DOe="JWT",t6=".",Cx="base64url",$ee="utf8",Iee="utf8",LOe=":",FOe="did",UOe="key",pL="base58btc",BOe="z",zOe="K36",WOe=32;function RT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Tee(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?RT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Pee(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=Tee(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return RT(r)}function HOe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,C=new Uint8Array(v);y!==b;){for(var x=g[y],I=0,$=v-1;(x!==0||I<w)&&$!==-1;$--,I++)x+=256*C[$]>>>0,C[$]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");w=I,y++}for(var R=v-w;R!==v&&C[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(C[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var C=r[g.charCodeAt(m)];if(C===255)return;for(var x=0,I=b-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=a*v[I]>>>0,v[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,m++}if(g[m]!==" "){for(var $=b-y;$!==b&&v[$]===0;)$++;for(var R=new Uint8Array(w+(b-$)),T=w;$!==b;)R[T++]=v[$++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var qOe=HOe,VOe=qOe;const Nee=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},GOe=t=>new TextEncoder().encode(t),KOe=t=>new TextDecoder().decode(t);let YOe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},QOe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Oee(this,e)}},ZOe=class{constructor(e){this.decoders=e}or(e){return Oee(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Oee=(t,e)=>new ZOe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let JOe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new YOe(e,r,n),this.decoder=new QOe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ax=({name:t,prefix:e,encode:r,decode:n})=>new JOe(t,e,r,n),r2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=VOe(r,e);return Ax({prefix:t,name:e,encode:n,decode:s=>Nee(i(s))})},XOe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},eMe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},bi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ax({prefix:e,name:t,encode(i){return eMe(i,n,r)},decode(i){return XOe(i,n,r,t)}}),tMe=Ax({prefix:"\0",name:"identity",encode:t=>KOe(t),decode:t=>GOe(t)});var rMe=Object.freeze({__proto__:null,identity:tMe});const nMe=bi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var iMe=Object.freeze({__proto__:null,base2:nMe});const sMe=bi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var oMe=Object.freeze({__proto__:null,base8:sMe});const aMe=r2({prefix:"9",name:"base10",alphabet:"0123456789"});var lMe=Object.freeze({__proto__:null,base10:aMe});const cMe=bi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uMe=bi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dMe=Object.freeze({__proto__:null,base16:cMe,base16upper:uMe});const hMe=bi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fMe=bi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pMe=bi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gMe=bi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mMe=bi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yMe=bi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wMe=bi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vMe=bi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bMe=bi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var xMe=Object.freeze({__proto__:null,base32:hMe,base32upper:fMe,base32pad:pMe,base32padupper:gMe,base32hex:mMe,base32hexupper:yMe,base32hexpad:wMe,base32hexpadupper:vMe,base32z:bMe});const EMe=r2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_Me=r2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var CMe=Object.freeze({__proto__:null,base36:EMe,base36upper:_Me});const AMe=r2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kMe=r2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var SMe=Object.freeze({__proto__:null,base58btc:AMe,base58flickr:kMe});const $Me=bi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),IMe=bi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),TMe=bi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),PMe=bi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var NMe=Object.freeze({__proto__:null,base64:$Me,base64pad:IMe,base64url:TMe,base64urlpad:PMe});const Mee=Array.from(""),OMe=Mee.reduce((t,e,r)=>(t[r]=e,t),[]),MMe=Mee.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function RMe(t){return t.reduce((e,r)=>(e+=OMe[r],e),"")}function jMe(t){const e=[];for(const r of t){const n=MMe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const DMe=Ax({prefix:"",name:"base256emoji",encode:RMe,decode:jMe});var LMe=Object.freeze({__proto__:null,base256emoji:DMe}),FMe=Ree,gL=128,UMe=-128,BMe=Math.pow(2,31);function Ree(t,e,r){e=e||[],r=r||0;for(var n=r;t>=BMe;)e[r++]=t&255|gL,t/=128;for(;t&UMe;)e[r++]=t&255|gL,t>>>=7;return e[r]=t|0,Ree.bytes=r-n+1,e}var zMe=BA,WMe=128,mL=127;function BA(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw BA.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&mL)<<i:(o&mL)*Math.pow(2,i),i+=7}while(o>=WMe);return BA.bytes=s-n,r}var HMe=Math.pow(2,7),qMe=Math.pow(2,14),VMe=Math.pow(2,21),GMe=Math.pow(2,28),KMe=Math.pow(2,35),YMe=Math.pow(2,42),QMe=Math.pow(2,49),ZMe=Math.pow(2,56),JMe=Math.pow(2,63),XMe=function(t){return t<HMe?1:t<qMe?2:t<VMe?3:t<GMe?4:t<KMe?5:t<YMe?6:t<QMe?7:t<ZMe?8:t<JMe?9:10},eRe={encode:FMe,decode:zMe,encodingLength:XMe},jee=eRe;const yL=(t,e,r=0)=>(jee.encode(t,e,r),e),wL=t=>jee.encodingLength(t),zA=(t,e)=>{const r=e.byteLength,n=wL(t),i=n+wL(r),s=new Uint8Array(i+r);return yL(t,s,0),yL(r,s,n),s.set(e,i),new tRe(t,r,e,s)};let tRe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const Dee=({name:t,code:e,encode:r})=>new rRe(t,e,r);let rRe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?zA(this.code,r):r.then(n=>zA(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Lee=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),nRe=Dee({name:"sha2-256",code:18,encode:Lee("SHA-256")}),iRe=Dee({name:"sha2-512",code:19,encode:Lee("SHA-512")});var sRe=Object.freeze({__proto__:null,sha256:nRe,sha512:iRe});const Fee=0,oRe="identity",Uee=Nee,aRe=t=>zA(Fee,Uee(t)),lRe={code:Fee,name:oRe,encode:Uee,digest:aRe};var cRe=Object.freeze({__proto__:null,identity:lRe});new TextEncoder,new TextDecoder;const vL={...rMe,...iMe,...oMe,...lMe,...dMe,...xMe,...CMe,...SMe,...NMe,...LMe};({...sRe,...cRe});function Bee(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const bL=Bee("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),PE=Bee("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Tee(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),zee={utf8:bL,"utf-8":bL,hex:vL.base16,latin1:PE,ascii:PE,binary:PE,...vL};function kx(t,e="utf8"){const r=zee[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Pm(t,e="utf8"){const r=zee[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?RT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function xL(t){return Qf(kx(Pm(t,Cx),$ee))}function r6(t){return kx(Pm($u(t),$ee),Cx)}function Wee(t){const e=Pm(zOe,pL),r=BOe+kx(Pee([e,t]),pL);return[FOe,UOe,r].join(LOe)}function uRe(t){return kx(t,Cx)}function dRe(t){return Pm(t,Cx)}function hRe(t){return Pm([r6(t.header),r6(t.payload)].join(t6),Iee)}function fRe(t){return[r6(t.header),r6(t.payload),uRe(t.signature)].join(t6)}function WA(t){const e=t.split(t6),r=xL(e[0]),n=xL(e[1]),i=dRe(e[2]),s=Pm(e.slice(0,2).join(t6),Iee);return{header:r,payload:n,signature:i,data:s}}function EL(t=yee(WOe)){const e=See.getPublicKey(t);return{secretKey:Pee([t,e]),publicKey:e}}async function pRe(t,e,r,n,i=Me.fromMiliseconds(Date.now())){const s={alg:jOe,typ:DOe},o=Wee(n.publicKey),a=i+r,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=hRe({header:s,payload:l}),u=See.sign(c,n.secretKey.slice(0,32));return fRe({header:s,payload:l,signature:u})}function jT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Hee(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?jT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ay(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=Hee(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return jT(r)}function gRe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,C=new Uint8Array(v);y!==b;){for(var x=g[y],I=0,$=v-1;(x!==0||I<w)&&$!==-1;$--,I++)x+=256*C[$]>>>0,C[$]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");w=I,y++}for(var R=v-w;R!==v&&C[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(C[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var C=r[g.charCodeAt(m)];if(C===255)return;for(var x=0,I=b-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=a*v[I]>>>0,v[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,m++}if(g[m]!==" "){for(var $=b-y;$!==b&&v[$]===0;)$++;for(var R=new Uint8Array(w+(b-$)),T=w;$!==b;)R[T++]=v[$++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var mRe=gRe,yRe=mRe;const wRe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},vRe=t=>new TextEncoder().encode(t),bRe=t=>new TextDecoder().decode(t);class xRe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ERe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return qee(this,e)}}class _Re{constructor(e){this.decoders=e}or(e){return qee(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const qee=(t,e)=>new _Re({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class CRe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new xRe(e,r,n),this.decoder=new ERe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Sx=({name:t,prefix:e,encode:r,decode:n})=>new CRe(t,e,r,n),n2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=yRe(r,e);return Sx({prefix:t,name:e,encode:n,decode:s=>wRe(i(s))})},ARe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},kRe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},xi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Sx({prefix:e,name:t,encode(i){return kRe(i,n,r)},decode(i){return ARe(i,n,r,t)}}),SRe=Sx({prefix:"\0",name:"identity",encode:t=>bRe(t),decode:t=>vRe(t)}),$Re=Object.freeze(Object.defineProperty({__proto__:null,identity:SRe},Symbol.toStringTag,{value:"Module"})),IRe=xi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),TRe=Object.freeze(Object.defineProperty({__proto__:null,base2:IRe},Symbol.toStringTag,{value:"Module"})),PRe=xi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),NRe=Object.freeze(Object.defineProperty({__proto__:null,base8:PRe},Symbol.toStringTag,{value:"Module"})),ORe=n2({prefix:"9",name:"base10",alphabet:"0123456789"}),MRe=Object.freeze(Object.defineProperty({__proto__:null,base10:ORe},Symbol.toStringTag,{value:"Module"})),RRe=xi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),jRe=xi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),DRe=Object.freeze(Object.defineProperty({__proto__:null,base16:RRe,base16upper:jRe},Symbol.toStringTag,{value:"Module"})),LRe=xi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),FRe=xi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),URe=xi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),BRe=xi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zRe=xi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),WRe=xi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),HRe=xi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qRe=xi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),VRe=xi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),GRe=Object.freeze(Object.defineProperty({__proto__:null,base32:LRe,base32hex:zRe,base32hexpad:HRe,base32hexpadupper:qRe,base32hexupper:WRe,base32pad:URe,base32padupper:BRe,base32upper:FRe,base32z:VRe},Symbol.toStringTag,{value:"Module"})),KRe=n2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),YRe=n2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),QRe=Object.freeze(Object.defineProperty({__proto__:null,base36:KRe,base36upper:YRe},Symbol.toStringTag,{value:"Module"})),ZRe=n2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JRe=n2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),XRe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ZRe,base58flickr:JRe},Symbol.toStringTag,{value:"Module"})),eje=xi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tje=xi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rje=xi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nje=xi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ije=Object.freeze(Object.defineProperty({__proto__:null,base64:eje,base64pad:tje,base64url:rje,base64urlpad:nje},Symbol.toStringTag,{value:"Module"})),Vee=Array.from(""),sje=Vee.reduce((t,e,r)=>(t[r]=e,t),[]),oje=Vee.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function aje(t){return t.reduce((e,r)=>(e+=sje[r],e),"")}function lje(t){const e=[];for(const r of t){const n=oje[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const cje=Sx({prefix:"",name:"base256emoji",encode:aje,decode:lje}),uje=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:cje},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const _L={...$Re,...TRe,...NRe,...MRe,...DRe,...GRe,...QRe,...XRe,...ije,...uje};function Gee(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const CL=Gee("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),NE=Gee("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Hee(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Kee={utf8:CL,"utf-8":CL,hex:_L.base16,latin1:NE,ascii:NE,binary:NE,..._L};function sa(t,e="utf8"){const r=Kee[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?jT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ws(t,e="utf8"){const r=Kee[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const dje={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},hje="Input must be an string, Buffer or Uint8Array";function fje(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(hje);return e}function pje(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function vb(t){return(4294967296+t).toString(16).substring(1)}function gje(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=vb(e[i]).toUpperCase(),n+=" ",n+=vb(e[i+1]).toUpperCase();else if(r===64)n+=vb(e[i+1]).toUpperCase(),n+=vb(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6===4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function mje(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<r;o++){const a=t(i),l=new Date().getTime(),c=l-n;n=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var Yee={normalizeInput:fje,toHex:pje,debugPrint:gje,testSpeed:mje};const S3=Yee;function bb(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function AL(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function Qee(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ju(t,e,r,n,i,s){const o=Y1[i],a=Y1[i+1],l=Y1[s],c=Y1[s+1];bb(Tt,t,e),AL(Tt,t,o,a);let u=Tt[n]^Tt[t],h=Tt[n+1]^Tt[t+1];Tt[n]=h,Tt[n+1]=u,bb(Tt,r,n),u=Tt[e]^Tt[r],h=Tt[e+1]^Tt[r+1],Tt[e]=u>>>24^h<<8,Tt[e+1]=h>>>24^u<<8,bb(Tt,t,e),AL(Tt,t,l,c),u=Tt[n]^Tt[t],h=Tt[n+1]^Tt[t+1],Tt[n]=u>>>16^h<<16,Tt[n+1]=h>>>16^u<<16,bb(Tt,r,n),u=Tt[e]^Tt[r],h=Tt[e+1]^Tt[r+1],Tt[e]=h>>>31^u<<1,Tt[e+1]=u>>>31^h<<1}const Zee=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),yje=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Ii=new Uint8Array(yje.map(function(t){return t*2})),Tt=new Uint32Array(32),Y1=new Uint32Array(32);function Jee(t,e){let r=0;for(r=0;r<16;r++)Tt[r]=t.h[r],Tt[r+16]=Zee[r];for(Tt[24]=Tt[24]^t.t,Tt[25]=Tt[25]^t.t/4294967296,e&&(Tt[28]=~Tt[28],Tt[29]=~Tt[29]),r=0;r<32;r++)Y1[r]=Qee(t.b,4*r);for(r=0;r<12;r++)Ju(0,8,16,24,Ii[r*16+0],Ii[r*16+1]),Ju(2,10,18,26,Ii[r*16+2],Ii[r*16+3]),Ju(4,12,20,28,Ii[r*16+4],Ii[r*16+5]),Ju(6,14,22,30,Ii[r*16+6],Ii[r*16+7]),Ju(0,10,20,30,Ii[r*16+8],Ii[r*16+9]),Ju(2,12,22,24,Ii[r*16+10],Ii[r*16+11]),Ju(4,14,16,26,Ii[r*16+12],Ii[r*16+13]),Ju(6,8,18,28,Ii[r*16+14],Ii[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Tt[r]^Tt[r+16]}const Xu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Xee(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Xu.fill(0),Xu[0]=t,e&&(Xu[1]=e.length),Xu[2]=1,Xu[3]=1,r&&Xu.set(r,32),n&&Xu.set(n,48);for(let s=0;s<16;s++)i.h[s]=Zee[s]^Qee(Xu,s*4);return e&&(DT(i,e),i.c=128),i}function DT(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Jee(t,!1),t.c=0),t.b[t.c++]=e[r]}function ete(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Jee(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function tte(t,e,r,n,i){r=r||64,t=S3.normalizeInput(t),n&&(n=S3.normalizeInput(n)),i&&(i=S3.normalizeInput(i));const s=Xee(r,e,n,i);return DT(s,t),ete(s)}function wje(t,e,r,n,i){const s=tte(t,e,r,n,i);return S3.toHex(s)}var vje={blake2b:tte,blake2bHex:wje,blake2bInit:Xee,blake2bUpdate:DT,blake2bFinal:ete};const rte=Yee;function bje(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ed(t,e,r,n,i,s){lr[t]=lr[t]+lr[e]+i,lr[n]=xb(lr[n]^lr[t],16),lr[r]=lr[r]+lr[n],lr[e]=xb(lr[e]^lr[r],12),lr[t]=lr[t]+lr[e]+s,lr[n]=xb(lr[n]^lr[t],8),lr[r]=lr[r]+lr[n],lr[e]=xb(lr[e]^lr[r],7)}function xb(t,e){return t>>>e^t<<32-e}const nte=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ti=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),lr=new Uint32Array(16),ei=new Uint32Array(16);function ite(t,e){let r=0;for(r=0;r<8;r++)lr[r]=t.h[r],lr[r+8]=nte[r];for(lr[12]^=t.t,lr[13]^=t.t/4294967296,e&&(lr[14]=~lr[14]),r=0;r<16;r++)ei[r]=bje(t.b,4*r);for(r=0;r<10;r++)ed(0,4,8,12,ei[Ti[r*16+0]],ei[Ti[r*16+1]]),ed(1,5,9,13,ei[Ti[r*16+2]],ei[Ti[r*16+3]]),ed(2,6,10,14,ei[Ti[r*16+4]],ei[Ti[r*16+5]]),ed(3,7,11,15,ei[Ti[r*16+6]],ei[Ti[r*16+7]]),ed(0,5,10,15,ei[Ti[r*16+8]],ei[Ti[r*16+9]]),ed(1,6,11,12,ei[Ti[r*16+10]],ei[Ti[r*16+11]]),ed(2,7,8,13,ei[Ti[r*16+12]],ei[Ti[r*16+13]]),ed(3,4,9,14,ei[Ti[r*16+14]],ei[Ti[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=lr[r]^lr[r+8]}function ste(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(nte),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(LT(n,e),n.c=64),n}function LT(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,ite(t,!1),t.c=0),t.b[t.c++]=e[r]}function ote(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;ite(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function ate(t,e,r){r=r||32,t=rte.normalizeInput(t);const n=ste(r,e);return LT(n,t),ote(n)}function xje(t,e,r){const n=ate(t,e,r);return rte.toHex(n)}var Eje={blake2s:ate,blake2sHex:xje,blake2sInit:ste,blake2sUpdate:LT,blake2sFinal:ote};const m1=vje,y1=Eje;var _je={blake2b:m1.blake2b,blake2bHex:m1.blake2bHex,blake2bInit:m1.blake2bInit,blake2bUpdate:m1.blake2bUpdate,blake2bFinal:m1.blake2bFinal,blake2s:y1.blake2s,blake2sHex:y1.blake2sHex,blake2sInit:y1.blake2sInit,blake2sUpdate:y1.blake2sUpdate,blake2sFinal:y1.blake2sFinal},Cje={};const Aje=":";function _f(t){const[e,r]=t.split(Aje);return{namespace:e,reference:r}}function kL(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function lte(t,e){return t.includes(":")?[t]:e.chains||[]}var kje=Object.defineProperty,Sje=Object.defineProperties,$je=Object.getOwnPropertyDescriptors,SL=Object.getOwnPropertySymbols,Ije=Object.prototype.hasOwnProperty,Tje=Object.prototype.propertyIsEnumerable,HA=(t,e,r)=>e in t?kje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$L=(t,e)=>{for(var r in e||(e={}))Ije.call(e,r)&&HA(t,r,e[r]);if(SL)for(var r of SL(e))Tje.call(e,r)&&HA(t,r,e[r]);return t},Pje=(t,e)=>Sje(t,$je(e)),IL=(t,e,r)=>HA(t,typeof e!="symbol"?e+"":e,r);const Nje="ReactNative",yo={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Oje="js";function n6(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function _h(){return!Yf()&&!!AT()&&navigator.product===Nje}function Mje(){return _h()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function Rje(){return _h()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function Nm(){return!n6()&&!!AT()&&!!Yf()}function i2(){return _h()?yo.reactNative:n6()?yo.node:Nm()?yo.browser:yo.unknown}function TL(){var t;try{return _h()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function jje(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function Dje(t){var e,r;const n=cte();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Pje($L($L({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function cte(){return JX()||{name:"",description:"",url:"",icons:[""]}}function Lje(){if(i2()===yo.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=ETe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Fje(){var t;const e=i2();return e===yo.browser?[e,((t=ZX())==null?void 0:t.host)||"unknown"].join(":"):e}function ute(t,e,r){const n=Lje(),i=Fje();return[[t,e].join("-"),[Oje,r].join("-"),n,i].join("/")}function Uje({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=r.split("?"),u=ute(t,e,n),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},f=jje(c[1]||"",h);return c[0]+"?"+f}function af(t,e){return t.filter(r=>e.includes(r)).length===t.length}function qA(t){return Object.fromEntries(t.entries())}function VA(t){return new Map(Object.entries(t))}function Bh(t=Me.FIVE_MINUTES,e){const r=Me.toMiliseconds(t||Me.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},r),n=a,i=l})}}function Jl(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function dte(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Bje(t){return dte("topic",t)}function zje(t){return dte("id",t)}function hte(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function On(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function fd(t){return Date.now()>=Me.toMiliseconds(t)}function hr(t,e){return`${t}${e?`:${e}`:""}`}function lc(t=[],e=[]){return[...new Set([...t,...e])]}async function Wje({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Hje(s,t,e),a=i2();if(a===yo.browser){if(!((n=Yf())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}qje(o)}else a===yo.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function Hje(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Yje(n,!0)}`}else i=`${i}/wc?${n}`;return i}function qje(t){let e="_self";Kje()?e="_top":(Gje()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Vje(t,e){let r="";try{if(Nm()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function PL(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function NL(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function FT(){return typeof process<"u"&&Cje.IS_VITEST==="true"}function Gje(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Kje(){try{return window.self!==window.top}catch{return!1}}function Yje(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function fte(t){return Buffer.from(t,"base64").toString("utf-8")}function Qje(t){return new Promise(e=>setTimeout(e,t))}let Zje=class{constructor({limit:e}){IL(this,"limit"),IL(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Eb=BigInt(2**32-1),OL=BigInt(32);function pte(t,e=!1){return e?{h:Number(t&Eb),l:Number(t>>OL&Eb)}:{h:Number(t>>OL&Eb)|0,l:Number(t&Eb)|0}}function gte(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=pte(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const ML=(t,e,r)=>t>>>r,RL=(t,e,r)=>t<<32-r|e>>>r,pd=(t,e,r)=>t>>>r|e<<32-r,gd=(t,e,r)=>t<<32-r|e>>>r,Q1=(t,e,r)=>t<<64-r|e>>>r-32,Z1=(t,e,r)=>t>>>r-32|e<<64-r,Jje=(t,e)=>e,Xje=(t,e)=>t,eDe=(t,e,r)=>t<<r|e>>>32-r,tDe=(t,e,r)=>e<<r|t>>>32-r,rDe=(t,e,r)=>e<<r-32|t>>>64-r,nDe=(t,e,r)=>t<<r-32|e>>>64-r;function La(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const UT=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),BT=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,iDe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),sDe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,oDe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),aDe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Wp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function zT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Iu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ga(t,...e){if(!zT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function WT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Iu(t.outputLen),Iu(t.blockLen)}function uh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HT(t,e){ga(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function rv(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ma(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function OE(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $l(t,e){return t<<32-e|t>>>e}const mte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yte(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Fc=mte?t=>t:t=>yte(t);function lDe(t){for(let e=0;e<t.length;e++)t[e]=yte(t[e]);return t}const md=mte?t=>t:lDe,wte=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",cDe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nv(t){if(ga(t),wte)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=cDe[t[r]];return e}const Rc={_0:48,_9:57,A:65,F:70,a:97,f:102};function jL(t){if(t>=Rc._0&&t<=Rc._9)return t-Rc._0;if(t>=Rc.A&&t<=Rc.F)return t-(Rc.A-10);if(t>=Rc.a&&t<=Rc.f)return t-(Rc.a-10)}function qT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(wte)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=jL(t.charCodeAt(s)),a=jL(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function uDe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rl(t){return typeof t=="string"&&(t=uDe(t)),ga(t),t}function lf(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ga(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let $x=class{};function s2(t){const e=n=>t().update(rl(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function dDe(t){const e=(n,i)=>t(i).update(rl(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Om(t=32){if(Wp&&typeof Wp.getRandomValues=="function")return Wp.getRandomValues(new Uint8Array(t));if(Wp&&typeof Wp.randomBytes=="function")return Uint8Array.from(Wp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const hDe=BigInt(0),w1=BigInt(1),fDe=BigInt(2),pDe=BigInt(7),gDe=BigInt(256),mDe=BigInt(113),vte=[],bte=[],xte=[];for(let t=0,e=w1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],vte.push(2*(5*n+r)),bte.push((t+1)*(t+2)/2%64);let i=hDe;for(let s=0;s<7;s++)e=(e<<w1^(e>>pDe)*mDe)%gDe,e&fDe&&(i^=w1<<(w1<<BigInt(s))-w1);xte.push(i)}const Ete=gte(xte,!0),yDe=Ete[0],wDe=Ete[1],DL=(t,e,r)=>r>32?rDe(t,e,r):eDe(t,e,r),LL=(t,e,r)=>r>32?nDe(t,e,r):tDe(t,e,r);function vDe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=DL(c,u,1)^r[a],f=LL(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=bte[o],l=DL(i,s,a),c=LL(i,s,a),u=vte[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=yDe[n],t[1]^=wDe[n]}ma(r)}let bDe=class _te extends $x{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Iu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=rv(this.state)}clone(){return this._cloneInto()}keccak(){md(this.state32),vDe(this.state32,this.rounds),md(this.state32),this.posOut=0,this.pos=0}update(e){uh(this),e=rl(e),ga(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){uh(this,!1),ga(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Iu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ma(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new _te(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const xDe=(t,e,r)=>s2(()=>new bDe(e,t,r)),EDe=xDe(1,136,256/8);function _De(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function CDe(t,e,r){return t&e^~t&r}function ADe(t,e,r){return t&e^t&r^e&r}let Cte=class extends $x{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=OE(this.buffer)}update(e){uh(this),e=rl(e),ga(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=OE(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){uh(this),HT(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,ma(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;_De(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=OE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const td=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ni=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),kDe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rd=new Uint32Array(64);let SDe=class extends Cte{constructor(e=32){super(64,e,8,!1),this.A=td[0]|0,this.B=td[1]|0,this.C=td[2]|0,this.D=td[3]|0,this.E=td[4]|0,this.F=td[5]|0,this.G=td[6]|0,this.H=td[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)rd[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=rd[h-15],p=rd[h-2],g=$l(f,7)^$l(f,18)^f>>>3,m=$l(p,17)^$l(p,19)^p>>>10;rd[h]=m+rd[h-7]+g+rd[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=$l(a,6)^$l(a,11)^$l(a,25),p=u+f+CDe(a,l,c)+kDe[h]+rd[h]|0,g=($l(n,2)^$l(n,13)^$l(n,22))+ADe(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){ma(rd)}destroy(){this.set(0,0,0,0,0,0,0,0),ma(this.buffer)}};const Ate=gte(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),$De=Ate[0],IDe=Ate[1],nd=new Uint32Array(80),id=new Uint32Array(80);let VT=class extends Cte{constructor(e=64){super(128,e,16,!1),this.Ah=Ni[0]|0,this.Al=Ni[1]|0,this.Bh=Ni[2]|0,this.Bl=Ni[3]|0,this.Ch=Ni[4]|0,this.Cl=Ni[5]|0,this.Dh=Ni[6]|0,this.Dl=Ni[7]|0,this.Eh=Ni[8]|0,this.El=Ni[9]|0,this.Fh=Ni[10]|0,this.Fl=Ni[11]|0,this.Gh=Ni[12]|0,this.Gl=Ni[13]|0,this.Hh=Ni[14]|0,this.Hl=Ni[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)nd[v]=e.getUint32(r),id[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const C=nd[v-15]|0,x=id[v-15]|0,I=pd(C,x,1)^pd(C,x,8)^ML(C,x,7),$=gd(C,x,1)^gd(C,x,8)^RL(C,x,7),R=nd[v-2]|0,T=id[v-2]|0,L=pd(R,T,19)^Q1(R,T,61)^ML(R,T,6),U=gd(R,T,19)^Z1(R,T,61)^RL(R,T,6),W=iDe($,U,id[v-7],id[v-16]),M=sDe(W,I,L,nd[v-7],nd[v-16]);nd[v]=M|0,id[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const C=pd(h,f,14)^pd(h,f,18)^Q1(h,f,41),x=gd(h,f,14)^gd(h,f,18)^Z1(h,f,41),I=h&p^~h&m,$=f&g^~f&w,R=oDe(b,x,$,IDe[v],id[v]),T=aDe(R,y,C,I,$De[v],nd[v]),L=R|0,U=pd(n,i,28)^Q1(n,i,34)^Q1(n,i,39),W=gd(n,i,28)^Z1(n,i,34)^Z1(n,i,39),M=n&s^n&a^s&a,A=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=La(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const _=UT(L,W,A);n=BT(_,T,U,M),i=_|0}({h:n,l:i}=La(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=La(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=La(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=La(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=La(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=La(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=La(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=La(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){ma(nd,id)}destroy(){ma(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},TDe=class extends VT{constructor(){super(48),this.Ah=Pi[0]|0,this.Al=Pi[1]|0,this.Bh=Pi[2]|0,this.Bl=Pi[3]|0,this.Ch=Pi[4]|0,this.Cl=Pi[5]|0,this.Dh=Pi[6]|0,this.Dl=Pi[7]|0,this.Eh=Pi[8]|0,this.El=Pi[9]|0,this.Fh=Pi[10]|0,this.Fl=Pi[11]|0,this.Gh=Pi[12]|0,this.Gl=Pi[13]|0,this.Hh=Pi[14]|0,this.Hl=Pi[15]|0}};const Oi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let PDe=class extends VT{constructor(){super(32),this.Ah=Oi[0]|0,this.Al=Oi[1]|0,this.Bh=Oi[2]|0,this.Bl=Oi[3]|0,this.Ch=Oi[4]|0,this.Cl=Oi[5]|0,this.Dh=Oi[6]|0,this.Dl=Oi[7]|0,this.Eh=Oi[8]|0,this.El=Oi[9]|0,this.Fh=Oi[10]|0,this.Fl=Oi[11]|0,this.Gh=Oi[12]|0,this.Gl=Oi[13]|0,this.Hh=Oi[14]|0,this.Hl=Oi[15]|0}};const Ix=s2(()=>new SDe),NDe=s2(()=>new VT),ODe=s2(()=>new TDe),MDe=s2(()=>new PDe),RDe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Tn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),He=new Uint32Array(32);function sd(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=He[2*t],c=He[2*t+1],u=He[2*e],h=He[2*e+1],f=He[2*r],p=He[2*r+1],g=He[2*n],m=He[2*n+1],w=UT(l,u,o);c=BT(w,c,h,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:Jje(m,g),Dl:Xje(m)},{h:p,l:f}=La(p,f,m,g),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:pd(h,u,24),Bl:gd(h,u,24)},He[2*t]=l,He[2*t+1]=c,He[2*e]=u,He[2*e+1]=h,He[2*r]=f,He[2*r+1]=p,He[2*n]=g,He[2*n+1]=m}function od(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=He[2*t],c=He[2*t+1],u=He[2*e],h=He[2*e+1],f=He[2*r],p=He[2*r+1],g=He[2*n],m=He[2*n+1],w=UT(l,u,o);c=BT(w,c,h,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:pd(m,g,16),Dl:gd(m,g,16)},{h:p,l:f}=La(p,f,m,g),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:Q1(h,u,63),Bl:Z1(h,u,63)},He[2*t]=l,He[2*t+1]=c,He[2*e]=u,He[2*e+1]=h,He[2*r]=f,He[2*r+1]=p,He[2*n]=g,He[2*n+1]=m}function jDe(t,e={},r,n,i){if(Iu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let DDe=class extends $x{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Iu(e),Iu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=rv(this.buffer)}update(e){uh(this),e=rl(e),ga(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(md(i),this.compress(i,0,!1),md(i),this.pos=0);const c=Math.min(r-this.pos,s-l),u=o+l;if(c===r&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));md(h);for(let f=0;l+r<s;f+=i.length,l+=r)this.length+=r,this.compress(h,f,!1);md(h);continue}n.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){uh(this),HT(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,ma(this.buffer.subarray(r)),md(n),this.compress(n,0,!0),md(n);const i=rv(e);this.get().forEach((s,o)=>i[o]=Fc(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},LDe=class extends DDe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Tn[0]|0,this.v0h=Tn[1]|0,this.v1l=Tn[2]|0,this.v1h=Tn[3]|0,this.v2l=Tn[4]|0,this.v2h=Tn[5]|0,this.v3l=Tn[6]|0,this.v3h=Tn[7]|0,this.v4l=Tn[8]|0,this.v4h=Tn[9]|0,this.v5l=Tn[10]|0,this.v5h=Tn[11]|0,this.v6l=Tn[12]|0,this.v6h=Tn[13]|0,this.v7l=Tn[14]|0,this.v7h=Tn[15]|0,jDe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=rl(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=rl(s);const a=rv(s);this.v4l^=Fc(a[0]),this.v4h^=Fc(a[1]),this.v5l^=Fc(a[2]),this.v5h^=Fc(a[3])}if(i!==void 0){i=rl(i);const a=rv(i);this.v6l^=Fc(a[0]),this.v6h^=Fc(a[1]),this.v7l^=Fc(a[2]),this.v7h^=Fc(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:g,v7l:m,v7h:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=g|0,this.v7l=m|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((l,c)=>He[c]=l),He.set(Tn,16);let{h:i,l:s}=pte(BigInt(this.length));He[24]=Tn[8]^s,He[25]=Tn[9]^i,n&&(He[28]=~He[28],He[29]=~He[29]);let o=0;const a=RDe;for(let l=0;l<12;l++)sd(0,4,8,12,e,r+2*a[o++]),od(0,4,8,12,e,r+2*a[o++]),sd(1,5,9,13,e,r+2*a[o++]),od(1,5,9,13,e,r+2*a[o++]),sd(2,6,10,14,e,r+2*a[o++]),od(2,6,10,14,e,r+2*a[o++]),sd(3,7,11,15,e,r+2*a[o++]),od(3,7,11,15,e,r+2*a[o++]),sd(0,5,10,15,e,r+2*a[o++]),od(0,5,10,15,e,r+2*a[o++]),sd(1,6,11,12,e,r+2*a[o++]),od(1,6,11,12,e,r+2*a[o++]),sd(2,7,8,13,e,r+2*a[o++]),od(2,7,8,13,e,r+2*a[o++]),sd(3,4,9,14,e,r+2*a[o++]),od(3,4,9,14,e,r+2*a[o++]);this.v0l^=He[0]^He[16],this.v0h^=He[1]^He[17],this.v1l^=He[2]^He[18],this.v1h^=He[3]^He[19],this.v2l^=He[4]^He[20],this.v2h^=He[5]^He[21],this.v3l^=He[6]^He[22],this.v3h^=He[7]^He[23],this.v4l^=He[8]^He[24],this.v4h^=He[9]^He[25],this.v5l^=He[10]^He[26],this.v5h^=He[11]^He[27],this.v6l^=He[12]^He[28],this.v6h^=He[13]^He[29],this.v7l^=He[14]^He[30],this.v7h^=He[15]^He[31],ma(He)}destroy(){this.destroyed=!0,ma(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const FDe=dDe(t=>new LDe(t)),UDe="https://rpc.walletconnect.org/v1";function kte(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(EDe(r)).toString("hex")}async function BDe(t,e,r,n,i,s){switch(r.t){case"eip191":return await zDe(t,e,r.s);case"eip1271":return await WDe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function zDe(t,e,r){return(await TPe({hash:kte(e),signature:r})).toLowerCase()===t.toLowerCase()}async function WDe(t,e,r,n,i,s){const o=_f(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=r.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:kte(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||UDe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:HDe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:g}=await p.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function HDe(){return Date.now()+Math.floor(Math.random()*1e3)}function qDe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return t2.encode(s)}function VDe(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=FDe(n,{dkLen:32});return t2.encode(i)}function FL(t){const e=new Uint8Array(Ix(GDe(t)));return t2.encode(e)}function GDe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function UL(t){const e=Buffer.from(t,"base64"),r=pNe(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=sNe(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=MDe(s);return ENe.encode(o).replace(/=+$/,"")}function ME(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function KDe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(ME(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(ME(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(ME(n.length)),i.push(n);const s=Buffer.concat(i),o=Ix(s);return Buffer.from(o).toString("hex").toUpperCase()}var YDe=Object.defineProperty,QDe=Object.defineProperties,ZDe=Object.getOwnPropertyDescriptors,BL=Object.getOwnPropertySymbols,JDe=Object.prototype.hasOwnProperty,XDe=Object.prototype.propertyIsEnumerable,zL=(t,e,r)=>e in t?YDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eLe=(t,e)=>{for(var r in e||(e={}))JDe.call(e,r)&&zL(t,r,e[r]);if(BL)for(var r of BL(e))XDe.call(e,r)&&zL(t,r,e[r]);return t},tLe=(t,e)=>QDe(t,ZDe(e));const rLe="did:pkh:",GT=t=>t==null?void 0:t.split(":"),nLe=t=>{const e=t&&GT(t);if(e)return t.includes(rLe)?e[3]:e[1]},GA=t=>{const e=t&&GT(t);if(e)return e[2]+":"+e[3]},i6=t=>{const e=t&&GT(t);if(e)return e.pop()};async function WL(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=Ste(i,i.iss),o=i6(i.iss);return await BDe(o,s,n,GA(i.iss),r)}const Ste=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=i6(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${nLe(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=$3(t.resources);if(g){const m=iv(g);i=hLe(i,m)}return[r,n,"",i,"",s,o,a,l,c,u,h,f,p].filter(m=>m!=null).join(`
`)};function iLe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function sLe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Zf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function oLe(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:aLe(e,r,n)}}}function aLe(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function $te(t){return Zf(t),`urn:recap:${iLe(t).replace(/=/g,"")}`}function iv(t){const e=sLe(t.replace("urn:recap:",""));return Zf(e),e}function lLe(t,e,r){const n=oLe(t,e,r);return $te(n)}function cLe(t){return t&&t.includes("urn:recap:")}function uLe(t,e){const r=iv(t),n=iv(e),i=dLe(r,n);return $te(i)}function dLe(t,e){Zf(t),Zf(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;n.att[i]=tLe(eLe({},n.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),n}function hLe(t="",e){Zf(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function HL(t){var e;const r=iv(t);Zf(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function qL(t){const e=iv(t);Zf(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function $3(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return cLe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Ite(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function KA(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function RE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ps(t,...e){if(!Ite(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function VL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fLe(t,e){Ps(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Xd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Kg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function pLe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const gLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mLe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function YA(t){if(typeof t=="string")t=mLe(t);else if(Ite(t))t=QA(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function yLe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function wLe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const vLe=(t,e)=>{function r(n,...i){if(Ps(n),!gLe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?Ps(c):Ps(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ps(i[1]);const o=e(n,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");Ps(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Ps(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(Ps(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(r,t),r};function GL(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!xLe(e))throw new Error("invalid output, must be aligned");return e}function KL(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function bLe(t,e,r){KA(r);const n=new Uint8Array(16),i=pLe(n);return KL(i,0,BigInt(e),r),KL(i,8,BigInt(t),r),n}function xLe(t){return t.byteOffset%4===0}function QA(t){return Uint8Array.from(t)}const Tte=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),ELe=Tte("expand 16-byte k"),_Le=Tte("expand 32-byte k"),CLe=Xd(ELe),ALe=Xd(_Le);function or(t,e){return t<<e|t>>>32-e}function ZA(t){return t.byteOffset%4===0}const _b=64,kLe=16,Pte=2**32-1,YL=new Uint32Array;function SLe(t,e,r,n,i,s,o,a){const l=i.length,c=new Uint8Array(_b),u=Xd(c),h=ZA(i)&&ZA(s),f=h?Xd(i):YL,p=h?Xd(s):YL;for(let g=0;g<l;o++){if(t(e,r,n,u,o,a),o>=Pte)throw new Error("arx: counter overflow");const m=Math.min(_b,l-g);if(h&&m===_b){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<kLe;y++)b=w+y,p[b]=f[b]^u[y];g+=_b;continue}for(let w=0,y;w<m;w++)y=g+w,s[y]=i[y]^c[w];g+=m}}function $Le(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=yLe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return RE(i),RE(o),KA(s),KA(r),(a,l,c,u,h=0)=>{Ps(a),Ps(l),Ps(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),Ps(u),RE(h),h<0||h>=Pte)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let g=a.length,m,w;if(g===32)p.push(m=QA(a)),w=ALe;else if(g===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),w=CLe,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);ZA(l)||p.push(l=QA(l));const y=Xd(m);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,y,Xd(l.subarray(0,16)),y),l=l.subarray(16)}const b=16-i;if(b!==l.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const C=new Uint8Array(12);C.set(l,s?0:12-l.length),l=C,p.push(l)}const v=Xd(l);return SLe(t,w,y,v,c,u,h,o),Kg(...p),u}}const ti=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let ILe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=YA(e),Ps(e,32);const r=ti(e,0),n=ti(e,2),i=ti(e,4),s=ti(e,6),o=ti(e,8),a=ti(e,10),l=ti(e,12),c=ti(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ti(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],g=o[7],m=o[8],w=o[9],y=ti(e,r+0),b=ti(e,r+2),v=ti(e,r+4),C=ti(e,r+6),x=ti(e,r+8),I=ti(e,r+10),$=ti(e,r+12),R=ti(e,r+14);let T=s[0]+(y&8191),L=s[1]+((y>>>13|b<<3)&8191),U=s[2]+((b>>>10|v<<6)&8191),W=s[3]+((v>>>7|C<<9)&8191),M=s[4]+((C>>>4|x<<12)&8191),A=s[5]+(x>>>1&8191),_=s[6]+((x>>>14|I<<2)&8191),S=s[7]+((I>>>11|$<<5)&8191),O=s[8]+(($>>>8|R<<8)&8191),P=s[9]+(R>>>5|i),N=0,D=N+T*a+L*(5*w)+U*(5*m)+W*(5*g)+M*(5*p);N=D>>>13,D&=8191,D+=A*(5*f)+_*(5*h)+S*(5*u)+O*(5*c)+P*(5*l),N+=D>>>13,D&=8191;let F=N+T*l+L*a+U*(5*w)+W*(5*m)+M*(5*g);N=F>>>13,F&=8191,F+=A*(5*p)+_*(5*f)+S*(5*h)+O*(5*u)+P*(5*c),N+=F>>>13,F&=8191;let k=N+T*c+L*l+U*a+W*(5*w)+M*(5*m);N=k>>>13,k&=8191,k+=A*(5*g)+_*(5*p)+S*(5*f)+O*(5*h)+P*(5*u),N+=k>>>13,k&=8191;let z=N+T*u+L*c+U*l+W*a+M*(5*w);N=z>>>13,z&=8191,z+=A*(5*m)+_*(5*g)+S*(5*p)+O*(5*f)+P*(5*h),N+=z>>>13,z&=8191;let V=N+T*h+L*u+U*c+W*l+M*a;N=V>>>13,V&=8191,V+=A*(5*w)+_*(5*m)+S*(5*g)+O*(5*p)+P*(5*f),N+=V>>>13,V&=8191;let j=N+T*f+L*h+U*u+W*c+M*l;N=j>>>13,j&=8191,j+=A*a+_*(5*w)+S*(5*m)+O*(5*g)+P*(5*p),N+=j>>>13,j&=8191;let G=N+T*p+L*f+U*h+W*u+M*c;N=G>>>13,G&=8191,G+=A*l+_*a+S*(5*w)+O*(5*m)+P*(5*g),N+=G>>>13,G&=8191;let Q=N+T*g+L*p+U*f+W*h+M*u;N=Q>>>13,Q&=8191,Q+=A*c+_*l+S*a+O*(5*w)+P*(5*m),N+=Q>>>13,Q&=8191;let K=N+T*m+L*g+U*p+W*f+M*h;N=K>>>13,K&=8191,K+=A*u+_*c+S*l+O*a+P*(5*w),N+=K>>>13,K&=8191;let re=N+T*w+L*m+U*g+W*p+M*f;N=re>>>13,re&=8191,re+=A*h+_*u+S*c+O*l+P*a,N+=re>>>13,re&=8191,N=(N<<2)+N|0,N=N+D|0,D=N&8191,N=N>>>13,F+=N,s[0]=D,s[1]=F,s[2]=k,s[3]=z,s[4]=V,s[5]=j,s[6]=G,s[7]=Q,s[8]=K,s[9]=re}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;Kg(n)}update(e){VL(this),e=YA(e),Ps(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Kg(this.h,this.r,this.buffer,this.pad)}digestInto(e){VL(this),fLe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function TLe(t){const e=(n,i)=>t(i).update(YA(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const PLe=TLe(t=>new ILe(t));function NLe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],g=e[4],m=e[5],w=e[6],y=e[7],b=i,v=r[0],C=r[1],x=r[2],I=o,$=a,R=l,T=c,L=u,U=h,W=f,M=p,A=g,_=m,S=w,O=y,P=b,N=v,D=C,F=x;for(let z=0;z<s;z+=2)I=I+L|0,P=or(P^I,16),A=A+P|0,L=or(L^A,12),I=I+L|0,P=or(P^I,8),A=A+P|0,L=or(L^A,7),$=$+U|0,N=or(N^$,16),_=_+N|0,U=or(U^_,12),$=$+U|0,N=or(N^$,8),_=_+N|0,U=or(U^_,7),R=R+W|0,D=or(D^R,16),S=S+D|0,W=or(W^S,12),R=R+W|0,D=or(D^R,8),S=S+D|0,W=or(W^S,7),T=T+M|0,F=or(F^T,16),O=O+F|0,M=or(M^O,12),T=T+M|0,F=or(F^T,8),O=O+F|0,M=or(M^O,7),I=I+U|0,F=or(F^I,16),S=S+F|0,U=or(U^S,12),I=I+U|0,F=or(F^I,8),S=S+F|0,U=or(U^S,7),$=$+W|0,P=or(P^$,16),O=O+P|0,W=or(W^O,12),$=$+W|0,P=or(P^$,8),O=O+P|0,W=or(W^O,7),R=R+M|0,N=or(N^R,16),A=A+N|0,M=or(M^A,12),R=R+M|0,N=or(N^R,8),A=A+N|0,M=or(M^A,7),T=T+L|0,D=or(D^T,16),_=_+D|0,L=or(L^_,12),T=T+L|0,D=or(D^T,8),_=_+D|0,L=or(L^_,7);let k=0;n[k++]=o+I|0,n[k++]=a+$|0,n[k++]=l+R|0,n[k++]=c+T|0,n[k++]=u+L|0,n[k++]=h+U|0,n[k++]=f+W|0,n[k++]=p+M|0,n[k++]=g+A|0,n[k++]=m+_|0,n[k++]=w+S|0,n[k++]=y+O|0,n[k++]=b+P|0,n[k++]=v+N|0,n[k++]=C+D|0,n[k++]=x+F|0}const OLe=$Le(NLe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),MLe=new Uint8Array(16),QL=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(MLe.subarray(r))},RLe=new Uint8Array(32);function ZL(t,e,r,n,i){const s=t(e,r,RLe),o=PLe.create(s);i&&QL(o,i),QL(o,n);const a=bLe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return Kg(s,a),l}const jLe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=GL(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=ZL(t,e,r,a,n);return s.set(l,o),Kg(l),s},decrypt(i,s){s=GL(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=ZL(t,e,r,o,n);if(!wLe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),Kg(l),s}}),Nte=vLe({blockSize:64,nonceLength:12,tagLength:16},jLe(OLe));let Ote=class extends $x{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,WT(e);const n=rl(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ma(s)}update(e){return uh(this),this.iHash.update(e),this}digestInto(e){uh(this),ga(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Tx=(t,e,r)=>new Ote(t,e).update(r).digest();Tx.create=(t,e)=>new Ote(t,e);function DLe(t,e,r){return WT(t),r===void 0&&(r=new Uint8Array(t.outputLen)),Tx(t,rl(r),rl(e))}const jE=Uint8Array.from([0]),JL=Uint8Array.of();function LLe(t,e,r,n=32){WT(t),Iu(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=JL);const o=new Uint8Array(s*i),a=Tx.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)jE[0]=u+1,l.update(u===0?JL:c).update(r).update(jE).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),ma(c,jE),o.slice(0,n)}const FLe=(t,e,r,n,i)=>LLe(t,DLe(t,e,r),n,i),Px=Ix,KT=BigInt(0),JA=BigInt(1);function s6(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Cb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Mte(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KT:BigInt("0x"+t)}function Nx(t){return Mte(nv(t))}function o6(t){return ga(t),Mte(nv(Uint8Array.from(t).reverse()))}function YT(t,e){return qT(t.toString(16).padStart(e*2,"0"))}function QT(t,e){return YT(t,e).reverse()}function Is(t,e,r){let n;if(typeof e=="string")try{n=qT(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(zT(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const DE=t=>typeof t=="bigint"&&KT<=t;function ULe(t,e,r){return DE(t)&&DE(e)&&DE(r)&&e<=t&&t<r}function XA(t,e,r,n){if(!ULe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function BLe(t){let e;for(e=0;t>KT;t>>=JA,e+=1);return e}const Ox=t=>(JA<<BigInt(t))-JA;function zLe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>r(o,s,...f),u=(f=n(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const g=s.slice();p.push(g),f+=s.length}return lf(...p)};return(f,p)=>{l(),u(f);let g;for(;!(g=p(h()));)u();return l(),g}}function Mx(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function XL(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ls=BigInt(0),fs=BigInt(1),cf=BigInt(2),WLe=BigInt(3),Rte=BigInt(4),jte=BigInt(5),Dte=BigInt(8);function Jo(t,e){const r=t%e;return r>=Ls?r:e+r}function ja(t,e,r){let n=t;for(;e-- >Ls;)n*=n,n%=r;return n}function eF(t,e){if(t===Ls)throw new Error("invert: expected non-zero number");if(e<=Ls)throw new Error("invert: expected positive modulus, got "+e);let r=Jo(t,e),n=e,i=Ls,s=fs;for(;r!==Ls;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==fs)throw new Error("invert: does not exist");return Jo(i,e)}function Lte(t,e){const r=(t.ORDER+fs)/Rte,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function HLe(t,e){const r=(t.ORDER-jte)/Dte,n=t.mul(e,cf),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,cf),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function qLe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-fs,r=0;for(;e%cf===Ls;)e/=cf,r++;let n=cf;const i=Mm(t);for(;tF(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Lte;let s=i.pow(n,e);const o=(e+fs)/cf;return function(a,l){if(a.is0(l))return l;if(tF(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,g=a.sqr(h);for(;!a.eql(g,a.ONE);)if(p++,g=a.sqr(g),p===c)throw new Error("Cannot find square root");const m=fs<<BigInt(c-p-1),w=a.pow(u,m);c=p,u=a.sqr(w),h=a.mul(h,u),f=a.mul(f,w)}return f}}function VLe(t){return t%Rte===WLe?Lte:t%Dte===jte?HLe:qLe(t)}const GLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KLe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=GLe.reduce((n,i)=>(n[i]="function",n),e);return Mx(t,r),t}function YLe(t,e,r){if(r<Ls)throw new Error("invalid exponent, negatives unsupported");if(r===Ls)return t.ONE;if(r===fs)return e;let n=t.ONE,i=e;for(;r>Ls;)r&fs&&(n=t.mul(n,i)),i=t.sqr(i),r>>=fs;return n}function Fte(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function tF(t,e){const r=(t.ORDER-fs)/cf,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function QLe(t,e){e!==void 0&&Iu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Mm(t,e,r=!1,n={}){if(t<=Ls)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=QLe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:Ox(o),ZERO:Ls,ONE:fs,create:u=>Jo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Ls<=u&&u<t},is0:u=>u===Ls,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&fs)===fs,neg:u=>Jo(-u,t),eql:(u,h)=>u===h,sqr:u=>Jo(u*u,t),add:(u,h)=>Jo(u+h,t),sub:(u,h)=>Jo(u-h,t),mul:(u,h)=>Jo(u*h,t),pow:(u,h)=>YLe(c,u,h),div:(u,h)=>Jo(u*eF(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>eF(u,t),sqrt:s||(u=>(l||(l=VLe(t)),l(c,u))),toBytes:u=>r?QT(u,a):YT(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?o6(u):Nx(u)},invertBatch:u=>Fte(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function Ute(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Bte(t){const e=Ute(t);return e+Math.ceil(e/2)}function ZLe(t,e,r=!1){const n=t.length,i=Ute(e),s=Bte(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?o6(t):Nx(t),a=Jo(o,e-fs)+fs;return r?QT(a,i):YT(a,i)}const Yg=BigInt(0),uf=BigInt(1);function ky(t,e){const r=e.negate();return t?r:e}function JLe(t,e,r){const n=s=>s.pz,i=Fte(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function zte(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function LE(t,e){zte(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=Ox(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function rF(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=uf);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function XLe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function eFe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const FE=new WeakMap,Wte=new WeakMap;function UE(t){return Wte.get(t)||1}function nF(t){if(t!==Yg)throw new Error("invalid wNAF")}function tFe(t,e){return{constTimeNegate:ky,hasPrecomputes(r){return UE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>Yg;)n&uf&&(i=i.add(s)),s=s.double(),n>>=uf;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=LE(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=LE(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:g}=rF(i,l,a);i=c,h?o=o.add(ky(p,n[g])):s=s.add(ky(f,n[u]))}return nF(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=LE(r,e);for(let a=0;a<o.windows&&i!==Yg;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=rF(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return nF(i),s},getPrecomputes(r,n,i){let s=FE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),FE.set(n,s))),s},wNAFCached(r,n,i){const s=UE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=UE(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){zte(n,e),Wte.set(r,n),FE.delete(r)}}}function rFe(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>Yg||n>Yg;)r&uf&&(s=s.add(i)),n&uf&&(o=o.add(i)),i=i.double(),r>>=uf,n>>=uf;return{p1:s,p2:o}}function nFe(t,e,r,n){XLe(r,t),eFe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=BLe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Ox(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(f=f.add(g),p!==0)for(let m=0;m<l;m++)f=f.double()}return f}function iF(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return KLe(e),e}else return Mm(t)}function iFe(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Yg))throw new Error(`CURVE.${o} must be positive bigint`)}const n=iF(e.p,r.Fp),i=iF(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const v1=BigInt(0),Hp=BigInt(1),Ab=BigInt(2);function sFe(t){return Mx(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function oFe(t){const e=sFe(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||Om,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?Ab**BigInt(254):Ab**BigInt(447),g=a?BigInt(8)*Ab**BigInt(251)-Hp:BigInt(4)*Ab**BigInt(445)-Hp,m=p+g+Hp,w=T=>Jo(T,r),y=b(h);function b(T){return QT(w(T),u)}function v(T){const L=Is("u coordinate",T,u);return a&&(L[31]&=127),w(o6(L))}function C(T){return o6(i(Is("scalar",T,u)))}function x(T,L){const U=R(v(L),C(T));if(U===v1)throw new Error("invalid private or public key received");return b(U)}function I(T){return x(T,y)}function $(T,L,U){const W=w(T*(L-U));return L=w(L-W),U=w(U+W),{x_2:L,x_3:U}}function R(T,L){XA("u",T,v1,r),XA("scalar",L,p,m);const U=L,W=T;let M=Hp,A=v1,_=T,S=Hp,O=v1;for(let N=BigInt(c-1);N>=v1;N--){const D=U>>N&Hp;O^=D,{x_2:M,x_3:_}=$(O,M,_),{x_2:A,x_3:S}=$(O,A,S),O=D;const F=M+A,k=w(F*F),z=M-A,V=w(z*z),j=k-V,G=_+S,Q=_-S,K=w(Q*F),re=w(G*z),le=K+re,ne=K-re;_=w(le*le),S=w(W*w(ne*ne)),M=w(k*V),A=w(j*(k+w(f*j)))}({x_2:M,x_3:_}=$(O,M,_)),{x_2:A,x_3:S}=$(O,A,S);const P=s(A);return w(M*P)}return{scalarMult:x,scalarMultBase:I,getSharedSecret:(T,L)=>x(T,L),getPublicKey:T=>I(T),utils:{randomPrivateKey:()=>l(u)},GuBytes:y.slice()}}BigInt(0);const aFe=BigInt(1),sF=BigInt(2),lFe=BigInt(3),cFe=BigInt(5);BigInt(8);const Hte={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function uFe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Hte.p,o=t*t%s*t%s,a=ja(o,sF,s)*o%s,l=ja(a,aFe,s)*t%s,c=ja(l,cFe,s)*l%s,u=ja(c,e,s)*c%s,h=ja(u,r,s)*u%s,f=ja(h,n,s)*h%s,p=ja(f,i,s)*f%s,g=ja(p,i,s)*f%s,m=ja(g,e,s)*c%s;return{pow_p_5_8:ja(m,sF,s)*t%s,b2:o}}function dFe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const ek=(()=>{const t=Hte.p;return oFe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=uFe(e);return Jo(ja(r,lFe,t)*n,t)},adjustScalarBytes:dFe})})();function oF(t){t.lowS!==void 0&&s6("lowS",t.lowS),t.prehash!==void 0&&s6("prehash",t.prehash)}let hFe=class extends Error{constructor(e=""){super(e)}};const Jc={Err:hFe,_tlv:{encode:(t,e)=>{const{Err:r}=Jc;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Cb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Cb(i.length/2|128):"";return Cb(t)+s+i+e},decode(t,e){const{Err:r}=Jc;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Jc;if(t<Sy)throw new e("integer: negative integers are not allowed");let r=Cb(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Jc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Nx(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Jc,i=Is("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Jc,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Sy=BigInt(0),$y=BigInt(1),fFe=BigInt(2),kb=BigInt(3),pFe=BigInt(4);function gFe(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function qte(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Is("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function mFe(t,e={}){const{Fp:r,Fn:n}=iFe("weierstrass",t,e),{h:i,n:s}=t;Mx(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(R,T,L){const{x:U,y:W}=T.toAffine(),M=r.toBytes(U);if(s6("isCompressed",L),L){a();const A=!r.isOdd(W);return lf(Vte(A),M)}else return lf(Uint8Array.of(4),M,r.toBytes(W))}function c(R){ga(R);const T=r.BYTES,L=T+1,U=2*T+1,W=R.length,M=R[0],A=R.subarray(1);if(W===L&&(M===2||M===3)){const _=r.fromBytes(A);if(!r.isValid(_))throw new Error("bad point: is not on curve, wrong x");const S=f(_);let O;try{O=r.sqrt(S)}catch(N){const D=N instanceof Error?": "+N.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const P=r.isOdd(O);return(M&1)===1!==P&&(O=r.neg(O)),{x:_,y:O}}else if(W===U&&M===4){const _=r.fromBytes(A.subarray(T*0,T*1)),S=r.fromBytes(A.subarray(T*1,T*2));if(!p(_,S))throw new Error("bad point: is not on curve");return{x:_,y:S}}else throw new Error(`bad point: got length ${W}, expected compressed=${L} or uncompressed=${U}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=gFe(r,t.a,t.b);function p(R,T){const L=r.sqr(T),U=f(R);return r.eql(L,U)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(t.a,kb),pFe),m=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function w(R,T,L=!1){if(!r.isValid(T)||L&&r.is0(T))throw new Error(`bad point coordinate ${R}`);return T}function y(R){if(!(R instanceof x))throw new Error("ProjectivePoint expected")}const b=XL((R,T)=>{const{px:L,py:U,pz:W}=R;if(r.eql(W,r.ONE))return{x:L,y:U};const M=R.is0();T==null&&(T=M?r.ONE:r.inv(W));const A=r.mul(L,T),_=r.mul(U,T),S=r.mul(W,T);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:A,y:_}}),v=XL(R=>{if(R.is0()){if(e.allowInfinityPoint&&!r.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:T,y:L}=R.toAffine();if(!r.isValid(T)||!r.isValid(L))throw new Error("bad point: x or y not field elements");if(!p(T,L))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(R,T,L,U,W){return L=new x(r.mul(L.px,R),L.py,L.pz),T=ky(U,T),L=ky(W,L),T.add(L)}class x{constructor(T,L,U){this.px=w("x",T),this.py=w("y",L,!0),this.pz=w("z",U),Object.freeze(this)}static fromAffine(T){const{x:L,y:U}=T||{};if(!T||!r.isValid(L)||!r.isValid(U))throw new Error("invalid affine point");if(T instanceof x)throw new Error("projective point not allowed");return r.is0(L)&&r.is0(U)?x.ZERO:new x(L,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){return JLe(x,"pz",T)}static fromBytes(T){return ga(T),x.fromHex(T)}static fromHex(T){const L=x.fromAffine(h(Is("pointHex",T)));return L.assertValidity(),L}static fromPrivateKey(T){const L=qte(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return x.BASE.multiply(L(T))}static msm(T,L){return nFe(x,n,T,L)}precompute(T=8,L=!0){return $.setWindowSize(this,T),L||this.multiply(kb),this}_setWindowSize(T){this.precompute(T)}assertValidity(){v(this)}hasEvenY(){const{y:T}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(T)}equals(T){y(T);const{px:L,py:U,pz:W}=this,{px:M,py:A,pz:_}=T,S=r.eql(r.mul(L,_),r.mul(M,W)),O=r.eql(r.mul(U,_),r.mul(A,W));return S&&O}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){const{a:T,b:L}=t,U=r.mul(L,kb),{px:W,py:M,pz:A}=this;let _=r.ZERO,S=r.ZERO,O=r.ZERO,P=r.mul(W,W),N=r.mul(M,M),D=r.mul(A,A),F=r.mul(W,M);return F=r.add(F,F),O=r.mul(W,A),O=r.add(O,O),_=r.mul(T,O),S=r.mul(U,D),S=r.add(_,S),_=r.sub(N,S),S=r.add(N,S),S=r.mul(_,S),_=r.mul(F,_),O=r.mul(U,O),D=r.mul(T,D),F=r.sub(P,D),F=r.mul(T,F),F=r.add(F,O),O=r.add(P,P),P=r.add(O,P),P=r.add(P,D),P=r.mul(P,F),S=r.add(S,P),D=r.mul(M,A),D=r.add(D,D),P=r.mul(D,F),_=r.sub(_,P),O=r.mul(D,N),O=r.add(O,O),O=r.add(O,O),new x(_,S,O)}add(T){y(T);const{px:L,py:U,pz:W}=this,{px:M,py:A,pz:_}=T;let S=r.ZERO,O=r.ZERO,P=r.ZERO;const N=t.a,D=r.mul(t.b,kb);let F=r.mul(L,M),k=r.mul(U,A),z=r.mul(W,_),V=r.add(L,U),j=r.add(M,A);V=r.mul(V,j),j=r.add(F,k),V=r.sub(V,j),j=r.add(L,W);let G=r.add(M,_);return j=r.mul(j,G),G=r.add(F,z),j=r.sub(j,G),G=r.add(U,W),S=r.add(A,_),G=r.mul(G,S),S=r.add(k,z),G=r.sub(G,S),P=r.mul(N,j),S=r.mul(D,z),P=r.add(S,P),S=r.sub(k,P),P=r.add(k,P),O=r.mul(S,P),k=r.add(F,F),k=r.add(k,F),z=r.mul(N,z),j=r.mul(D,j),k=r.add(k,z),z=r.sub(F,z),z=r.mul(N,z),j=r.add(j,z),F=r.mul(k,j),O=r.add(O,F),F=r.mul(G,j),S=r.mul(V,S),S=r.sub(S,F),F=r.mul(V,k),P=r.mul(G,P),P=r.add(P,F),new x(S,O,P)}subtract(T){return this.add(T.negate())}is0(){return this.equals(x.ZERO)}multiply(T){const{endo:L}=e;if(!n.isValidNot0(T))throw new Error("invalid scalar: out of range");let U,W;const M=A=>$.wNAFCached(this,A,x.normalizeZ);if(L){const{k1neg:A,k1:_,k2neg:S,k2:O}=L.splitScalar(T),{p:P,f:N}=M(_),{p:D,f:F}=M(O);W=N.add(F),U=C(L.beta,P,D,A,S)}else{const{p:A,f:_}=M(T);U=A,W=_}return x.normalizeZ([U,W])[0]}multiplyUnsafe(T){const{endo:L}=e,U=this;if(!n.isValid(T))throw new Error("invalid scalar: out of range");if(T===Sy||U.is0())return x.ZERO;if(T===$y)return U;if($.hasPrecomputes(this))return this.multiply(T);if(L){const{k1neg:W,k1:M,k2neg:A,k2:_}=L.splitScalar(T),{p1:S,p2:O}=rFe(x,U,M,_);return C(L.beta,S,O,W,A)}else return $.wNAFCachedUnsafe(U,T)}multiplyAndAddUnsafe(T,L,U){const W=this.multiplyUnsafe(L).add(T.multiplyUnsafe(U));return W.is0()?void 0:W}toAffine(T){return b(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return i===$y?!0:T?T(x,this):$.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:T}=e;return i===$y?this:T?T(x,this):this.multiplyUnsafe(i)}toBytes(T=!0){return s6("isCompressed",T),this.assertValidity(),u(x,this,T)}toRawBytes(T=!0){return this.toBytes(T)}toHex(T=!0){return nv(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(t.Gx,t.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO),x.Fp=r,x.Fn=n;const I=n.BITS,$=tFe(x,e.endo?Math.ceil(I/2):I);return x}function Vte(t){return Uint8Array.of(t?2:3)}function yFe(t,e,r={}){Mx(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||Om,i=e.hmac||((U,...W)=>Tx(e.hash,U,lf(...W))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(U){const W=a>>$y;return U>W}function u(U){return c(U)?o.neg(U):U}function h(U,W){if(!o.isValidNot0(W))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class f{constructor(W,M,A){h("r",W),h("s",M),this.r=W,this.s=M,A!=null&&(this.recovery=A),Object.freeze(this)}static fromCompact(W){const M=o.BYTES,A=Is("compactSignature",W,M*2);return new f(o.fromBytes(A.subarray(0,M)),o.fromBytes(A.subarray(M,M*2)))}static fromDER(W){const{r:M,s:A}=Jc.toSig(Is("DER",W));return new f(M,A)}assertValidity(){}addRecoveryBit(W){return new f(this.r,this.s,W)}recoverPublicKey(W){const M=s.ORDER,{r:A,s:_,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*fFe<M&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=S===2||S===3?A+a:A;if(!s.isValid(O))throw new Error("recovery id 2 or 3 invalid");const P=s.toBytes(O),N=t.fromHex(lf(Vte((S&1)===0),P)),D=o.inv(O),F=v(Is("msgHash",W)),k=o.create(-F*D),z=o.create(_*D),V=t.BASE.multiplyUnsafe(k).add(N.multiplyUnsafe(z));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(W){if(W==="compact")return lf(o.toBytes(this.r),o.toBytes(this.s));if(W==="der")return qT(Jc.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return nv(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return nv(this.toBytes("compact"))}}const p=qte(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),g={isValidPrivateKey(U){try{return p(U),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const U=a;return ZLe(n(Bte(U)),U)},precompute(U=8,W=t.BASE){return W.precompute(U,!1)}};function m(U,W=!0){return t.fromPrivateKey(U).toBytes(W)}function w(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const W=Is("key",U).length,M=s.BYTES,A=M+1,_=2*M+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===A))return W===A||W===_}function y(U,W,M=!0){if(w(U)===!0)throw new Error("first arg must be private key");if(w(W)===!1)throw new Error("second arg must be public key");return t.fromHex(W).multiply(p(U)).toBytes(M)}const b=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const W=Nx(U),M=U.length*8-l;return M>0?W>>BigInt(M):W},v=e.bits2int_modN||function(U){return o.create(b(U))},C=Ox(l);function x(U){return XA("num < 2^"+l,U,Sy,C),o.toBytes(U)}function I(U,W,M=$){if(["recovered","canonical"].some(V=>V in M))throw new Error("sign() legacy options not supported");const{hash:A}=e;let{lowS:_,prehash:S,extraEntropy:O}=M;_==null&&(_=!0),U=Is("msgHash",U),oF(M),S&&(U=Is("prehashed msgHash",A(U)));const P=v(U),N=p(W),D=[x(N),x(P)];if(O!=null&&O!==!1){const V=O===!0?n(s.BYTES):O;D.push(Is("extraEntropy",V))}const F=lf(...D),k=P;function z(V){const j=b(V);if(!o.isValidNot0(j))return;const G=o.inv(j),Q=t.BASE.multiply(j).toAffine(),K=o.create(Q.x);if(K===Sy)return;const re=o.create(G*o.create(k+K*N));if(re===Sy)return;let le=(Q.x===K?0:2)|Number(Q.y&$y),ne=re;return _&&c(re)&&(ne=u(re),le^=1),new f(K,ne,le)}return{seed:F,k2sig:z}}const $={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function T(U,W,M=$){const{seed:A,k2sig:_}=I(U,W,M);return zLe(e.hash.outputLen,o.BYTES,i)(A,_)}t.BASE.precompute(8);function L(U,W,M,A=R){const _=U;W=Is("msgHash",W),M=Is("publicKey",M),oF(A);const{lowS:S,prehash:O,format:P}=A;if("strict"in A)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&!["compact","der","js"].includes(P))throw new Error('format must be "compact", "der" or "js"');const N=typeof _=="string"||zT(_),D=!N&&!P&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!N&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,k;try{if(D)if(P===void 0||P==="js")F=new f(_.r,_.s);else throw new Error("invalid format");if(N){try{P!=="compact"&&(F=f.fromDER(_))}catch(le){if(!(le instanceof Jc.Err))throw le}!F&&P!=="der"&&(F=f.fromCompact(_))}k=t.fromHex(M)}catch{return!1}if(!F||S&&F.hasHighS())return!1;O&&(W=e.hash(W));const{r:z,s:V}=F,j=v(W),G=o.inv(V),Q=o.create(j*G),K=o.create(z*G),re=t.BASE.multiplyUnsafe(Q).add(k.multiplyUnsafe(K));return re.is0()?!1:o.create(re.x)===z}return Object.freeze({getPublicKey:m,getSharedSecret:y,sign:T,verify:L,utils:g,Point:t,Signature:f})}function wFe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Mm(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function vFe(t){const{CURVE:e,curveOpts:r}=wFe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function bFe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function xFe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=vFe(t),i=mFe(e,r),s=yFe(i,n,r);return bFe(t,s)}function tk(t,e){const r=n=>xFe({...t,hash:n});return{...r(e),create:r}}const Gte={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Kte={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Yte={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},EFe=Mm(Gte.p),_Fe=Mm(Kte.p),CFe=Mm(Yte.p),AFe=tk({...Gte,Fp:EFe,lowS:!1},Ix);tk({...Kte,Fp:_Fe,lowS:!1},ODe),tk({...Yte,Fp:CFe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},NDe);const kFe=AFe,Qte="base10",ps="base16",Ns="base64pad",Cd="base64url",o2="utf8",Zte=0,fu=1,a2=2,SFe=0,aF=1,Iy=12,ZT=32;function $Fe(){const t=ek.utils.randomPrivateKey(),e=ek.getPublicKey(t);return{privateKey:Ws(t,ps),publicKey:Ws(e,ps)}}function rk(){const t=Om(ZT);return Ws(t,ps)}function IFe(t,e){const r=ek.getSharedSecret(sa(t,ps),sa(e,ps)),n=FLe(Px,r,void 0,void 0,ZT);return Ws(n,ps)}function I3(t){const e=Px(sa(t,ps));return Ws(e,ps)}function Ko(t){const e=Px(sa(t,o2));return Ws(e,ps)}function Jte(t){return sa(`${t}`,Qte)}function Jf(t){return Number(Ws(t,Qte))}function Xte(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ere(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function TFe(t){const e=Jte(typeof t.type<"u"?t.type:Zte);if(Jf(e)===fu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?sa(t.senderPublicKey,ps):void 0,n=typeof t.iv<"u"?sa(t.iv,ps):Om(Iy),i=sa(t.symKey,ps),s=Nte(i,n).encrypt(sa(t.message,o2)),o=tre({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Cd?Xte(o):o}function PFe(t){const e=sa(t.symKey,ps),{sealed:r,iv:n}=sv({encoded:t.encoded,encoding:t.encoding}),i=Nte(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ws(i,o2)}function NFe(t,e){const r=Jte(a2),n=Om(Iy),i=sa(t,o2),s=tre({type:r,sealed:i,iv:n});return e===Cd?Xte(s):s}function OFe(t,e){const{sealed:r}=sv({encoded:t,encoding:e});return Ws(r,o2)}function tre(t){if(Jf(t.type)===a2)return Ws(Ay([t.type,t.sealed]),Ns);if(Jf(t.type)===fu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ws(Ay([t.type,t.senderPublicKey,t.iv,t.sealed]),Ns)}return Ws(Ay([t.type,t.iv,t.sealed]),Ns)}function sv(t){const e=(t.encoding||Ns)===Cd?ere(t.encoded):t.encoded,r=sa(e,Ns),n=r.slice(SFe,aF),i=aF;if(Jf(n)===fu){const l=i+ZT,c=l+Iy,u=r.slice(i,l),h=r.slice(l,c),f=r.slice(c);return{type:n,sealed:f,iv:h,senderPublicKey:u}}if(Jf(n)===a2){const l=r.slice(i),c=Om(Iy);return{type:n,sealed:l,iv:c}}const s=i+Iy,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function MFe(t,e){const r=sv({encoded:t,encoding:e==null?void 0:e.encoding});return rre({type:Jf(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ws(r.senderPublicKey,ps):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function rre(t){const e=(t==null?void 0:t.type)||Zte;if(e===fu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function lF(t){return t.type===fu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function cF(t){return t.type===a2}function RFe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Ay([new Uint8Array([4]),e,r])}function jFe(t,e){const[r,n,i]=t.split("."),s=Buffer.from(ere(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${r}.${n}`,c=Px(l),u=RFe(e);if(!kFe.verify(Ay([o,a]),c,u))throw new Error("Invalid signature");return WA(t).payload}const DFe="irn";function a6(t){return(t==null?void 0:t.relay)||{protocol:DFe}}function O0(t){const e=dje[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function LFe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function uF(t){if(!t.includes("wc:")){const c=fte(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:FFe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:LFe(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function FFe(t){return t.startsWith("//")?t.substring(2):t}function UFe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function dF(t){const e=new URLSearchParams,r=UFe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Sb(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var BFe=Object.defineProperty,zFe=Object.defineProperties,WFe=Object.getOwnPropertyDescriptors,hF=Object.getOwnPropertySymbols,HFe=Object.prototype.hasOwnProperty,qFe=Object.prototype.propertyIsEnumerable,fF=(t,e,r)=>e in t?BFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VFe=(t,e)=>{for(var r in e||(e={}))HFe.call(e,r)&&fF(t,r,e[r]);if(hF)for(var r of hF(e))qFe.call(e,r)&&fF(t,r,e[r]);return t},GFe=(t,e)=>zFe(t,WFe(e));function Rm(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function KFe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Rm(r.accounts))}),e}function YFe(t,e){const r=[];return Object.values(t).forEach(n=>{Rm(n.accounts).includes(e)&&r.push(...n.methods)}),r}function QFe(t,e){const r=[];return Object.values(t).forEach(n=>{Rm(n.accounts).includes(e)&&r.push(...n.events)}),r}function Rx(t){return t.includes(":")}function M0(t){return Rx(t)?t.split(":")[0]:t}function pF(t){var e,r,n;const i={};if(!cc(t))return i;for(const[s,o]of Object.entries(t)){const a=Rx(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=M0(s);i[u]=GFe(VFe({},i[u]),{chains:lc(a,(e=i[u])==null?void 0:e.chains),methods:lc(l,(r=i[u])==null?void 0:r.methods),events:lc(c,(n=i[u])==null?void 0:n.events)})}return i}function ZFe(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function gF(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=ZFe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=lc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function JFe(t,e){var r,n,i,s,o,a;const l=pF(t),c=pF(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:lc((r=l[f])==null?void 0:r.chains,(n=c[f])==null?void 0:n.chains),methods:lc((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:lc((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const XFe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eUe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function je(t,e){const{message:r,code:n}=eUe[t];return{message:e?`${r} ${e}`:r,code:n}}function Fr(t,e){const{message:r,code:n}=XFe[t];return{message:e?`${r} ${e}`:r,code:n}}function aa(t,e){return!!Array.isArray(t)}function cc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function jn(t){return typeof t>"u"}function An(t,e){return e&&jn(t)?!0:typeof t=="string"&&!!t.trim().length}function JT(t,e){return e&&jn(t)?!0:typeof t=="number"&&!isNaN(t)}function tUe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return af(i,n)?(n.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=Rm(a),h=r[o];(!af(lte(o,h),u)||!af(h.methods,l)||!af(h.events,c))&&(s=!1)}),s):!1}function l6(t){return An(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function rUe(t){if(An(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&l6(r)}}return!1}function nUe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(An(t,!1)){if(e(t))return!0;const r=fte(t);return e(r)}}catch{}return!1}function iUe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function sUe(t){return t==null?void 0:t.topic}function oUe(t,e){let r=null;return An(t==null?void 0:t.publicKey,!1)||(r=je("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function mF(t){let e=!0;return aa(t)?t.length&&(e=t.every(r=>An(r,!1))):e=!1,e}function aUe(t,e,r){let n=null;return aa(e)&&e.length?e.forEach(i=>{n||l6(i)||(n=Fr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):l6(t)||(n=Fr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function lUe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=aUe(i,lte(i,s),`${e} ${r}`);o&&(n=o)}),n}function cUe(t,e){let r=null;return aa(t)?t.forEach(n=>{r||rUe(n)||(r=Fr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Fr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function uUe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=cUe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function dUe(t,e){let r=null;return mF(t==null?void 0:t.methods)?mF(t==null?void 0:t.events)||(r=Fr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Fr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function nre(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=dUe(n,`${e}, namespace`);i&&(r=i)}),r}function hUe(t,e,r){let n=null;if(t&&cc(t)){const i=nre(t,e);i&&(n=i);const s=lUe(t,e,r);s&&(n=s)}else n=je("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function BE(t,e){let r=null;if(t&&cc(t)){const n=nre(t,e);n&&(r=n);const i=uUe(t,e);i&&(r=i)}else r=je("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function ire(t){return An(t.protocol,!0)}function fUe(t,e){let r=!1;return t?t&&aa(t)&&t.length&&t.forEach(n=>{r=ire(n)}):r=!0,r}function pUe(t){return typeof t=="number"}function ks(t){return typeof t<"u"&&typeof t!==null}function gUe(t){return!(!t||typeof t!="object"||!t.code||!JT(t.code,!1)||!t.message||!An(t.message,!1))}function mUe(t){return!(jn(t)||!An(t.method,!1))}function yUe(t){return!(jn(t)||jn(t.result)&&jn(t.error)||!JT(t.id,!1)||!An(t.jsonrpc,!1))}function wUe(t){return!(jn(t)||!An(t.name,!1))}function yF(t,e){return!(!l6(e)||!KFe(t).includes(e))}function vUe(t,e,r){return An(r,!1)?YFe(t,e).includes(r):!1}function bUe(t,e,r){return An(r,!1)?QFe(t,e).includes(r):!1}function wF(t,e,r){let n=null;const i=xUe(t),s=EUe(e),o=Object.keys(i),a=Object.keys(s),l=vF(Object.keys(t)),c=vF(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),af(o,a)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||n)return;const f=Rm(e[h].accounts);f.includes(h)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{n||(af(i[h].methods,s[h].methods)?af(i[h].events,s[h].events)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function xUe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function vF(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function EUe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Rm(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function _Ue(t,e){return JT(t,!1)&&t<=e.max&&t>=e.min}function bF(){const t=i2();return new Promise(e=>{switch(t){case yo.browser:e(CUe());break;case yo.reactNative:e(AUe());break;case yo.node:e(kUe());break;default:e(!0)}})}function CUe(){return Nm()&&(navigator==null?void 0:navigator.onLine)}async function AUe(){if(_h()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function kUe(){return!0}function SUe(t){switch(i2()){case yo.browser:$Ue(t);break;case yo.reactNative:IUe(t);break}}function $Ue(t){!_h()&&Nm()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function IUe(t){_h()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function TUe(){var t;return Nm()&&Yf()?((t=Yf())==null?void 0:t.visibilityState)==="visible":!0}const zE={};let b1=class{static get(e){return zE[e]}static set(e,r){zE[e]=r}static delete(e){delete zE[e]}};function PUe(t){const e=t2.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function NUe({publicKey:t,signature:e,payload:r}){var n;const i=nk(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=RUe(r.address),a=r.era==="00"?new Uint8Array([0]):nk(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${MUe(r.tip)}`),h=DUe(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=jUe(f.length+1);return new Uint8Array([...p,s,...f])}function OUe(t){const e=nk(t),r=_je.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function nk(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function MUe(t){return t.startsWith("0x")?t.slice(2):t}function RUe(t){const e=t2.decode(t)[0];return e===42?0:e===60?2:1}function jUe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function DUe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function LUe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=PUe(t.transaction.address),n=NUe({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return OUe(i)}class wp{}let FUe=class extends wp{constructor(e){super()}};const xF=Me.FIVE_SECONDS,vp={pulse:"heartbeat_pulse"};let UUe=class sre extends FUe{constructor(e){super(e),this.events=new No.EventEmitter,this.interval=xF,this.interval=(e==null?void 0:e.interval)||xF}static async init(e){const r=new sre(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Me.toMiliseconds(this.interval))}pulse(){this.events.emit(vp.pulse)}};function BUe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return BUe(t(...e))}catch(r){return Promise.reject(r)}}function zUe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function WUe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function T3(t){if(zUe(t))return String(t);if(WUe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return T3(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const ik="base64:";function HUe(t){return typeof t=="string"?t:ik+GUe(t)}function qUe(t){return typeof t!="string"||!t.startsWith(ik)?t:VUe(t.slice(ik.length))}function VUe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function GUe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function As(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function KUe(...t){return As(t.join(":"))}function $b(t){return t=As(t),t?t+":":""}function YUe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function QUe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ZUe="memory",JUe=()=>{const t=new Map;return{name:ZUe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function XUe(t={}){const e={mounts:{"":t.driver||JUe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=As(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await EF(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=g=>{let m=f.get(g.base);return m||(m={driver:g.driver,base:g.base,items:[]},f.set(g.base,m)),m};for(const g of c){const m=typeof g=="string",w=As(m?g:g.key),y=m?void 0:g.value,b=m||!g.options?u:{...u,...g.options},v=r(w);p(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...f.values()].map(g=>h(g))).then(g=>g.flat())},l={hasItem(c,u={}){c=As(c);const{relativeKey:h,driver:f}=r(c);return zn(f.hasItem,h,u)},getItem(c,u={}){c=As(c);const{relativeKey:h,driver:f}=r(c);return zn(f.getItem,h,u).then(p=>W1(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?zn(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:KUe(h.base,p.key),value:W1(p.value)}))):Promise.all(h.items.map(f=>zn(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:W1(p)})))))},getItemRaw(c,u={}){c=As(c);const{relativeKey:h,driver:f}=r(c);return f.getItemRaw?zn(f.getItemRaw,h,u):zn(f.getItem,h,u).then(p=>qUe(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=As(c);const{relativeKey:f,driver:p}=r(c);p.setItem&&(await zn(p.setItem,f,T3(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return zn(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:T3(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>zn(h.driver.setItem,f.relativeKey,T3(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=As(c);const{relativeKey:f,driver:p}=r(c);if(p.setItemRaw)await zn(p.setItemRaw,f,u,h);else if(p.setItem)await zn(p.setItem,f,HUe(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=As(c);const{relativeKey:h,driver:f}=r(c);f.removeItem&&(await zn(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await zn(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=As(c);const{relativeKey:h,driver:f}=r(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await zn(f.getMeta,h,u)),!u.nativeOnly){const g=await zn(f.getItem,h+"$",u).then(m=>W1(m));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var w;c=$b(c);const h=n(c,!0);let f=[];const p=[];let g=!0;for(const y of h){(w=y.driver.flags)!=null&&w.maxDepth||(g=!1);const b=await zn(y.driver.getKeys,y.relativeBase,u);for(const v of b){const C=y.mountpoint+As(v);f.some(x=>C.startsWith(x))||p.push(C)}f=[y.mountpoint,...f.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!g;return p.filter(y=>(!m||YUe(y,u.maxDepth))&&QUe(y,c))},async clear(c,u={}){c=$b(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return zn(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>_F(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=$b(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(EF(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){var h,f;c=$b(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((f=(h=e.unwatch)[c])==null||f.call(h),delete e.unwatch[c]),u&&await _F(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=As(c)+":";const u=r(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=As(c),n(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function EF(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function _F(t){typeof t.dispose=="function"&&await zn(t.dispose)}function bp(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function ore(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=bp(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let WE;function l2(){return WE||(WE=ore("keyval-store","keyval")),WE}function CF(t,e=l2()){return e("readonly",r=>bp(r.get(t)))}function eBe(t,e,r=l2()){return r("readwrite",n=>(n.put(e,t),bp(n.transaction)))}function tBe(t,e=l2()){return e("readwrite",r=>(r.delete(t),bp(r.transaction)))}function rBe(t=l2()){return t("readwrite",e=>(e.clear(),bp(e.transaction)))}function nBe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},bp(t.transaction)}function iBe(t=l2()){return t("readonly",e=>{if(e.getAllKeys)return bp(e.getAllKeys());const r=[];return nBe(e,n=>r.push(n.key)).then(()=>r)})}const sBe="idb-keyval";var oBe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=ore(t.dbName,t.storeName)),{name:sBe,options:t,async hasItem(i){return!(typeof await CF(r(i),n)>"u")},async getItem(i){return await CF(r(i),n)??null},setItem(i,s){return eBe(r(i),s,n)},removeItem(i){return tBe(r(i),n)},getKeys(){return iBe(n)},clear(){return rBe(n)}}};const aBe="WALLET_CONNECT_V2_INDEXED_DB",lBe="keyvaluestorage";let cBe=class{constructor(){this.indexedDb=XUe({driver:oBe({dbName:aBe,storeName:lBe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,$u(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},P3={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof HE<"u"&&HE.localStorage?P3.exports=HE.localStorage:typeof window<"u"&&window.localStorage?P3.exports=window.localStorage:P3.exports=new e})();function uBe(t){var e;return[t[0],Qf((e=t[1])!=null?e:"")]}let dBe=class{constructor(){this.localStorage=P3.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(uBe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Qf(r)}async setItem(e,r){this.localStorage.setItem(e,$u(r))}async removeItem(e){this.localStorage.removeItem(e)}};const hBe="wc_storage_version",AF=1,fBe=async(t,e,r)=>{const n=hBe,i=await e.getItem(n);if(i&&i>=AF){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(n,AF),r(e),pBe(t,o)},pBe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let gBe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new dBe;this.storage=e;try{const r=new cBe;fBe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function mBe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var yBe=wBe;function wBe(t,e,r){var n=r&&r.stringify||mBe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;h<p&&(c+=t.slice(h,p));var g=typeof e[u];if(g==="string"){c+="'"+e[u]+"'",h=p+2,p++;break}if(g==="function"){c+=e[u].name||"<anonymous>",h=p+2,p++;break}c+=n(e[u]),h=p+2,p++;break;case 115:if(u>=l)break;h<p&&(c+=t.slice(h,p)),c+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(c+=t.slice(h,p)),c+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(c+=t.slice(h)),c)}const kF=yBe;var h0=uc;const ov=$Be().console||{},vBe={mapHttpRequest:Ib,mapHttpResponse:Ib,wrapRequestSerializer:qE,wrapResponseSerializer:qE,wrapErrorSerializer:qE,req:Ib,res:Ib,err:CBe};function bBe(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function uc(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||ov;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=bBe(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",l=Object.create(r);l.log||(l.log=av),Object.defineProperty(l,"levelVal",{get:u}),Object.defineProperty(l,"level",{get:h,set:f});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:ABe(t)};l.levels=uc.levels,l.level=a,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=av,l.serializers=n,l._serialize=i,l._stdErrSerialize=s,l.child=p,e&&(l._logEvent=sk());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,qp(c,l,"error","log"),qp(c,l,"fatal","error"),qp(c,l,"warn","error"),qp(c,l,"info","log"),qp(c,l,"debug","log"),qp(c,l,"trace","log")}function p(g,m){if(!g)throw new Error("missing bindings for child Pino");m=m||{},i&&g.serializers&&(m.serializers=g.serializers);const w=m.serializers;if(i&&w){var y=Object.assign({},n,w),b=t.browser.serialize===!0?Object.keys(y):i;delete g.serializers,jx([g],b,y,this._stdErrSerialize)}function v(C){this._childLevel=(C._childLevel|0)+1,this.error=Vp(C,g,"error"),this.fatal=Vp(C,g,"fatal"),this.warn=Vp(C,g,"warn"),this.info=Vp(C,g,"info"),this.debug=Vp(C,g,"debug"),this.trace=Vp(C,g,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=sk([].concat(C._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return l}uc.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};uc.stdSerializers=vBe;uc.stdTimeFunctions=Object.assign({},{nullTime:are,epochTime:lre,unixTime:kBe,isoTime:SBe});function qp(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?av:i[r]?i[r]:ov[r]||ov[n]||av,xBe(t,e,r)}function xBe(t,e,r){!t.transmit&&e[r]===av||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ov?ov:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&jx(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,EBe(this,r,o,s)):n.apply(a,o),t.transmit){const c=t.transmit.level||e.level,u=uc.levels.values[c],h=uc.levels.values[r];if(h<u)return;_Be(this,{ts:s,methodLevel:r,methodValue:h,transmitValue:uc.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function EBe(t,e,r,n){t._serialize&&jx(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=uc.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?kF(i.shift(),i):void 0}else typeof s=="string"&&(s=kF(i.shift(),i));return s!==void 0&&(o.msg=s),o}function jx(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=uc.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Vp(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function _Be(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,l=t._logEvent.bindings;jx(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(c){return l.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=sk(l)}function sk(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function CBe(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function ABe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?are:lre}function Ib(){return{}}function qE(t){return t}function av(){}function are(){return!1}function lre(){return Date.now()}function kBe(){return Math.round(Date.now()/1e3)}function SBe(){return new Date(Date.now()).toISOString()}function $Be(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const c2=ko(h0),IBe={level:"info"},u2="custom_context",XT=1e3*1024;let TBe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},SF=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new TBe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},cre=class{constructor(e,r=XT){this.level=e??"error",this.levelValue=h0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new SF(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===h0.levels.values.error?console.error(e):r===h0.levels.values.warn?console.warn(e):r===h0.levels.values.debug?console.debug(e):r===h0.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append($u({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new SF(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push($u({extraMetadata:e})),new Blob(r,{type:"application/json"})}},PBe=class{constructor(e,r=XT){this.baseChunkLogger=new cre(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},NBe=class{constructor(e,r=XT){this.baseChunkLogger=new cre(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var OBe=Object.defineProperty,MBe=Object.defineProperties,RBe=Object.getOwnPropertyDescriptors,$F=Object.getOwnPropertySymbols,jBe=Object.prototype.hasOwnProperty,DBe=Object.prototype.propertyIsEnumerable,IF=(t,e,r)=>e in t?OBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c6=(t,e)=>{for(var r in e||(e={}))jBe.call(e,r)&&IF(t,r,e[r]);if($F)for(var r of $F(e))DBe.call(e,r)&&IF(t,r,e[r]);return t},u6=(t,e)=>MBe(t,RBe(e));function Dx(t){return u6(c6({},t),{level:(t==null?void 0:t.level)||IBe.level})}function LBe(t,e=u2){return t[e]||""}function FBe(t,e,r=u2){return t[r]=e,t}function Js(t,e=u2){let r="";return typeof t.bindings>"u"?r=LBe(t,e):r=t.bindings().context||"",r}function UBe(t,e,r=u2){const n=Js(t,r);return n.trim()?`${n}/${e}`:e}function bs(t,e,r=u2){const n=UBe(t,e,r),i=t.child({context:n});return FBe(i,n,r)}function BBe(t){var e,r;const n=new PBe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:c2(u6(c6({},t.opts),{level:"trace",browser:u6(c6({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function zBe(t){var e;const r=new NBe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:c2(u6(c6({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function WBe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?BBe(t):zBe(t)}var HBe=Object.defineProperty,qBe=(t,e,r)=>e in t?HBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TF=(t,e,r)=>qBe(t,typeof e!="symbol"?e+"":e,r);let VBe=class extends wp{constructor(e){super(),this.opts=e,TF(this,"protocol","wc"),TF(this,"version",2)}};var GBe=Object.defineProperty,KBe=(t,e,r)=>e in t?GBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,YBe=(t,e,r)=>KBe(t,e+"",r);let QBe=class extends wp{constructor(e,r){super(),this.core=e,this.logger=r,YBe(this,"records",new Map)}},ZBe=class{constructor(e,r){this.logger=e,this.core=r}};class JBe extends wp{constructor(e,r){super(),this.relayer=e,this.logger=r}}let XBe=class extends wp{constructor(e){super()}},eze=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},tze=class extends wp{constructor(e,r){super(),this.relayer=e,this.logger=r}},rze=class extends wp{constructor(e,r){super(),this.core=e,this.logger=r}},nze=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},ize=class{constructor(e,r){this.projectId=e,this.logger=r}},sze=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var oze=Object.defineProperty,aze=(t,e,r)=>e in t?oze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PF=(t,e,r)=>aze(t,typeof e!="symbol"?e+"":e,r);let lze=class{constructor(e){this.opts=e,PF(this,"protocol","wc"),PF(this,"version",2)}},cze=class{constructor(e){this.client=e}};const uze="PARSE_ERROR",dze="INVALID_REQUEST",hze="METHOD_NOT_FOUND",fze="INVALID_PARAMS",ure="INTERNAL_ERROR",eP="SERVER_ERROR",pze=[-32700,-32600,-32601,-32602,-32603],Ty={[uze]:{code:-32700,message:"Parse error"},[dze]:{code:-32600,message:"Invalid Request"},[hze]:{code:-32601,message:"Method not found"},[fze]:{code:-32602,message:"Invalid params"},[ure]:{code:-32603,message:"Internal error"},[eP]:{code:-32e3,message:"Server error"}},dre=eP;function gze(t){return pze.includes(t)}function NF(t){return Object.keys(Ty).includes(t)?Ty[t]:Ty[dre]}function mze(t){const e=Object.values(Ty).find(r=>r.code===t);return e||Ty[dre]}function hre(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var fre={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ok=function(t,e){return ok=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ok(t,e)};function yze(t,e){ok(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ak=function(){return ak=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ak.apply(this,arguments)};function wze(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function vze(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function bze(t,e){return function(r,n){e(r,n,t)}}function xze(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Eze(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function _ze(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Cze(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Aze(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function lk(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pre(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function kze(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pre(arguments[e]));return t}function Sze(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function lv(t){return this instanceof lv?(this.v=t,this):new lv(t)}function $ze(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(g){h(s[0][3],g)}}function l(f){f.value instanceof lv?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ize(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:lv(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Tze(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof lk=="function"?lk(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function Pze(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Nze(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Oze(t){return t&&t.__esModule?t:{default:t}}function Mze(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Rze(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const jze=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ak},__asyncDelegator:Ize,__asyncGenerator:$ze,__asyncValues:Tze,__await:lv,__awaiter:Eze,__classPrivateFieldGet:Mze,__classPrivateFieldSet:Rze,__createBinding:Cze,__decorate:vze,__exportStar:Aze,__extends:yze,__generator:_ze,__importDefault:Oze,__importStar:Nze,__makeTemplateObject:Pze,__metadata:xze,__param:bze,__read:pre,__rest:wze,__spread:kze,__spreadArrays:Sze,__values:lk},Symbol.toStringTag,{value:"Module"})),Dze=M6(jze);var jc={},OF;function Lze(){if(OF)return jc;OF=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.isBrowserCryptoAvailable=jc.getSubtleCrypto=jc.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}jc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}jc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return jc.isBrowserCryptoAvailable=r,jc}var Dc={},MF;function Fze(){if(MF)return Dc;MF=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.isBrowser=Dc.isNode=Dc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Dc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Dc.isNode=e;function r(){return!t()&&!e()}return Dc.isBrowser=r,Dc}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dze;e.__exportStar(Lze(),t),e.__exportStar(Fze(),t)})(fre);function Fl(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Fd(t=6){return BigInt(Fl(t))}function Gl(t,e,r){return{id:r||Fl(),jsonrpc:"2.0",method:t,params:e}}function cv(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Lx(t,e,r){return{id:t,jsonrpc:"2.0",error:Uze(e)}}function Uze(t,e){return typeof t>"u"?NF(ure):(typeof t=="string"&&(t=Object.assign(Object.assign({},NF(eP)),{message:t})),gze(t.code)&&(t=mze(t.code)),t)}class Bze{}class zze extends Bze{constructor(){super()}}class Wze extends zze{constructor(e){super()}}const Hze="^https?:",qze="^wss?:";function Vze(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function gre(t,e){const r=Vze(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function RF(t){return gre(t,Hze)}function jF(t){return gre(t,qze)}function Gze(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function mre(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function tP(t){return mre(t)&&"method"in t}function Fx(t){return mre(t)&&(Ul(t)||Yo(t))}function Ul(t){return"result"in t}function Yo(t){return"error"in t}let Aa=class extends Wze{constructor(e){super(e),this.events=new No.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Gl(e.method,e.params||[],e.id||Fd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Yo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Fx(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Kze=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Yze=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",DF=t=>t.split("?")[0],LF=10,Qze=Kze();let Zze=class{constructor(e){if(this.url=e,this.events=new No.EventEmitter,this.registering=!1,!jF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send($u(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!jF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=fre.isReactNative()?void 0:{rejectUnauthorized:!Gze(e)},s=new Qze(e,[],i);Yze()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Lx(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return hre(e,DF(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>LF&&this.events.setMaxListeners(LF)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${DF(this.url)}`));return this.events.emit("register_error",r),r}};var Jze={};const yre="wc",wre=2,ck="core",vc=`${yre}@2:${ck}:`,Xze={logger:"error"},eWe={database:":memory:"},tWe="crypto",FF="client_ed25519_seed",rWe=Me.ONE_DAY,nWe="keychain",iWe="0.3",sWe="messages",oWe="0.3",aWe=Me.SIX_HOURS,lWe="publisher",vre="irn",cWe="error",bre="wss://relay.walletconnect.org",uWe="relayer",hn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},dWe="_subscription",Fo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},hWe=.1,uk="2.21.7",Lr={link_mode:"link_mode",relay:"relay"},N3={inbound:"inbound",outbound:"outbound"},fWe="0.3",pWe="WALLETCONNECT_CLIENT_ID",UF="WALLETCONNECT_LINK_MODE_APPS",io={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},gWe="subscription",mWe="0.3",yWe="pairing",wWe="0.3",x1={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},Yh={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Pa={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},vWe="history",bWe="0.3",xWe="expirer",qo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},EWe="0.3",_We="verify-api",CWe="https://verify.walletconnect.com",xre="https://verify.walletconnect.org",Py=xre,AWe=`${Py}/v3`,kWe=[CWe,xre],SWe="echo",$We="https://echo.walletconnect.com",Rl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Uc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ad={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},E1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},jh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},_1={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},IWe=.1,TWe="event-client",PWe=86400,NWe="https://pulse.walletconnect.org/batch";function OWe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,C=new Uint8Array(v);y!==b;){for(var x=g[y],I=0,$=v-1;(x!==0||I<w)&&$!==-1;$--,I++)x+=256*C[$]>>>0,C[$]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");w=I,y++}for(var R=v-w;R!==v&&C[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(C[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var C=r[g.charCodeAt(m)];if(C===255)return;for(var x=0,I=b-1;(C!==0||x<y)&&I!==-1;I--,x++)C+=a*v[I]>>>0,v[I]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=x,m++}if(g[m]!==" "){for(var $=b-y;$!==b&&v[$]===0;)$++;for(var R=new Uint8Array(w+(b-$)),T=w;$!==b;)R[T++]=v[$++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var MWe=OWe,RWe=MWe;const Ere=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jWe=t=>new TextEncoder().encode(t),DWe=t=>new TextDecoder().decode(t);class LWe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class FWe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _re(this,e)}}class UWe{constructor(e){this.decoders=e}or(e){return _re(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _re=(t,e)=>new UWe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class BWe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new LWe(e,r,n),this.decoder=new FWe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ux=({name:t,prefix:e,encode:r,decode:n})=>new BWe(t,e,r,n),d2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=RWe(r,e);return Ux({prefix:t,name:e,encode:n,decode:s=>Ere(i(s))})},zWe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},WWe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ei=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ux({prefix:e,name:t,encode(i){return WWe(i,n,r)},decode(i){return zWe(i,n,r,t)}}),HWe=Ux({prefix:"\0",name:"identity",encode:t=>DWe(t),decode:t=>jWe(t)});var qWe=Object.freeze({__proto__:null,identity:HWe});const VWe=Ei({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var GWe=Object.freeze({__proto__:null,base2:VWe});const KWe=Ei({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var YWe=Object.freeze({__proto__:null,base8:KWe});const QWe=d2({prefix:"9",name:"base10",alphabet:"0123456789"});var ZWe=Object.freeze({__proto__:null,base10:QWe});const JWe=Ei({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),XWe=Ei({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var eHe=Object.freeze({__proto__:null,base16:JWe,base16upper:XWe});const tHe=Ei({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rHe=Ei({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nHe=Ei({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iHe=Ei({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sHe=Ei({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oHe=Ei({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),aHe=Ei({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lHe=Ei({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cHe=Ei({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var uHe=Object.freeze({__proto__:null,base32:tHe,base32upper:rHe,base32pad:nHe,base32padupper:iHe,base32hex:sHe,base32hexupper:oHe,base32hexpad:aHe,base32hexpadupper:lHe,base32z:cHe});const dHe=d2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hHe=d2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fHe=Object.freeze({__proto__:null,base36:dHe,base36upper:hHe});const pHe=d2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gHe=d2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var mHe=Object.freeze({__proto__:null,base58btc:pHe,base58flickr:gHe});const yHe=Ei({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wHe=Ei({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),vHe=Ei({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bHe=Ei({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xHe=Object.freeze({__proto__:null,base64:yHe,base64pad:wHe,base64url:vHe,base64urlpad:bHe});const Cre=Array.from(""),EHe=Cre.reduce((t,e,r)=>(t[r]=e,t),[]),_He=Cre.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function CHe(t){return t.reduce((e,r)=>(e+=EHe[r],e),"")}function AHe(t){const e=[];for(const r of t){const n=_He[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const kHe=Ux({prefix:"",name:"base256emoji",encode:CHe,decode:AHe});var SHe=Object.freeze({__proto__:null,base256emoji:kHe}),$He=Are,BF=128,IHe=-128,THe=Math.pow(2,31);function Are(t,e,r){e=e||[],r=r||0;for(var n=r;t>=THe;)e[r++]=t&255|BF,t/=128;for(;t&IHe;)e[r++]=t&255|BF,t>>>=7;return e[r]=t|0,Are.bytes=r-n+1,e}var PHe=dk,NHe=128,zF=127;function dk(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw dk.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&zF)<<i:(o&zF)*Math.pow(2,i),i+=7}while(o>=NHe);return dk.bytes=s-n,r}var OHe=Math.pow(2,7),MHe=Math.pow(2,14),RHe=Math.pow(2,21),jHe=Math.pow(2,28),DHe=Math.pow(2,35),LHe=Math.pow(2,42),FHe=Math.pow(2,49),UHe=Math.pow(2,56),BHe=Math.pow(2,63),zHe=function(t){return t<OHe?1:t<MHe?2:t<RHe?3:t<jHe?4:t<DHe?5:t<LHe?6:t<FHe?7:t<UHe?8:t<BHe?9:10},WHe={encode:$He,decode:PHe,encodingLength:zHe},kre=WHe;const WF=(t,e,r=0)=>(kre.encode(t,e,r),e),HF=t=>kre.encodingLength(t),hk=(t,e)=>{const r=e.byteLength,n=HF(t),i=n+HF(r),s=new Uint8Array(i+r);return WF(t,s,0),WF(r,s,n),s.set(e,i),new HHe(t,r,e,s)};class HHe{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Sre=({name:t,code:e,encode:r})=>new qHe(t,e,r);class qHe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?hk(this.code,r):r.then(n=>hk(this.code,n))}else throw Error("Unknown type, must be binary type")}}const $re=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),VHe=Sre({name:"sha2-256",code:18,encode:$re("SHA-256")}),GHe=Sre({name:"sha2-512",code:19,encode:$re("SHA-512")});var KHe=Object.freeze({__proto__:null,sha256:VHe,sha512:GHe});const Ire=0,YHe="identity",Tre=Ere,QHe=t=>hk(Ire,Tre(t)),ZHe={code:Ire,name:YHe,encode:Tre,digest:QHe};var JHe=Object.freeze({__proto__:null,identity:ZHe});new TextEncoder,new TextDecoder;const qF={...qWe,...GWe,...YWe,...ZWe,...eHe,...uHe,...fHe,...mHe,...xHe,...SHe};({...KHe,...JHe});function Pre(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function XHe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Pre(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Nre(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const VF=Nre("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),VE=Nre("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=XHe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),eqe={utf8:VF,"utf-8":VF,hex:qF.base16,latin1:VE,ascii:VE,binary:VE,...qF};function tqe(t,e="utf8"){const r=eqe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Pre(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var rqe=Object.defineProperty,nqe=(t,e,r)=>e in t?rqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Il=(t,e,r)=>nqe(t,typeof e!="symbol"?e+"":e,r);let iqe=class{constructor(e,r){this.core=e,this.logger=r,Il(this,"keychain",new Map),Il(this,"name",nWe),Il(this,"version",iWe),Il(this,"initialized",!1),Il(this,"storagePrefix",vc),Il(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Il(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Il(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Il(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=je("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Il(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=bs(r,this.name)}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,qA(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?VA(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var sqe=Object.defineProperty,oqe=(t,e,r)=>e in t?sqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>oqe(t,typeof e!="symbol"?e+"":e,r);let aqe=class{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",tWe),ri(this,"keychain"),ri(this,"randomSessionIdentifier",rk()),ri(this,"initialized",!1),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ri(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=EL(i);return Wee(s.publicKey)}),ri(this,"generateKeyPair",()=>{this.isInitialized();const i=$Fe();return this.setPrivateKey(i.publicKey,i.privateKey)}),ri(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=EL(s),a=this.randomSessionIdentifier;return await pRe(a,i,rWe,o)}),ri(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=IFe(a,s);return this.setSymKey(l,o)}),ri(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||I3(i);return await this.keychain.set(o,i),o}),ri(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"encode",async(i,s,o)=>{this.isInitialized();const a=rre(o),l=$u(s);if(cF(a))return NFe(l,o==null?void 0:o.encoding);if(lF(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return TFe({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),ri(this,"decode",async(i,s,o)=>{this.isInitialized();const a=MFe(s,o);if(cF(a)){const l=OFe(s,o==null?void 0:o.encoding);return Qf(l)}if(lF(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=PFe({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return Qf(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),ri(this,"getPayloadType",(i,s=Ns)=>{const o=sv({encoded:i,encoding:s});return Jf(o.type)}),ri(this,"getPayloadSenderPublicKey",(i,s=Ns)=>{const o=sv({encoded:i,encoding:s});return o.senderPublicKey?Ws(o.senderPublicKey,ps):void 0}),this.core=e,this.logger=bs(r,this.name),this.keychain=n||new iqe(this.core,this.logger)}get context(){return Js(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(FF)}catch{e=rk(),await this.keychain.set(FF,e)}return tqe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var lqe=Object.defineProperty,cqe=Object.defineProperties,uqe=Object.getOwnPropertyDescriptors,GF=Object.getOwnPropertySymbols,dqe=Object.prototype.hasOwnProperty,hqe=Object.prototype.propertyIsEnumerable,fk=(t,e,r)=>e in t?lqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fqe=(t,e)=>{for(var r in e||(e={}))dqe.call(e,r)&&fk(t,r,e[r]);if(GF)for(var r of GF(e))hqe.call(e,r)&&fk(t,r,e[r]);return t},pqe=(t,e)=>cqe(t,uqe(e)),to=(t,e,r)=>fk(t,typeof e!="symbol"?e+"":e,r);let gqe=class extends ZBe{constructor(e,r){super(e,r),this.logger=e,this.core=r,to(this,"messages",new Map),to(this,"messagesWithoutClientAck",new Map),to(this,"name",sWe),to(this,"version",oWe),to(this,"initialized",!1),to(this,"storagePrefix",vc),to(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),to(this,"set",async(n,i,s)=>{this.isInitialized();const o=Ko(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===N3.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,pqe(fqe({},l),{[o]:i}))}return await this.persist(),o}),to(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),to(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),to(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Ko(i);return typeof s[o]<"u"}),to(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Ko(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),to(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=bs(e,this.name),this.core=r}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,qA(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,qA(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?VA(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?VA(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var mqe=Object.defineProperty,yqe=Object.defineProperties,wqe=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertySymbols,vqe=Object.prototype.hasOwnProperty,bqe=Object.prototype.propertyIsEnumerable,pk=(t,e,r)=>e in t?mqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gp=(t,e)=>{for(var r in e||(e={}))vqe.call(e,r)&&pk(t,r,e[r]);if(KF)for(var r of KF(e))bqe.call(e,r)&&pk(t,r,e[r]);return t},YF=(t,e)=>yqe(t,wqe(e)),Uo=(t,e,r)=>pk(t,typeof e!="symbol"?e+"":e,r);class xqe extends JBe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Uo(this,"events",new No.EventEmitter),Uo(this,"name",lWe),Uo(this,"queue",new Map),Uo(this,"publishTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),Uo(this,"initialPublishTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),Uo(this,"needsTransportRestart",!1),Uo(this,"publish",async(n,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||aWe,f=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,g=(s==null?void 0:s.id)||Fd().toString(),m=O0(a6().protocol),w={id:g,method:(s==null?void 0:s.publishMethod)||m.publish,params:Gp({topic:n,message:i,ttl:h,prompt:f,tag:p,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},y=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{jn((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),jn((l=w.params)==null?void 0:l.tag)&&((c=w.params)==null||delete c.tag);const b=new Promise(async v=>{const C=({id:I})=>{var $;(($=w.id)==null?void 0:$.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(hn.publish,C),v())};this.relayer.events.on(hn.publish,C);const x=Jl(new Promise((I,$)=>{this.rpcPublish(w,s).then(I).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),$(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await x,this.events.removeListener(hn.publish,C)}catch(I){this.queue.set(g,{request:w,opts:s,attempt:1}),this.logger.warn(I,I==null?void 0:I.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:n,message:i,opts:s}}),await Jl(b,this.publishTimeout,y)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw b}finally{this.queue.delete(g)}}),Uo(this,"publishCustom",async n=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:c,opts:u={}}=n,{attestation:h,tvf:f,publishMethod:p,prompt:g,tag:m,ttl:w=Me.FIVE_MINUTES}=u,y=u.id||Fd().toString(),b=O0(a6().protocol),v=p||b.publish,C={id:y,method:v,params:Gp(YF(Gp({},c),{ttl:w,prompt:g,tag:m,attestation:h}),f)},x=`Failed to publish custom payload, please try again. id:${y} tag:${m}`;try{jn((i=C.params)==null?void 0:i.prompt)&&((s=C.params)==null||delete s.prompt),jn((o=C.params)==null?void 0:o.tag)&&((a=C.params)==null||delete a.tag);const I=new Promise(async $=>{const R=({id:L})=>{var U;((U=C.id)==null?void 0:U.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(hn.publish,R),$())};this.relayer.events.on(hn.publish,R);const T=Jl(new Promise((L,U)=>{this.rpcPublish(C,u).then(L).catch(W=>{this.logger.warn(W,W==null?void 0:W.message),U(W)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${y} tag:${m}`);try{await T,this.events.removeListener(hn.publish,R)}catch(L){this.queue.set(y,{request:C,opts:u,attempt:1}),this.logger.warn(L,L==null?void 0:L.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:c,opts:u}}),await Jl(I,this.publishTimeout,x)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw I}finally{this.queue.delete(y)}}),Uo(this,"on",(n,i)=>{this.events.on(n,i)}),Uo(this,"once",(n,i)=>{this.events.once(n,i)}),Uo(this,"off",(n,i)=>{this.events.off(n,i)}),Uo(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=bs(r,this.name),this.registerEventListeners()}get context(){return Js(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(hn.publish,Gp(Gp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,YF(Gp({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(vp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hn.connection_stalled);return}this.checkQueue()}),this.relayer.on(hn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Eqe=Object.defineProperty,_qe=(t,e,r)=>e in t?Eqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kp=(t,e,r)=>_qe(t,typeof e!="symbol"?e+"":e,r);class Cqe{constructor(){Kp(this,"map",new Map),Kp(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Kp(this,"get",e=>this.map.get(e)||[]),Kp(this,"exists",(e,r)=>this.get(e).includes(r)),Kp(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Kp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Aqe=Object.defineProperty,kqe=Object.defineProperties,Sqe=Object.getOwnPropertyDescriptors,QF=Object.getOwnPropertySymbols,$qe=Object.prototype.hasOwnProperty,Iqe=Object.prototype.propertyIsEnumerable,gk=(t,e,r)=>e in t?Aqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C1=(t,e)=>{for(var r in e||(e={}))$qe.call(e,r)&&gk(t,r,e[r]);if(QF)for(var r of QF(e))Iqe.call(e,r)&&gk(t,r,e[r]);return t},GE=(t,e)=>kqe(t,Sqe(e)),_r=(t,e,r)=>gk(t,typeof e!="symbol"?e+"":e,r);let Tqe=class extends tze{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,_r(this,"subscriptions",new Map),_r(this,"topicMap",new Cqe),_r(this,"events",new No.EventEmitter),_r(this,"name",gWe),_r(this,"version",mWe),_r(this,"pending",new Map),_r(this,"cached",[]),_r(this,"initialized",!1),_r(this,"storagePrefix",vc),_r(this,"subscribeTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),_r(this,"initialSubscribeTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),_r(this,"clientId"),_r(this,"batchSubscribeTopicsLimit",500),_r(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_r(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=a6(i),a={topic:n,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const l=await this.rpcSubscribe(n,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),_r(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),_r(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),_r(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),_r(this,"on",(n,i)=>{this.events.on(n,i)}),_r(this,"once",(n,i)=>{this.events.once(n,i)}),_r(this,"off",(n,i)=>{this.events.off(n,i)}),_r(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),_r(this,"start",async()=>{await this.onConnect()}),_r(this,"stop",async()=>{await this.onDisconnect()}),_r(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_r(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),_r(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(vp.pulse,async()=>{await this.checkPending()}),this.events.on(io.created,async n=>{const i=io.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(io.deleted,async n=>{const i=io.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=bs(r,this.name),this.clientId=""}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=a6(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Fr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n==null?void 0:n.internal)!=null&&i.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===Lr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:O0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===Lr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},Me.toMiliseconds(Me.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(io.created,f),h(p.id))};this.events.on(io.created,f);try{const p=await Jl(new Promise((g,m)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(io.created,f),h(p)}catch{}}),u=await Jl(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hn.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:O0(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Jl(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:O0(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Jl(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:O0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,GE(C1({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,C1({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,C1({},r)),this.topicMap.set(r.topic,e),this.events.emit(io.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(io.deleted,GE(C1({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(io.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(io.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>GE(C1({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await Qje(Me.toMiliseconds(Me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ko(e+await this.getClientId())}};var Pqe=Object.defineProperty,ZF=Object.getOwnPropertySymbols,Nqe=Object.prototype.hasOwnProperty,Oqe=Object.prototype.propertyIsEnumerable,mk=(t,e,r)=>e in t?Pqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JF=(t,e)=>{for(var r in e||(e={}))Nqe.call(e,r)&&mk(t,r,e[r]);if(ZF)for(var r of ZF(e))Oqe.call(e,r)&&mk(t,r,e[r]);return t},ar=(t,e,r)=>mk(t,typeof e!="symbol"?e+"":e,r);let Mqe=class extends XBe{constructor(e){super(e),ar(this,"protocol","wc"),ar(this,"version",2),ar(this,"core"),ar(this,"logger"),ar(this,"events",new No.EventEmitter),ar(this,"provider"),ar(this,"messages"),ar(this,"subscriber"),ar(this,"publisher"),ar(this,"name",uWe),ar(this,"transportExplicitlyClosed",!1),ar(this,"initialized",!1),ar(this,"connectionAttemptInProgress",!1),ar(this,"relayUrl"),ar(this,"projectId"),ar(this,"packageName"),ar(this,"bundleId"),ar(this,"hasExperiencedNetworkDisruption",!1),ar(this,"pingTimeout"),ar(this,"heartBeatTimeout",Me.toMiliseconds(Me.THIRTY_SECONDS+Me.FIVE_SECONDS)),ar(this,"reconnectTimeout"),ar(this,"connectPromise"),ar(this,"reconnectInProgress",!1),ar(this,"requestsInFlight",[]),ar(this,"connectTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),ar(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Fd().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),ar(this,"resetPingTimeout",()=>{n6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),ar(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),ar(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(hn.connect)}),ar(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ar(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(hn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ar(this,"registerProviderListeners",()=>{this.provider.on(Fo.payload,this.onPayloadHandler),this.provider.on(Fo.connect,this.onConnectHandler),this.provider.on(Fo.disconnect,this.onDisconnectHandler),this.provider.on(Fo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?bs(e.logger,this.name):c2(Dx({level:e.logger||cWe})),this.messages=new gqe(this.logger,e.core),this.subscriber=new Tqe(this,this.logger),this.publisher=new xqe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||bre,Mje()?this.packageName=TL():Rje()&&(this.bundleId=TL()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Js(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Lr.relay},N3.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(io.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(io.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,JF({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Jl(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await bF())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=On(Me.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(hn.message,e),await this.recordMessageEvent(e,N3.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Fo.disconnect,s),await Jl(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Fo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Fo.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Fo.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Me.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(n6())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Aa(new Zze(Uje({sdkVersion:uk,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),tP(e)){if(!e.method.endsWith(dWe))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Lr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(JF({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Fx(e)&&this.events.emit(hn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,N3.inbound),this.events.emit(hn.message,e))}async acknowledgePayload(e){const r=cv(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Fo.payload,this.onPayloadHandler),this.provider.off(Fo.connect,this.onConnectHandler),this.provider.off(Fo.disconnect,this.onDisconnectHandler),this.provider.off(Fo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await bF();SUe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(vp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&TUe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Me.toMiliseconds(hWe)))))}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Rqe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function XF(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function eU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const jqe="[object RegExp]",Dqe="[object String]",Lqe="[object Number]",Fqe="[object Boolean]",tU="[object Arguments]",Uqe="[object Symbol]",Bqe="[object Date]",zqe="[object Map]",Wqe="[object Set]",Hqe="[object Array]",qqe="[object Function]",Vqe="[object ArrayBuffer]",KE="[object Object]",Gqe="[object Error]",Kqe="[object DataView]",Yqe="[object Uint8Array]",Qqe="[object Uint8ClampedArray]",Zqe="[object Uint16Array]",Jqe="[object Uint32Array]",Xqe="[object BigUint64Array]",eVe="[object Int8Array]",tVe="[object Int16Array]",rVe="[object Int32Array]",nVe="[object BigInt64Array]",iVe="[object Float32Array]",sVe="[object Float64Array]";function oVe(){}function rU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function aVe(t,e,r){return J1(t,e,void 0,void 0,void 0,void 0,r)}function J1(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ny(t,e,s,o)}return Ny(t,e,s,o)}function Ny(t,e,r,n){if(Object.is(t,e))return!0;let i=eU(t),s=eU(e);if(i===tU&&(i=KE),s===tU&&(s=KE),i!==s)return!1;switch(i){case Dqe:return t.toString()===e.toString();case Lqe:{const l=t.valueOf(),c=e.valueOf();return Rqe(l,c)}case Fqe:case Bqe:case Uqe:return Object.is(t.valueOf(),e.valueOf());case jqe:return t.source===e.source&&t.flags===e.flags;case qqe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case zqe:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!J1(c,e.get(l),l,t,e,r,n))return!1;return!0}case Wqe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>J1(h,p,void 0,t,e,r,n));if(f===-1)return!1;c.splice(f,1)}return!0}case Hqe:case Yqe:case Qqe:case Zqe:case Jqe:case Xqe:case eVe:case tVe:case rVe:case nVe:case iVe:case sVe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!J1(t[l],e[l],l,t,e,r,n))return!1;return!0}case Vqe:return t.byteLength!==e.byteLength?!1:Ny(new Uint8Array(t),new Uint8Array(e),r,n);case Kqe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ny(new Uint8Array(t),new Uint8Array(e),r,n);case Gqe:return t.name===e.name&&t.message===e.message;case KE:{if(!(Ny(t.constructor,e.constructor,r,n)||rU(t)&&rU(e)))return!1;const l=[...Object.keys(t),...XF(t)],c=[...Object.keys(e),...XF(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!J1(f,p,h,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function lVe(t,e){return aVe(t,e,oVe)}var cVe=Object.defineProperty,nU=Object.getOwnPropertySymbols,uVe=Object.prototype.hasOwnProperty,dVe=Object.prototype.propertyIsEnumerable,yk=(t,e,r)=>e in t?cVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iU=(t,e)=>{for(var r in e||(e={}))uVe.call(e,r)&&yk(t,r,e[r]);if(nU)for(var r of nU(e))dVe.call(e,r)&&yk(t,r,e[r]);return t},Cs=(t,e,r)=>yk(t,typeof e!="symbol"?e+"":e,r);let xp=class extends eze{constructor(e,r,n,i=vc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Cs(this,"map",new Map),Cs(this,"version",fWe),Cs(this,"cached",[]),Cs(this,"initialized",!1),Cs(this,"getKey"),Cs(this,"storagePrefix",vc),Cs(this,"recentlyDeleted",[]),Cs(this,"recentlyDeletedLimit",200),Cs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!jn(o)?this.map.set(this.getKey(o),o):iUe(o)?this.map.set(o.id,o):sUe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Cs(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Cs(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Cs(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>lVe(a[l],o[l]))):this.values)),Cs(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=iU(iU({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),Cs(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=bs(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=je("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var hVe=Object.defineProperty,fVe=(t,e,r)=>e in t?hVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qt=(t,e,r)=>fVe(t,typeof e!="symbol"?e+"":e,r);let pVe=class{constructor(e,r){this.core=e,this.logger=r,Qt(this,"name",yWe),Qt(this,"version",wWe),Qt(this,"events",new CT),Qt(this,"pairings"),Qt(this,"initialized",!1),Qt(this,"storagePrefix",vc),Qt(this,"ignoredPayloadTypes",[fu]),Qt(this,"registeredMethods",[]),Qt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Qt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Qt(this,"create",async n=>{this.isInitialized();const i=rk(),s=await this.core.crypto.setSymKey(i),o=On(Me.FIVE_MINUTES),a={protocol:vre},l={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},c=dF({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Yh.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:s,uri:c}}),Qt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Rl.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=uF(n.uri);i.props.properties.topic=s,i.addTrace(Rl.pairing_uri_validation_success),i.addTrace(Rl.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Rl.existing_pairing),u.active)throw i.setError(Uc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Rl.pairing_not_expired)}const h=l||On(Me.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(Rl.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Yh.create,f),i.addTrace(Rl.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Rl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Uc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Uc.subscribe_pairing_topic_failure),p}return i.addTrace(Rl.subscribe_pairing_topic_success),f}),Qt(this,"activate",async({topic:n})=>{this.isInitialized();const i=On(Me.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Qt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=Bh();this.events.once(hr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),Qt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Qt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Qt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Qt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Fr("USER_DISCONNECTED")),await this.deletePairing(i))}),Qt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,l=this.core.crypto.keychain.get(i);return dF({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),Qt(this,"sendRequest",async(n,i,s)=>{const o=Gl(i,s),a=await this.core.crypto.encode(n,o),l=x1[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,l),o.id}),Qt(this,"sendResult",async(n,i,s)=>{const o=cv(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=x1[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Qt(this,"sendError",async(n,i,s)=>{const o=Lx(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=x1[l]?x1[l].res:x1.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Qt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Fr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Qt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>fd(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Qt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Qt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Qt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Yh.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Qt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Ul(i)?this.events.emit(hr("pairing_ping",s),{}):Yo(i)&&this.events.emit(hr("pairing_ping",s),{error:i.error})},500)}),Qt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Yh.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Qt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Fr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Qt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Fr("WC_METHOD_UNSUPPORTED",n))}),Qt(this,"isValidPair",(n,i)=>{var s;if(!ks(n)){const{message:a}=je("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Uc.malformed_pairing_uri),new Error(a)}if(!nUe(n.uri)){const{message:a}=je("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Uc.malformed_pairing_uri),new Error(a)}const o=uF(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=je("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Uc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=je("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Uc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Me.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Uc.pairing_expired);const{message:a}=je("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Qt(this,"isValidPing",async n=>{if(!ks(n)){const{message:s}=je("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Qt(this,"isValidDisconnect",async n=>{if(!ks(n)){const{message:s}=je("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Qt(this,"isValidPairingTopic",async n=>{if(!An(n,!1)){const{message:i}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(fd(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=je("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=bs(r,this.name),this.pairings=new xp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Js(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hn.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Lr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);tP(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Fx(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(qo.expired,async e=>{const{topic:r}=hte(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Yh.expire,{topic:r}))})}};var gVe=Object.defineProperty,mVe=(t,e,r)=>e in t?gVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ni=(t,e,r)=>mVe(t,typeof e!="symbol"?e+"":e,r);let yVe=class extends QBe{constructor(e,r){super(e,r),this.core=e,this.logger=r,ni(this,"records",new Map),ni(this,"events",new No.EventEmitter),ni(this,"name",vWe),ni(this,"version",bWe),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",vc),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:On(Me.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Pa.created,o)}),ni(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Yo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Pa.updated,i))}),ni(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ni(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Pa.deleted,s)}}),this.persist()}),ni(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ni(this,"on",(n,i)=>{this.events.on(n,i)}),ni(this,"once",(n,i)=>{this.events.once(n,i)}),ni(this,"off",(n,i)=>{this.events.off(n,i)}),ni(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=bs(r,this.name)}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Gl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Pa.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Pa.created,e=>{const r=Pa.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Pa.updated,e=>{const r=Pa.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Pa.deleted,e=>{const r=Pa.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(vp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Me.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Pa.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var wVe=Object.defineProperty,vVe=(t,e,r)=>e in t?wVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mi=(t,e,r)=>vVe(t,typeof e!="symbol"?e+"":e,r);let bVe=class extends rze{constructor(e,r){super(e,r),this.core=e,this.logger=r,Mi(this,"expirations",new Map),Mi(this,"events",new No.EventEmitter),Mi(this,"name",xWe),Mi(this,"version",EWe),Mi(this,"cached",[]),Mi(this,"initialized",!1),Mi(this,"storagePrefix",vc),Mi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mi(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Mi(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(qo.created,{target:s,expiration:o})}),Mi(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Mi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(qo.deleted,{target:i,expiration:s})}}),Mi(this,"on",(n,i)=>{this.events.on(n,i)}),Mi(this,"once",(n,i)=>{this.events.once(n,i)}),Mi(this,"off",(n,i)=>{this.events.off(n,i)}),Mi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=bs(r,this.name)}get context(){return Js(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Bje(e);if(typeof e=="number")return zje(e);const{message:r}=je("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(qo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Me.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(qo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(vp.pulse,()=>this.checkExpirations()),this.events.on(qo.created,e=>{const r=qo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(qo.expired,e=>{const r=qo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(qo.deleted,e=>{const r=qo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}};var xVe=Object.defineProperty,EVe=(t,e,r)=>e in t?xVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vn=(t,e,r)=>EVe(t,typeof e!="symbol"?e+"":e,r);let _Ve=class extends nze{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,vn(this,"name",_We),vn(this,"abortController"),vn(this,"isDevEnv"),vn(this,"verifyUrlV3",AWe),vn(this,"storagePrefix",vc),vn(this,"version",wre),vn(this,"publicKey"),vn(this,"fetchPromise"),vn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),vn(this,"register",async i=>{if(!Nm()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=Yf(),u=this.startAbortTimer(Me.ONE_SECOND*5),h=await new Promise((f,p)=>{const g=()=>{window.removeEventListener("message",w),c.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=c.createElement("iframe");m.src=l,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(WA(b.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",w),f(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};c.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),vn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(WA(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),vn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Me.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),vn(this,"getVerifyUrl",i=>{let s=i||Py;return kWe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Py}`),s=Py),s}),vn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Me.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),vn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),vn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),vn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),vn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),vn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),vn(this,"validateAttestation",(i,s)=>{const o=jFe(i,s.publicKey),a={hasExpired:Me.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=bs(r,this.name),this.abortController=new AbortController,this.isDevEnv=FT(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Js(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}};var CVe=Object.defineProperty,AVe=(t,e,r)=>e in t?CVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sU=(t,e,r)=>AVe(t,typeof e!="symbol"?e+"":e,r);let kVe=class extends ize{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,sU(this,"context",SWe),sU(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,l=`${$We}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=bs(r,this.context)}};var SVe=Object.defineProperty,oU=Object.getOwnPropertySymbols,$Ve=Object.prototype.hasOwnProperty,IVe=Object.prototype.propertyIsEnumerable,wk=(t,e,r)=>e in t?SVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A1=(t,e)=>{for(var r in e||(e={}))$Ve.call(e,r)&&wk(t,r,e[r]);if(oU)for(var r of oU(e))IVe.call(e,r)&&wk(t,r,e[r]);return t},Bn=(t,e,r)=>wk(t,typeof e!="symbol"?e+"":e,r);let TVe=class extends sze{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Bn(this,"context",TWe),Bn(this,"storagePrefix",vc),Bn(this,"storageVersion",IWe),Bn(this,"events",new Map),Bn(this,"shouldPersist",!1),Bn(this,"init",async()=>{if(!FT())try{const i={eventId:NL(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:ute(this.core.relayer.protocol,this.core.relayer.version,uk)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Bn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=NL(),u=this.core.projectId||"",h=Date.now(),f=A1({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),Bn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return A1(A1({},a),this.setMethods(a.eventId))}),Bn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Bn(this,"setEventListeners",()=>{this.core.heartbeat.on(vp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(i.timestamp)>PWe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Bn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Bn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Bn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Bn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Bn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,A1(A1({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Bn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Bn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${NWe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${uk}${s}`,{method:"POST",body:JSON.stringify(i)})}),Bn(this,"getAppDomain",()=>cte().url),this.logger=bs(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var PVe=Object.defineProperty,aU=Object.getOwnPropertySymbols,NVe=Object.prototype.hasOwnProperty,OVe=Object.prototype.propertyIsEnumerable,vk=(t,e,r)=>e in t?PVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lU=(t,e)=>{for(var r in e||(e={}))NVe.call(e,r)&&vk(t,r,e[r]);if(aU)for(var r of aU(e))OVe.call(e,r)&&vk(t,r,e[r]);return t},$r=(t,e,r)=>vk(t,typeof e!="symbol"?e+"":e,r);let MVe=class Ore extends VBe{constructor(e){var r;super(e),$r(this,"protocol",yre),$r(this,"version",wre),$r(this,"name",ck),$r(this,"relayUrl"),$r(this,"projectId"),$r(this,"customStoragePrefix"),$r(this,"events",new No.EventEmitter),$r(this,"logger"),$r(this,"heartbeat"),$r(this,"relayer"),$r(this,"crypto"),$r(this,"storage"),$r(this,"history"),$r(this,"expirer"),$r(this,"pairing"),$r(this,"verify"),$r(this,"echoClient"),$r(this,"linkModeSupportedApps"),$r(this,"eventClient"),$r(this,"initialized",!1),$r(this,"logChunkController"),$r(this,"on",(a,l)=>this.events.on(a,l)),$r(this,"once",(a,l)=>this.events.once(a,l)),$r(this,"off",(a,l)=>this.events.off(a,l)),$r(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),$r(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:Lr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||bre,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Dx({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Xze.logger,name:ck}),{logger:s,chunkLoggerController:o}=WBe({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=bs(s,this.name),this.heartbeat=new UUe,this.crypto=new aqe(this,this.logger,e==null?void 0:e.keychain),this.history=new yVe(this,this.logger),this.expirer=new bVe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new gBe(lU(lU({},eWe),e==null?void 0:e.storageOptions)),this.relayer=new Mqe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new pVe(this,this.logger),this.verify=new _Ve(this,this.logger,this.storage),this.echoClient=new kVe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new TVe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new Ore(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(pWe,n),r}get context(){return Js(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(UF,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(UF)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Jze.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const RVe=MVe,Mre="wc",Rre=2,jre="client",rP=`${Mre}@${Rre}:${jre}:`,YE={name:jre,logger:"error"},cU="WALLETCONNECT_DEEPLINK_CHOICE",jVe="proposal",uU="Proposal expired",DVe="session",Yp=Me.SEVEN_DAYS,LVe="engine",ii={wc_sessionPropose:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1119}}},QE={min:Me.FIVE_MINUTES,max:Me.SEVEN_DAYS},Tl={idle:"IDLE",active:"ACTIVE"},FVe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},UVe="request",BVe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],zVe="wc",WVe="auth",HVe="authKeys",qVe="pairingTopics",VVe="requests",Bx=`${zVe}@${1.5}:${WVe}:`,O3=`${Bx}:PUB_KEY`;var GVe=Object.defineProperty,KVe=Object.defineProperties,YVe=Object.getOwnPropertyDescriptors,dU=Object.getOwnPropertySymbols,QVe=Object.prototype.hasOwnProperty,ZVe=Object.prototype.propertyIsEnumerable,bk=(t,e,r)=>e in t?GVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mr=(t,e)=>{for(var r in e||(e={}))QVe.call(e,r)&&bk(t,r,e[r]);if(dU)for(var r of dU(e))ZVe.call(e,r)&&bk(t,r,e[r]);return t},Ri=(t,e)=>KVe(t,YVe(e)),Ce=(t,e,r)=>bk(t,typeof e!="symbol"?e+"":e,r);let JVe=class extends cze{constructor(e){super(e),Ce(this,"name",LVe),Ce(this,"events",new CT),Ce(this,"initialized",!1),Ce(this,"requestQueue",{state:Tl.idle,queue:[]}),Ce(this,"sessionRequestQueue",{state:Tl.idle,queue:[]}),Ce(this,"emittedSessionRequests",new Zje({limit:500})),Ce(this,"requestQueueDelay",Me.ONE_SECOND),Ce(this,"expectedPairingMethodMap",new Map),Ce(this,"recentlyDeletedMap",new Map),Ce(this,"recentlyDeletedLimit",200),Ce(this,"relayMessageCache",[]),Ce(this,"pendingSessions",new Map),Ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay)))}),Ce(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Ri(mr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=JFe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=n;let u=i,h,f=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!f){const{topic:I,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=I,h=$}if(!u){const{message:I}=je("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const p=await this.client.core.crypto.generateKeyPair(),g=ii.wc_sessionPropose.req.ttl||Me.FIVE_MINUTES,m=On(g),w=Ri(mr(mr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:vre}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:Fl()}),y=hr("session_connect",w.id),{reject:b,resolve:v,done:C}=Bh(g,uU),x=({id:I})=>{I===w.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:uU,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(y,({error:I,session:$})=>{this.client.events.off("proposal_expire",x),I?b(I):$&&v($)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:h,approval:C}}),Ce(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Ce(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[ad.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw o.setError(E1.no_internet_connection),T}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(E1.proposal_not_found),T}try{await this.isValidApprove(r)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(E1.session_approve_namespace_validation_failure),T}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:w,optionalNamespaces:y}=p;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:ad.session_approve_started,properties:{topic:g,trace:[ad.session_approve_started,ad.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),C=m.publicKey,x=await this.client.core.crypto.generateSharedKey(v,C),I=mr(mr(mr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:v,metadata:this.client.metadata},expiry:On(Yp)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),$=Lr.relay;b.addTrace(ad.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:$,internal:{skipSubscribe:!0}})}catch(T){throw b.setError(E1.subscribe_session_topic_failure),T}b.addTrace(ad.subscribe_session_topic_success);const R=Ri(mr({},I),{topic:x,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:g,acknowledged:!1,self:I.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:Lr.relay});await this.client.session.set(x,R),b.addTrace(ad.store_session);try{await this.sendApproveSession({sessionTopic:x,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:v},sessionSettleRequest:I,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),b.addTrace(ad.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(x,Fr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),T}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(x,On(Yp)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),Ce(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Ce(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Bh(),l=Fl(),c=Fd().toString(),u=this.client.session.get(n).namespaces;return this.events.once(hr("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:u}),a(h)}),{acknowledged:s}}),Ce(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=Fl(),{done:s,resolve:o,reject:a}=Bh();return this.events.once(hr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(n,On(Yp)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),Ce(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=ii.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Lr.relay&&await this.confirmOnlineStateOrThrow();const l=Fl(),c=Fd().toString(),{done:u,resolve:h,reject:f}=Bh(o,"Request expired. Please try again.");this.events.once(hr("session_request",l),({error:w,result:y})=>{w?f(w):h(y)});const p="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:Ri(mr({},i),{expiryTimestamp:On(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await u();const m={request:Ri(mr({},i),{expiryTimestamp:On(o)}),chainId:n};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,m)}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const b=await Vje(this.client.core.storage,cU);await Wje({id:l,topic:s,wcDeepLink:b})}w()}),u()]).then(w=>w[2])}),Ce(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Lr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ul(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Yo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),Ce(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Fl(),s=Fd().toString(),{done:o,resolve:a,reject:l}=Bh();this.events.once(hr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Ce(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Fd().toString(),a=Fl();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Ce(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Fr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=je("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Ce(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>tUe(n,r)))),Ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ce(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Lr.link_mode:Lr.relay;o===Lr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:g,methods:m=[],expiry:w}=r,y=[...r.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const C=await this.client.core.crypto.generateKeyPair(),x=I3(C);if(await Promise.all([this.client.auth.authKeys.set(O3,{responseTopic:x,publicKey:C}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:b})]),await this.client.core.relayer.subscribe(x,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:N}=_f(a[0]);let D=lLe(N,"request",m);$3(y)&&(D=uLe(D,y.pop())),y.push(D)}const I=w&&w>ii.wc_sessionAuthenticate.req.ttl?w:ii.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:g,resources:y},requester:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:On(I)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:On(ii.wc_sessionPropose.req.ttl),id:Fl()},{done:L,resolve:U,reject:W}=Bh(I,"Request expired"),M=Fl(),A=hr("session_connect",T.id),_=hr("session_request",M),S=async({error:N,session:D})=>{this.events.off(_,O),N?W(N):D&&U({session:D})},O=async N=>{var D,F,k;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),N.error){const re=Fr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===re.code?void 0:(this.events.off(A,S),W(N.error.message))}await this.deleteProposal(T.id),this.events.off(A,S);const{cacaos:z,responder:V}=N.result,j=[],G=[];for(const re of z){await WL({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,"Signature verification failed"),W(Fr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:le}=re,ne=$3(le.resources),ae=[GA(le.iss)],ye=i6(le.iss);if(ne){const de=HL(ne),he=qL(ne);j.push(...de),ae.push(...he)}for(const de of ae)G.push(`${de}:${ye}`)}const Q=await this.client.core.crypto.generateSharedKey(C,V.publicKey);let K;j.length>0&&(K={topic:Q,acknowledged:!0,self:{publicKey:C,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:On(Yp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:gF([...new Set(j)],[...new Set(G)]),transportType:o},await this.client.core.relayer.subscribe(Q,{transportType:o}),await this.client.session.set(Q,K),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:V.metadata}),K=this.client.session.get(Q)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(F=V.metadata.redirect)!=null&&F.linkMode&&(k=V.metadata.redirect)!=null&&k.universal&&n&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(Q,{transportType:Lr.link_mode})),U({auths:z,session:K})};this.events.once(A,S),this.events.once(_,O);let P;try{if(s){const N=Gl("wc_sessionAuthenticate",$,M);this.client.core.history.set(b,N);const D=await this.client.core.crypto.encode("",N,{type:a2,encoding:Cd});P=Sb(n,b,D)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:$,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:T,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(N){throw this.events.off(A,S),this.events.off(_,O),N}return await this.setProposal(T.id,T),await this.setAuthRequest(M,{request:Ri(mr({},$),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:P??v,response:L}}),Ce(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[jh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(_1.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(_1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Lr.relay;a===Lr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=I3(l),h={type:fu,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const w of i){if(!await WL({cacao:w,projectId:this.client.core.projectId})){s.setError(_1.invalid_cacao);const x=Fr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:x,encodeOpts:h}),new Error(x.message)}s.addTrace(jh.cacaos_verified);const{p:y}=w,b=$3(y.resources),v=[GA(y.iss)],C=i6(y.iss);if(b){const x=HL(b),I=qL(b);f.push(...x),v.push(...I)}for(const x of v)p.push(`${x}:${C}`)}const g=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(jh.create_authenticated_session_topic);let m;if((f==null?void 0:f.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:On(Yp),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:gF([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(jh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(w){throw s.setError(_1.subscribe_authenticated_session_topic_failure),w}s.addTrace(jh.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(jh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(jh.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(_1.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),Ce(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Lr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=I3(o),c={type:fu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:l,error:i,encodeOpts:c,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Ce(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return Ste(n,i)}),Ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Ce(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Ce(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Fr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(cU).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Fr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Tl.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Ce(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(E1.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Fr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Ce(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Tl.idle,this.client.events.emit("session_request_expire",{id:r}))}),Ce(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),Ce(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Ce(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,On(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Ce(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Lr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Ce(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||On(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),Ce(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=r,p=Gl(i,s,l);let g;const m=!!u;try{const b=m?Cd:Ns;g=await this.client.core.crypto.encode(n,p,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),b}let w;if(BVe.includes(i)){const b=Ko(JSON.stringify(p)),v=Ko(g);w=await this.client.core.verify.register({id:v,decryptedId:b})}const y=mr(mr({},ii[i].req),f);if(y.attestation=w,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(n,p),m){const b=Sb(u,n,g);await globalThis.Linking.openURL(b,this.client.name)}else y.tvf=Ri(mr({},h),{correlationId:p.id}),c?(y.internal=Ri(mr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,g,y)):this.client.core.relayer.publish(n,g,y).catch(b=>this.client.logger.error(b));return p.id}),Ce(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Gl("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Ns}),a=Ko(JSON.stringify(s)),l=Ko(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Ri(mr({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),Ce(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,l=cv(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Ns}),u=Gl("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(n,u,{encoding:Ns});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:Ri(mr({},a),{publishMethod:"wc_approveSession"})})}),Ce(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=r,c=cv(n,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const g=h?Cd:Ns;u=await this.client.core.crypto.encode(i,c,Ri(mr({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let f,p;try{f=await this.client.core.history.get(i,n);const g=f.request;try{p=this.getTVFParams(n,g.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(h){const g=Sb(l,i,u);await globalThis.Linking.openURL(g,this.client.name)}else{const g=f.request.method,m=ii[g].res;m.tvf=Ri(mr({},p),{correlationId:n}),o?(m.internal=Ri(mr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)}),Ce(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=r,c=Lx(n,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const p=h?Cd:Ns;u=await this.client.core.crypto.encode(i,c,Ri(mr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),p}if(h){const p=Sb(l,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=a||ii[p].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(c)}),Ce(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;fd(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{fd(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Ce(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Ce(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Tl.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Tl.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Tl.idle}),Ce(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),Ce(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Ce(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=je("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Ce(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ce(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(Uc.proposal_listener_not_found)),this.isValidConnect(mr({},i.params));const u=a.expiryTimestamp||On(ii.wc_sessionPropose.req.ttl),h=mr({id:l,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Ko(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c==null||c.addTrace(Rl.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:n,error:c,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),Ce(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Ul(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Yo(n)){await this.deleteProposal(s);const o=hr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Ce(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n.params,p=[...this.pendingSessions.values()].find(w=>w.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(p.proposalId),m=Ri(mr(mr(mr({topic:r,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:Lr.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(hr("session_connect",p.proposalId),{session:m}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Ul(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(hr("session_approve",i),{})):Yo(n)&&(await this.client.session.delete(r,Fr("USER_DISCONNECTED")),this.events.emit(hr("session_approve",i),{error:n.error}))}),Ce(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=b1.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Fr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(mr({topic:r},i));try{b1.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw b1.delete(o),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Ce(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=hr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ul(n)?this.events.emit(hr("session_update",i),{}):Yo(n)&&this.events.emit(hr("session_update",i),{error:n.error})}),Ce(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,On(Yp)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ce(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=hr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ul(n)?this.events.emit(hr("session_extend",i),{}):Yo(n)&&this.events.emit(hr("session_extend",i),{error:n.error})}),Ce(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ce(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=hr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Ul(n)?this.events.emit(hr("session_ping",i),{}):Yo(n)&&this.events.emit(hr("session_ping",i),{error:n.error})},500)}),Ce(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(hn.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Fr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Ce(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=r,{id:h,params:f}=a;try{await this.isValidRequest(mr({topic:o},f));const p=this.client.session.get(o),g=await this.getVerifyContext({attestationId:l,hash:Ko(JSON.stringify(Gl("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),m={id:h,topic:o,params:f,verifyContext:g};await this.setPendingSessionRequest(m),u===Lr.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),Ce(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=hr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ul(n)?this.events.emit(hr("session_request",i),{result:n.result}):Yo(n)&&this.events.emit(hr("session_request",i),{error:n.error})}),Ce(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=b1.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(mr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),b1.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ul(n)?this.events.emit(hr("session_request",i),{result:n.result}):Yo(n)&&this.events.emit(hr("session_request",i),{error:n.error})}),Ce(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=r;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Ko(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===Lr.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:fu,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:f})}}),Ce(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Ce(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Tl.idle,this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay))}),Ce(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=hr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(hr("session_request",s.request.id),{error:n})})}),Ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Tl.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Ce(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Tl.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Ce(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Gl("wc_sessionPropose",Ri(mr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Ce(this,"isValidConnect",async r=>{if(!ks(r)){const{message:c}=je("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=r;if(jn(n)||await this.isValidPairingTopic(n),!fUe(l)){const{message:c}=je("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!jn(i)&&cc(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!jn(s)&&cc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),jn(o)||this.validateSessionProps(o,"sessionProperties"),!jn(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),Ce(this,"validateNamespaces",(r,n)=>{const i=hUe(r,"connect()",n);if(i)throw new Error(i.message)}),Ce(this,"isValidApprove",async r=>{if(!ks(r))throw new Error(je("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),c=BE(i,"approve()");if(c)throw new Error(c.message);const u=wF(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!An(s,!0)){const{message:h}=je("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(jn(o)||this.validateSessionProps(o,"sessionProperties"),!jn(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),Ce(this,"isValidReject",async r=>{if(!ks(r)){const{message:s}=je("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!gUe(i)){const{message:s}=je("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Ce(this,"isValidSessionSettleRequest",r=>{if(!ks(r)){const{message:c}=je("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!ire(n)){const{message:c}=je("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=oUe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=BE(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(fd(o)){const{message:c}=je("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),Ce(this,"isValidUpdate",async r=>{if(!ks(r)){const{message:l}=je("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=BE(i,"update()");if(o)throw new Error(o.message);const a=wF(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Ce(this,"isValidExtend",async r=>{if(!ks(r)){const{message:i}=je("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Ce(this,"isValidRequest",async r=>{if(!ks(r)){const{message:l}=je("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!yF(a,s)){const{message:l}=je("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!mUe(i)){const{message:l}=je("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!vUe(a,s,i.method)){const{message:l}=je("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!_Ue(o,QE)){const{message:l}=je("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${QE.min} and ${QE.max}`);throw new Error(l)}}),Ce(this,"isValidRespond",async r=>{var n;if(!ks(r)){const{message:o}=je("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!yUe(s)){const{message:o}=je("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Ce(this,"isValidPing",async r=>{if(!ks(r)){const{message:i}=je("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ce(this,"isValidEmit",async r=>{if(!ks(r)){const{message:a}=je("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!yF(o,s)){const{message:a}=je("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!wUe(i)){const{message:a}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!bUe(o,s,i.name)){const{message:a}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Ce(this,"isValidDisconnect",async r=>{if(!ks(r)){const{message:i}=je("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ce(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!An(i,!1))throw new Error("uri is required parameter");if(!An(s,!1))throw new Error("domain is required parameter");if(!An(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>_f(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=_f(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ce(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,l={verified:{verifyUrl:o.verifyUrl||Py,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Lr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),Ce(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=je("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),Ce(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Ce(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Ce(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=je("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),Ce(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,l,c,u,h,f;return!r||n!==Lr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),Ce(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),Ce(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=PL(r,"topic")||"",i=decodeURIComponent(PL(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Lr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Ce(this,"registerLinkModeListeners",async()=>{var r;if(FT()||_h()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis==null?void 0:globalThis.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Ce(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const c=this.extractTxHashesFromResult(n.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),Ce(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Ce(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=FVe[s];if(s==="sui_signTransaction")return[VDe(n.transactionBytes)];if(s==="near_signTransaction")return[FL(n)];if(s==="near_signTransactions")return n.map(l=>FL(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[LUe({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return aa(n)?n.map(l=>UL(l)):[UL(n)];if(s==="cosmos_signDirect")return[KDe(n)];if(typeof n=="string")return[n];const a=n[o.key];if(aa(a))return s==="solana_signAllTransactions"?a.map(l=>qDe(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=je("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(O3)?this.client.auth.authKeys.get(O3):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Lr.link_mode?Cd:Ns});tP(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Ko(n)})):Fx(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(qo.expired,async e=>{const{topic:r,id:n}=hte(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,je("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,je("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Yh.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Yh.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!An(e,!1)){const{message:r}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(fd(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=je("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!An(e,!1)){const{message:r}=je("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(fd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=je("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=je("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(An(e,!1)){const{message:r}=je("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=je("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!pUe(e)){const{message:r}=je("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=je("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(fd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=je("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},XVe=class extends xp{constructor(e,r){super(e,r,jVe,rP),this.core=e,this.logger=r}},eGe=class extends xp{constructor(e,r){super(e,r,DVe,rP),this.core=e,this.logger=r}},tGe=class extends xp{constructor(e,r){super(e,r,UVe,rP,n=>n.id),this.core=e,this.logger=r}},rGe=class extends xp{constructor(e,r){super(e,r,HVe,Bx,()=>O3),this.core=e,this.logger=r}},nGe=class extends xp{constructor(e,r){super(e,r,qVe,Bx),this.core=e,this.logger=r}},iGe=class extends xp{constructor(e,r){super(e,r,VVe,Bx,n=>n.id),this.core=e,this.logger=r}};var sGe=Object.defineProperty,oGe=(t,e,r)=>e in t?sGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ZE=(t,e,r)=>oGe(t,typeof e!="symbol"?e+"":e,r);let aGe=class{constructor(e,r){this.core=e,this.logger=r,ZE(this,"authKeys"),ZE(this,"pairingTopics"),ZE(this,"requests"),this.authKeys=new rGe(this.core,this.logger),this.pairingTopics=new nGe(this.core,this.logger),this.requests=new iGe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var lGe=Object.defineProperty,cGe=(t,e,r)=>e in t?lGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zt=(t,e,r)=>cGe(t,typeof e!="symbol"?e+"":e,r);let uGe=class Dre extends lze{constructor(e){super(e),Zt(this,"protocol",Mre),Zt(this,"version",Rre),Zt(this,"name",YE.name),Zt(this,"metadata"),Zt(this,"core"),Zt(this,"logger"),Zt(this,"events",new No.EventEmitter),Zt(this,"engine"),Zt(this,"session"),Zt(this,"proposal"),Zt(this,"pendingRequest"),Zt(this,"auth"),Zt(this,"signConfig"),Zt(this,"on",(n,i)=>this.events.on(n,i)),Zt(this,"once",(n,i)=>this.events.once(n,i)),Zt(this,"off",(n,i)=>this.events.off(n,i)),Zt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Zt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Zt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Zt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Zt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||YE.name,this.metadata=Dje(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:c2(Dx({level:(e==null?void 0:e.logger)||YE.logger}));this.core=(e==null?void 0:e.core)||new RVe(e),this.logger=bs(r,this.name),this.session=new eGe(this.core,this.logger),this.proposal=new XVe(this.core,this.logger),this.pendingRequest=new tGe(this.core,this.logger),this.engine=new JVe(this),this.auth=new aGe(this.core,this.logger)}static async init(e){const r=new Dre(e);return await r.initialize(),r}get context(){return Js(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var xk={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(_){return _&&DataView.prototype.isPrototypeOf(_)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(_){return _&&u.indexOf(Object.prototype.toString.call(_))>-1};function f(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function p(_){return typeof _!="string"&&(_=String(_)),_}function g(_){var S={next:function(){var O=_.shift();return{done:O===void 0,value:O}}};return l.iterable&&(S[Symbol.iterator]=function(){return S}),S}function m(_){this.map={},_ instanceof m?_.forEach(function(S,O){this.append(O,S)},this):Array.isArray(_)?_.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(S){this.append(S,_[S])},this)}m.prototype.append=function(_,S){_=f(_),S=p(S);var O=this.map[_];this.map[_]=O?O+", "+S:S},m.prototype.delete=function(_){delete this.map[f(_)]},m.prototype.get=function(_){return _=f(_),this.has(_)?this.map[_]:null},m.prototype.has=function(_){return this.map.hasOwnProperty(f(_))},m.prototype.set=function(_,S){this.map[f(_)]=p(S)},m.prototype.forEach=function(_,S){for(var O in this.map)this.map.hasOwnProperty(O)&&_.call(S,this.map[O],O,this)},m.prototype.keys=function(){var _=[];return this.forEach(function(S,O){_.push(O)}),g(_)},m.prototype.values=function(){var _=[];return this.forEach(function(S){_.push(S)}),g(_)},m.prototype.entries=function(){var _=[];return this.forEach(function(S,O){_.push([O,S])}),g(_)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(_){if(!_._noBody){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}}function y(_){return new Promise(function(S,O){_.onload=function(){S(_.result)},_.onerror=function(){O(_.error)}})}function b(_){var S=new FileReader,O=y(S);return S.readAsArrayBuffer(_),O}function v(_){var S=new FileReader,O=y(S),P=/charset=([A-Za-z0-9_-]+)/.exec(_.type),N=P?P[1]:"utf-8";return S.readAsText(_,N),O}function C(_){for(var S=new Uint8Array(_),O=new Array(S.length),P=0;P<S.length;P++)O[P]=String.fromCharCode(S[P]);return O.join("")}function x(_){if(_.slice)return _.slice(0);var S=new Uint8Array(_.byteLength);return S.set(new Uint8Array(_)),S.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(_){this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:l.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:l.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():l.arrayBuffer&&l.blob&&c(_)?(this._bodyArrayBuffer=x(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||h(_))?this._bodyArrayBuffer=x(_):this._bodyText=_=Object.prototype.toString.call(_):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var _=w(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var _=w(this);return _||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var _=w(this);if(_)return _;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(_){var S=_.toUpperCase();return $.indexOf(S)>-1?S:_}function T(_,S){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var O=S.body;if(_ instanceof T){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,S.headers||(this.headers=new m(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!O&&_._bodyInit!=null&&(O=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new m(S.headers)),this.method=R(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function L(_){var S=new FormData;return _.trim().split("&").forEach(function(O){if(O){var P=O.split("="),N=P.shift().replace(/\+/g," "),D=P.join("=").replace(/\+/g," ");S.append(decodeURIComponent(N),decodeURIComponent(D))}}),S}function U(_){var S=new m,O=_.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var N=P.split(":"),D=N.shift().trim();if(D){var F=N.join(":").trim();try{S.append(D,F)}catch(k){console.warn("Response "+k.message)}}}),S}I.call(T.prototype);function W(_,S){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new m(S.headers),this.url=S.url||"",this._initBody(_)}I.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},W.error=function(){var _=new W(null,{status:200,statusText:""});return _.ok=!1,_.status=0,_.type="error",_};var M=[301,302,303,307,308];W.redirect=function(_,S){if(M.indexOf(S)===-1)throw new RangeError("Invalid status code");return new W(null,{status:S,headers:{location:_}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(S,O){this.message=S,this.name=O;var P=Error(S);this.stack=P.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function A(_,S){return new Promise(function(O,P){var N=new T(_,S);if(N.signal&&N.signal.aborted)return P(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function F(){D.abort()}D.onload=function(){var V={statusText:D.statusText,headers:U(D.getAllResponseHeaders()||"")};N.url.indexOf("file://")===0&&(D.status<200||D.status>599)?V.status=200:V.status=D.status,V.url="responseURL"in D?D.responseURL:V.headers.get("X-Request-URL");var j="response"in D?D.response:D.responseText;setTimeout(function(){O(new W(j,V))},0)},D.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){P(new o.DOMException("Aborted","AbortError"))},0)};function k(V){try{return V===""&&a.location.href?a.location.href:V}catch{return V}}if(D.open(N.method,k(N.url),!0),N.credentials==="include"?D.withCredentials=!0:N.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(l.blob?D.responseType="blob":l.arrayBuffer&&(D.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof m||a.Headers&&S.headers instanceof a.Headers)){var z=[];Object.getOwnPropertyNames(S.headers).forEach(function(V){z.push(f(V)),D.setRequestHeader(V,p(S.headers[V]))}),N.headers.forEach(function(V,j){z.indexOf(j)===-1&&D.setRequestHeader(j,V)})}else N.headers.forEach(function(V,j){D.setRequestHeader(j,V)});N.signal&&(N.signal.addEventListener("abort",F),D.onreadystatechange=function(){D.readyState===4&&N.signal.removeEventListener("abort",F)}),D.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return A.polyfill=!0,a.fetch||(a.fetch=A,a.Headers=m,a.Request=T,a.Response=W),o.Headers=m,o.Request=T,o.Response=W,o.fetch=A,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(xk,xk.exports);var dGe=xk.exports;const hU=ko(dGe);var hGe=Object.defineProperty,fGe=Object.defineProperties,pGe=Object.getOwnPropertyDescriptors,fU=Object.getOwnPropertySymbols,gGe=Object.prototype.hasOwnProperty,mGe=Object.prototype.propertyIsEnumerable,pU=(t,e,r)=>e in t?hGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gU=(t,e)=>{for(var r in e||(e={}))gGe.call(e,r)&&pU(t,r,e[r]);if(fU)for(var r of fU(e))mGe.call(e,r)&&pU(t,r,e[r]);return t},mU=(t,e)=>fGe(t,pGe(e));const yGe={Accept:"application/json","Content-Type":"application/json"},wGe="POST",yU={headers:yGe,method:wGe},wU=10;let vl=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new No.EventEmitter,this.isAvailable=!1,this.registering=!1,!RF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=$u(e),n=await(await hU(this.url,mU(gU({},yU),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!RF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=$u({id:1,jsonrpc:"2.0",method:"test",params:[]});await hU(e,mU(gU({},yU),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Lx(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return hre(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>wU&&this.events.setMaxListeners(wU)}};const vU="error",vGe="wss://relay.walletconnect.org",bGe="wc",xGe="universal_provider",Tb=`${bGe}@2:${xGe}:`,Lre="https://rpc.walletconnect.org/v1/",Fre="generic",EGe=`${Lre}bundler`,ka={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function nP(t){return t==null||typeof t!="object"&&typeof t!="function"}function Ure(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Bre(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _Ge="[object RegExp]",zre="[object String]",Wre="[object Number]",Hre="[object Boolean]",qre="[object Arguments]",CGe="[object Symbol]",AGe="[object Date]",kGe="[object Map]",SGe="[object Set]",$Ge="[object Array]",IGe="[object ArrayBuffer]",TGe="[object Object]",PGe="[object DataView]",NGe="[object Uint8Array]",OGe="[object Uint8ClampedArray]",MGe="[object Uint16Array]",RGe="[object Uint32Array]",jGe="[object Int8Array]",DGe="[object Int16Array]",LGe="[object Int32Array]",FGe="[object Float32Array]",UGe="[object Float64Array]";function iP(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BGe(t,e){return R0(t,void 0,t,new Map,e)}function R0(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(nP(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=R0(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,l]of t)o.set(a,R0(l,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(R0(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(iP(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=R0(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Qh(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Qh(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Qh(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qh(o,t,r,n,i),o}if(typeof t=="object"&&zGe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Qh(o,t,r,n,i),o}return t}function Qh(t,e,r=t,n,i){const s=[...Object.keys(e),...Ure(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=R0(e[a],a,r,n,i))}}function zGe(t){switch(Bre(t)){case qre:case $Ge:case IGe:case PGe:case Hre:case AGe:case FGe:case UGe:case jGe:case DGe:case LGe:case kGe:case Wre:case TGe:case _Ge:case SGe:case zre:case CGe:case NGe:case OGe:case MGe:case RGe:return!0;default:return!1}}function WGe(t,e){return BGe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Wre:case zre:case Hre:{const o=new t.constructor(t==null?void 0:t.valueOf());return Qh(o,t),o}case qre:{const o={};return Qh(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function bU(t){return WGe(t)}function xU(t){return t!==null&&typeof t=="object"&&Bre(t)==="[object Arguments]"}function EU(t){return typeof t=="object"&&t!==null}function HGe(){}function qGe(t){return iP(t)}function VGe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function GGe(t){if(nP(t))return t;if(Array.isArray(t)||iP(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function KGe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=Ek(i,o,n,new Map)}return i}function Ek(t,e,r,n){if(nP(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return GGe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Ure(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(xU(a)&&(a={...a}),xU(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=bU(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=r(l,a,o,t,e,n);c!=null?t[o]=c:Array.isArray(a)||EU(l)&&EU(a)?t[o]=Ek(l,a,r,n):l==null&&VGe(a)?t[o]=Ek({},a,r,n):l==null&&qGe(a)?t[o]=bU(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function YGe(t,...e){return KGe(t,...e,HGe)}var QGe=Object.defineProperty,ZGe=Object.defineProperties,JGe=Object.getOwnPropertyDescriptors,_U=Object.getOwnPropertySymbols,XGe=Object.prototype.hasOwnProperty,eKe=Object.prototype.propertyIsEnumerable,CU=(t,e,r)=>e in t?QGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pb=(t,e)=>{for(var r in e||(e={}))XGe.call(e,r)&&CU(t,r,e[r]);if(_U)for(var r of _U(e))eKe.call(e,r)&&CU(t,r,e[r]);return t},tKe=(t,e)=>ZGe(t,JGe(e));function Co(t,e,r){var n;const i=_f(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Lre}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Ep(t){return t.includes(":")?t.split(":")[1]:t}function Vre(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function rKe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function AU(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((i=r==null?void 0:r.chains)==null?void 0:i.length)>0}))}function Nb(t={},e={}){const r=AU(kU(t)),n=AU(kU(e));return YGe(r,n)}function kU(t){var e,r,n,i,s;const o={};if(!cc(t))return o;for(const[a,l]of Object.entries(t)){const c=Rx(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=M0(a);o[p]=tKe(Pb(Pb({},o[p]),l),{chains:lc(c,(e=o[p])==null?void 0:e.chains),methods:lc(u,(r=o[p])==null?void 0:r.methods),events:lc(h,(n=o[p])==null?void 0:n.events)}),(cc(f)||cc(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=Pb(Pb({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function SU(t){return t.includes(":")?t.split(":")[2]:t}function $U(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=Rx(r)?[r]:n.chains?n.chains:Vre(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function JE(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Gre={},ur=t=>Gre[t],XE=(t,e)=>{Gre[t]=e};var nKe=Object.defineProperty,IU=Object.getOwnPropertySymbols,iKe=Object.prototype.hasOwnProperty,sKe=Object.prototype.propertyIsEnumerable,TU=(t,e,r)=>e in t?nKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PU=(t,e)=>{for(var r in e||(e={}))iKe.call(e,r)&&TU(t,r,e[r]);if(IU)for(var r of IU(e))sKe.call(e,r)&&TU(t,r,e[r]);return t};const NU="eip155",oKe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],aKe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,e_=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,OU=t=>Object.keys(t).filter(e=>oKe.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),lKe=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!cc(i)&&!cc(n))return;const o=OU(n);for(const a of r){const l=aKe(a);if(!l)continue;s[e_(l)]=o;const c=i==null?void 0:i[`${NU}:${l}`];if(c){const u=c==null?void 0:c[`${NU}:${l}:${e}`];s[e_(l)]=PU(PU({},s[e_(l)]),OU(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var cKe=Object.defineProperty,uKe=(t,e,r)=>e in t?cKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qp=(t,e,r)=>uKe(t,typeof e!="symbol"?e+"":e,r);class dKe{constructor(e){Qp(this,"name","polkadot"),Qp(this,"client"),Qp(this,"httpProviders"),Qp(this,"events"),Qp(this,"namespace"),Qp(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ep(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}}var hKe=Object.defineProperty,fKe=Object.defineProperties,pKe=Object.getOwnPropertyDescriptors,MU=Object.getOwnPropertySymbols,gKe=Object.prototype.hasOwnProperty,mKe=Object.prototype.propertyIsEnumerable,_k=(t,e,r)=>e in t?hKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RU=(t,e)=>{for(var r in e||(e={}))gKe.call(e,r)&&_k(t,r,e[r]);if(MU)for(var r of MU(e))mKe.call(e,r)&&_k(t,r,e[r]);return t},jU=(t,e)=>fKe(t,pKe(e)),Zp=(t,e,r)=>_k(t,typeof e!="symbol"?e+"":e,r);class yKe{constructor(e){Zp(this,"name","eip155"),Zp(this,"client"),Zp(this,"chainId"),Zp(this,"namespace"),Zp(this,"httpProviders"),Zp(this,"events"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Co(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Ep(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u==null?void 0:u[h];if(f)return f;let p;try{p=lKe(c,a,l)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(p)return p;const g=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:jU(RU({},c.sessionProperties||{}),{capabilities:jU(RU({},u||{}),{[h]:g})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return g}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gl("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${EGe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var wKe=Object.defineProperty,vKe=(t,e,r)=>e in t?wKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jp=(t,e,r)=>vKe(t,typeof e!="symbol"?e+"":e,r);class bKe{constructor(e){Jp(this,"name","solana"),Jp(this,"client"),Jp(this,"httpProviders"),Jp(this,"events"),Jp(this,"namespace"),Jp(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ep(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}}var xKe=Object.defineProperty,EKe=(t,e,r)=>e in t?xKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xp=(t,e,r)=>EKe(t,typeof e!="symbol"?e+"":e,r);class _Ke{constructor(e){Xp(this,"name","cosmos"),Xp(this,"client"),Xp(this,"httpProviders"),Xp(this,"events"),Xp(this,"namespace"),Xp(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ep(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}}var CKe=Object.defineProperty,AKe=(t,e,r)=>e in t?CKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e0=(t,e,r)=>AKe(t,typeof e!="symbol"?e+"":e,r);class kKe{constructor(e){e0(this,"name","algorand"),e0(this,"client"),e0(this,"httpProviders"),e0(this,"events"),e0(this,"namespace"),e0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Co(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Aa(new vl(n,ur("disableProviderPing")))}}var SKe=Object.defineProperty,$Ke=(t,e,r)=>e in t?SKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,t0=(t,e,r)=>$Ke(t,typeof e!="symbol"?e+"":e,r);class IKe{constructor(e){t0(this,"name","cip34"),t0(this,"client"),t0(this,"httpProviders"),t0(this,"events"),t0(this,"namespace"),t0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Ep(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}}var TKe=Object.defineProperty,PKe=(t,e,r)=>e in t?TKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r0=(t,e,r)=>PKe(t,typeof e!="symbol"?e+"":e,r);class NKe{constructor(e){r0(this,"name","elrond"),r0(this,"client"),r0(this,"httpProviders"),r0(this,"events"),r0(this,"namespace"),r0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ep(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}}var OKe=Object.defineProperty,MKe=(t,e,r)=>e in t?OKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,n0=(t,e,r)=>MKe(t,typeof e!="symbol"?e+"":e,r);let RKe=class{constructor(e){n0(this,"name","multiversx"),n0(this,"client"),n0(this,"httpProviders"),n0(this,"events"),n0(this,"namespace"),n0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ep(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}};var jKe=Object.defineProperty,DKe=(t,e,r)=>e in t?jKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i0=(t,e,r)=>DKe(t,typeof e!="symbol"?e+"":e,r);let LKe=class{constructor(e){i0(this,"name","near"),i0(this,"client"),i0(this,"httpProviders"),i0(this,"events"),i0(this,"namespace"),i0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Co(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace);return typeof n>"u"?void 0:new Aa(new vl(n,ur("disableProviderPing")))}};var FKe=Object.defineProperty,UKe=(t,e,r)=>e in t?FKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s0=(t,e,r)=>UKe(t,typeof e!="symbol"?e+"":e,r);let BKe=class{constructor(e){s0(this,"name","tezos"),s0(this,"client"),s0(this,"httpProviders"),s0(this,"events"),s0(this,"namespace"),s0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Co(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace);return typeof n>"u"?void 0:new Aa(new vl(n))}};var zKe=Object.defineProperty,WKe=(t,e,r)=>e in t?zKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o0=(t,e,r)=>WKe(t,typeof e!="symbol"?e+"":e,r);let HKe=class{constructor(e){o0(this,"name",Fre),o0(this,"client"),o0(this,"httpProviders"),o0(this,"events"),o0(this,"namespace"),o0(this,"chainId"),this.namespace=e.namespace,this.events=ur("events"),this.client=ur("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return _f(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=_f(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Co(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Aa(new vl(n,ur("disableProviderPing")))}};var qKe=Object.defineProperty,VKe=Object.defineProperties,GKe=Object.getOwnPropertyDescriptors,DU=Object.getOwnPropertySymbols,KKe=Object.prototype.hasOwnProperty,YKe=Object.prototype.propertyIsEnumerable,Ck=(t,e,r)=>e in t?qKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ob=(t,e)=>{for(var r in e||(e={}))KKe.call(e,r)&&Ck(t,r,e[r]);if(DU)for(var r of DU(e))YKe.call(e,r)&&Ck(t,r,e[r]);return t},t_=(t,e)=>VKe(t,GKe(e)),Bo=(t,e,r)=>Ck(t,typeof e!="symbol"?e+"":e,r);let QKe=class Kre{constructor(e){Bo(this,"client"),Bo(this,"namespaces"),Bo(this,"optionalNamespaces"),Bo(this,"sessionProperties"),Bo(this,"scopedProperties"),Bo(this,"events",new CT),Bo(this,"rpcProviders",{}),Bo(this,"session"),Bo(this,"providerOpts"),Bo(this,"logger"),Bo(this,"uri"),Bo(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:c2(Dx({level:(e==null?void 0:e.logger)||vU})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new Kre(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Ob({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,cv(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Fr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=$U(this.session.namespaces);this.namespaces=Nb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=$U(i.namespaces);return this.namespaces=Nb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!aa(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await uGe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||vU,relayUrl:this.providerOpts.relayUrl||vGe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>M0(r)))];XE("client",this.client),XE("events",this.events),XE("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=rKe(r,this.session);if((n==null?void 0:n.length)===0)return;const i=Vre(n),s=Nb(this.namespaces,this.optionalNamespaces),o=t_(Ob({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new yKe({namespace:o});break;case"algorand":this.rpcProviders[r]=new kKe({namespace:o});break;case"solana":this.rpcProviders[r]=new bKe({namespace:o});break;case"cosmos":this.rpcProviders[r]=new _Ke({namespace:o});break;case"polkadot":this.rpcProviders[r]=new dKe({namespace:o});break;case"cip34":this.rpcProviders[r]=new IKe({namespace:o});break;case"elrond":this.rpcProviders[r]=new NKe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new RKe({namespace:o});break;case"near":this.rpcProviders[r]=new LKe({namespace:o});break;case"tezos":this.rpcProviders[r]=new BKe({namespace:o});break;default:this.rpcProviders[r]=new HKe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&aa(o)&&this.events.emit("accountsChanged",o.map(SU))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,l=M0(o),c=JE(o)!==JE(a)?`${l}:${JE(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=t_(Ob({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",t_(Ob({},Fr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ka.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Fre]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Nb(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>M0(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=M0(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${n}:`)).map(SU);if(!aa(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Tb}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Tb}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Tb}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Tb)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const ZKe=QKe,JKe="wc",XKe="ethereum_provider",eYe=`${JKe}@2:${XKe}:`,tYe="https://rpc.walletconnect.org/v1/",Ak=["eth_sendTransaction","personal_sign"],Yre=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],kk=["chainChanged","accountsChanged"],Qre=["chainChanged","accountsChanged","message","disconnect","connect"],rYe=async()=>{const{createAppKit:t}=await tc(()=>import("./core-BulHvddS.js").then(e=>e.X),[]);return t};var nYe=Object.defineProperty,iYe=Object.defineProperties,sYe=Object.getOwnPropertyDescriptors,LU=Object.getOwnPropertySymbols,oYe=Object.prototype.hasOwnProperty,aYe=Object.prototype.propertyIsEnumerable,Sk=(t,e,r)=>e in t?nYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zh=(t,e)=>{for(var r in e||(e={}))oYe.call(e,r)&&Sk(t,r,e[r]);if(LU)for(var r of LU(e))aYe.call(e,r)&&Sk(t,r,e[r]);return t},k1=(t,e)=>iYe(t,sYe(e)),ro=(t,e,r)=>Sk(t,typeof e!="symbol"?e+"":e,r);function d6(t){return Number(t[0].split(":")[1])}function Mb(t){return`0x${t.toString(16)}`}function lYe(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!aa(e))throw new Error("Invalid chains");const l={chains:e,methods:n||Ak,events:s||kk,rpcMap:zh({},e.length?{[d6(e)]:a[d6(e)]}:{})},c=s==null?void 0:s.filter(p=>!kk.includes(p)),u=n==null?void 0:n.filter(p=>!Ak.includes(p));if(!r&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!r,f={chains:[...new Set(h?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:Yre))],events:[...new Set(l.events.concat(o!=null&&o.length?o:Qre))],rpcMap:a};return{required:e.length?l:void 0,optional:r.length?f:void 0}}class sP{constructor(){ro(this,"events",new No.EventEmitter),ro(this,"namespace","eip155"),ro(this,"accounts",[]),ro(this,"signer"),ro(this,"chainId",1),ro(this,"modal"),ro(this,"rpc"),ro(this,"STORAGE_KEY",eYe),ro(this,"on",(e,r)=>(this.events.on(e,r),this)),ro(this,"once",(e,r)=>(this.events.once(e,r),this)),ro(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),ro(this,"off",(e,r)=>(this.events.off(e,r),this)),ro(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new sP;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=lYe(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(k1(zh({namespaces:zh({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=kL(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Mb(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(k1(zh({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=kL(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Mb(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Mb(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",k1(zh({},Fr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Mb(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||Ak:[],l=i.length?(e==null?void 0:e.events)||kk:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),f=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?d6(this.rpc.chains):d6(this.rpc.optionalChains),this.signer=await ZKe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await rYe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return vYe}),s=i(k1(zh({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");r=n(k1(zh({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&aa(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&aa(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${tYe}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const cYe=sP;var uYe=Object.defineProperty,dYe=Object.defineProperties,hYe=Object.getOwnPropertyDescriptors,FU=Object.getOwnPropertySymbols,fYe=Object.prototype.hasOwnProperty,pYe=Object.prototype.propertyIsEnumerable,UU=(t,e,r)=>e in t?uYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zre=(t,e)=>{for(var r in e||(e={}))fYe.call(e,r)&&UU(t,r,e[r]);if(FU)for(var r of FU(e))pYe.call(e,r)&&UU(t,r,e[r]);return t},gYe=(t,e)=>dYe(t,hYe(e));function mYe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const yYe=t=>{const[e,r]=t.split(":");return Jre({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function wYe(t){var e,r,n,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(yYe).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:mYe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:gYe(Zre({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(g=>!f.includes(g.id));p.length&&(u.customWallets=p)}return u}function Jre(t){return Zre({formatters:void 0,fees:void 0,serializers:void 0},t)}var vYe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:wYe,defineChain:Jre}),bYe=function(e,r){return Math.round(r*Math.log(e)/Math.LN2)},xYe=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],EYe=function(e){return function(r){return e.reduce(function(n,i){return n+(i.re.test(r)?i.length:0)},0)}},_Ye=EYe(xYe),CYe=function(e){return e?bYe(_Ye(e),e.length):0},AYe=CYe;const kYe=ko(AYe);function Xre(t){return crypto.getRandomValues(new Uint8Array(t))}const SYe=256,Oy=65536;function $Ye(){const[t]=Xre(1);return t}function IYe(){const[t,e]=Xre(2);return(t<<8)+e}function TYe(t){if(typeof t!="number"||t<2||t>Oy)throw new Error(`Invalid number: number must be at least two and at most ${Oy}`);const e=t>256,r=e?Oy:SYe,n=e?IYe:$Ye,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function PYe(t,e,r){if(typeof r!="number"||r>Oy)throw new Error(`Invalid argument: end must be a number less than or equal to ${Oy}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+TYe(r-e);return n}function NYe(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return PYe(t,0,e.length).reduce((n,i,s)=>{const o=e[i];return n+(s===0?o:r+o)},"")}const OYe=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),MYe=Object.freeze(OYe.filter(t=>!t.includes("-")));function RYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jYe=E.forwardRef(RYe);function DYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const LYe=E.forwardRef(DYe);function FYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const zx=E.forwardRef(FYe);function UYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Wx=E.forwardRef(UYe);function BYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const oP=E.forwardRef(BYe);function zYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const WYe=E.forwardRef(zYe);function HYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const qYe=E.forwardRef(HYe);function VYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const GYe=E.forwardRef(VYe);function KYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const YYe=E.forwardRef(KYe);function QYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const ZYe=E.forwardRef(QYe);function JYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jm=E.forwardRef(JYe);function XYe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const eQe=E.forwardRef(XYe);function tQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const rQe=E.forwardRef(tQe);function nQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ene=E.forwardRef(nQe);function iQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const sQe=E.forwardRef(iQe);function oQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aQe=E.forwardRef(oQe);function lQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const cQe=E.forwardRef(lQe);function uQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const dQe=E.forwardRef(uQe);function hQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const fQe=E.forwardRef(hQe);function pQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gQe=E.forwardRef(pQe);function mQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const tne=E.forwardRef(mQe);function yQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const wQe=E.forwardRef(yQe);function vQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const bQe=E.forwardRef(vQe);function xQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const rne=E.forwardRef(xQe);function EQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _Qe=E.forwardRef(EQe);function CQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const r_=E.forwardRef(CQe);function AQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const kQe=E.forwardRef(AQe);function SQe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const $Qe=E.forwardRef(SQe);var h2={},IQe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},nne={},Oo={};let aP;const TQe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Oo.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Oo.getSymbolTotalCodewords=function(e){return TQe[e]};Oo.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Oo.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');aP=e};Oo.isKanjiModeEnabled=function(){return typeof aP<"u"};Oo.toSJIS=function(e){return aP(e)};var Hx={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Hx);function ine(){this.buffer=[],this.length=0}ine.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var PQe=ine;function f2(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}f2.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};f2.prototype.get=function(t,e){return this.data[t*this.size+e]};f2.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};f2.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var NQe=f2,sne={};(function(t){const e=Oo.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(sne);var one={};const OQe=Oo.getSymbolSize,BU=7;one.getPositions=function(e){const r=OQe(e);return[[0,0],[r-BU,0],[0,r-BU]]};var ane={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(ane);var qx={};const Ud=Hx,Rb=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],jb=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qx.getBlocksCount=function(e,r){switch(r){case Ud.L:return Rb[(e-1)*4+0];case Ud.M:return Rb[(e-1)*4+1];case Ud.Q:return Rb[(e-1)*4+2];case Ud.H:return Rb[(e-1)*4+3];default:return}};qx.getTotalCodewordsCount=function(e,r){switch(r){case Ud.L:return jb[(e-1)*4+0];case Ud.M:return jb[(e-1)*4+1];case Ud.Q:return jb[(e-1)*4+2];case Ud.H:return jb[(e-1)*4+3];default:return}};var lne={},Vx={};const My=new Uint8Array(512),h6=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)My[r]=e,h6[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)My[r]=My[r-255]})();Vx.log=function(e){if(e<1)throw new Error("log("+e+")");return h6[e]};Vx.exp=function(e){return My[e]};Vx.mul=function(e,r){return e===0||r===0?0:My[h6[e]+h6[r]]};(function(t){const e=Vx;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(lne);const cne=lne;function lP(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}lP.prototype.initialize=function(e){this.degree=e,this.genPoly=cne.generateECPolynomial(this.degree)};lP.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=cne.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var MQe=lP,une={},Ch={},cP={};cP.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ac={};const dne="[0-9]+",RQe="[A-Z $%*+\\-./:]+";let uv="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";uv=uv.replace(/u/g,"\\u");const jQe="(?:(?![A-Z0-9 $%*+\\-./:]|"+uv+`)(?:.|[\r
]))+`;Ac.KANJI=new RegExp(uv,"g");Ac.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ac.BYTE=new RegExp(jQe,"g");Ac.NUMERIC=new RegExp(dne,"g");Ac.ALPHANUMERIC=new RegExp(RQe,"g");const DQe=new RegExp("^"+uv+"$"),LQe=new RegExp("^"+dne+"$"),FQe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ac.testKanji=function(e){return DQe.test(e)};Ac.testNumeric=function(e){return LQe.test(e)};Ac.testAlphanumeric=function(e){return FQe.test(e)};(function(t){const e=cP,r=Ac;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Ch);(function(t){const e=Oo,r=qx,n=Hx,i=Ch,s=cP,o=7973,a=e.getBCHDigit(o);function l(f,p,g){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,g,f))return m}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let g=0;return f.forEach(function(m){const w=c(m.mode,p);g+=w+m.getBitsLength()}),g}function h(f,p){for(let g=1;g<=40;g++)if(u(f,g)<=t.getCapacity(g,p,i.MIXED))return g}t.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},t.getCapacity=function(p,g,m){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(p),y=r.getTotalCodewordsCount(p,g),b=(w-y)*8;if(m===i.MIXED)return b;const v=b-c(m,p);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(p,g){let m;const w=n.from(g,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,w);if(p.length===0)return 1;m=p[0]}else m=p;return l(m.mode,m.getLength(),w)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}})(une);var hne={};const $k=Oo,fne=1335,UQe=21522,zU=$k.getBCHDigit(fne);hne.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;$k.getBCHDigit(i)-zU>=0;)i^=fne<<$k.getBCHDigit(i)-zU;return(n<<10|i)^UQe};var pne={};const BQe=Ch;function Qg(t){this.mode=BQe.NUMERIC,this.data=t.toString()}Qg.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Qg.prototype.getLength=function(){return this.data.length};Qg.prototype.getBitsLength=function(){return Qg.getBitsLength(this.data.length)};Qg.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var zQe=Qg;const WQe=Ch,n_=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zg(t){this.mode=WQe.ALPHANUMERIC,this.data=t}Zg.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Zg.prototype.getLength=function(){return this.data.length};Zg.prototype.getBitsLength=function(){return Zg.getBitsLength(this.data.length)};Zg.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=n_.indexOf(this.data[r])*45;n+=n_.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(n_.indexOf(this.data[r]),6)};var HQe=Zg;const qQe=Ch;function Jg(t){this.mode=qQe.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Jg.getBitsLength=function(e){return e*8};Jg.prototype.getLength=function(){return this.data.length};Jg.prototype.getBitsLength=function(){return Jg.getBitsLength(this.data.length)};Jg.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var VQe=Jg;const GQe=Ch,KQe=Oo;function Xg(t){this.mode=GQe.KANJI,this.data=t}Xg.getBitsLength=function(e){return e*13};Xg.prototype.getLength=function(){return this.data.length};Xg.prototype.getBitsLength=function(){return Xg.getBitsLength(this.data.length)};Xg.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=KQe.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var YQe=Xg,gne={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,u,h,f,p,g,m,w;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=r[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],g=h+p,m=o[u],w=typeof o[u]>"u",(w||m>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(gne);var QQe=gne.exports;(function(t){const e=Ch,r=zQe,n=HQe,i=VQe,s=YQe,o=Ac,a=Oo,l=QQe;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,b,v){const C=[];let x;for(;(x=y.exec(v))!==null;)C.push({data:x[0],index:x.index,mode:b,length:x[0].length});return C}function h(y){const b=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let C,x;return a.isKanjiModeEnabled()?(C=u(o.BYTE,e.BYTE,y),x=u(o.KANJI,e.KANJI,y)):(C=u(o.BYTE_KANJI,e.BYTE,y),x=[]),b.concat(v,C,x).sort(function($,R){return $.index-R.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function f(y,b){switch(b){case e.NUMERIC:return r.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(b,v){const C=b.length-1>=0?b[b.length-1]:null;return C&&C.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(y){const b=[];for(let v=0;v<y.length;v++){const C=y[v];switch(C.mode){case e.NUMERIC:b.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:b.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:b.push([C,{data:C.data,mode:e.BYTE,length:c(C.data)}]);break;case e.BYTE:b.push([{data:C.data,mode:e.BYTE,length:c(C.data)}])}}return b}function m(y,b){const v={},C={start:{}};let x=["start"];for(let I=0;I<y.length;I++){const $=y[I],R=[];for(let T=0;T<$.length;T++){const L=$[T],U=""+I+T;R.push(U),v[U]={node:L,lastCount:0},C[U]={};for(let W=0;W<x.length;W++){const M=x[W];v[M]&&v[M].node.mode===L.mode?(C[M][U]=f(v[M].lastCount+L.length,L.mode)-f(v[M].lastCount,L.mode),v[M].lastCount+=L.length):(v[M]&&(v[M].lastCount=L.length),C[M][U]=f(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,b))}}x=R}for(let I=0;I<x.length;I++)C[x[I]].end=0;return{map:C,table:v}}function w(y,b){let v;const C=e.getBestModeForData(y);if(v=e.from(b,C),v!==e.BYTE&&v.bit<C.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(C));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new r(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(v,C){return typeof C=="string"?v.push(w(C,null)):C.data&&v.push(w(C.data,C.mode)),v},[])},t.fromString=function(b,v){const C=h(b,a.isKanjiModeEnabled()),x=g(C),I=m(x,v),$=l.find_path(I.map,"start","end"),R=[];for(let T=1;T<$.length-1;T++)R.push(I.table[$[T]].node);return t.fromArray(p(R))},t.rawSplit=function(b){return t.fromArray(h(b,a.isKanjiModeEnabled()))}})(pne);const Gx=Oo,i_=Hx,ZQe=PQe,JQe=NQe,XQe=sne,eZe=one,Ik=ane,Tk=qx,tZe=MQe,f6=une,rZe=hne,nZe=Ch,s_=pne;function iZe(t,e){const r=t.size,n=eZe.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function sZe(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function oZe(t,e){const r=XQe.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function aZe(t,e){const r=t.size,n=f6.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function o_(t,e,r){const n=t.size,i=rZe.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function lZe(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function cZe(t,e,r){const n=new ZQe;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),nZe.getCharCountIndicator(l.mode,t)),l.write(n)});const i=Gx.getSymbolTotalCodewords(t),s=Tk.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return uZe(n,t,e)}function uZe(t,e,r){const n=Gx.getSymbolTotalCodewords(e),i=Tk.getTotalCodewordsCount(e,r),s=n-i,o=Tk.getBlocksCount(e,r),a=n%o,l=o-a,c=Math.floor(n/o),u=Math.floor(s/o),h=u+1,f=c-u,p=new tZe(f);let g=0;const m=new Array(o),w=new Array(o);let y=0;const b=new Uint8Array(t.buffer);for(let $=0;$<o;$++){const R=$<l?u:h;m[$]=b.slice(g,g+R),w[$]=p.encode(m[$]),g+=R,y=Math.max(y,R)}const v=new Uint8Array(n);let C=0,x,I;for(x=0;x<y;x++)for(I=0;I<o;I++)x<m[I].length&&(v[C++]=m[I][x]);for(x=0;x<f;x++)for(I=0;I<o;I++)v[C++]=w[I][x];return v}function dZe(t,e,r,n){let i;if(Array.isArray(t))i=s_.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=s_.rawSplit(t);c=f6.getBestVersionForData(u,r)}i=s_.fromString(t,c||40)}else throw new Error("Invalid data");const s=f6.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=cZe(e,r,i),a=Gx.getSymbolSize(e),l=new JQe(a);return iZe(l,e),sZe(l),oZe(l,e),o_(l,r,0),e>=7&&aZe(l,e),lZe(l,o),isNaN(n)&&(n=Ik.getBestMask(l,o_.bind(null,l,r))),Ik.applyMask(n,l),o_(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}nne.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=i_.M,i,s;return typeof r<"u"&&(n=i_.from(r.errorCorrectionLevel,i_.M),i=f6.from(r.version),s=Ik.from(r.maskPattern),r.toSJISFunc&&Gx.setToSJISFunction(r.toSJISFunc)),dZe(e,i,n,s)};var mne={},uP={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let g=(f*c+p)*4,m=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const w=Math.floor((f-u)/l),y=Math.floor((p-u)/l);m=h[a[w*o+y]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(uP);(function(t){const e=uP;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),r(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(mne);var yne={};const hZe=uP;function WU(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function a_(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function fZe(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(n+=s?a_("M",l+r,.5+c+r):a_("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(n+=a_("h",o),o=0)):i++}return n}yne.render=function(e,r,n){const i=hZe.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+WU(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+WU(i.color.dark,"stroke")+' d="'+fZe(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,f),f};const pZe=IQe,Pk=nne,wne=mne,gZe=yne;function dP(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!pZe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,c){try{const u=Pk.create(r,n);l(t(u,e,n))}catch(u){c(u)}})}try{const l=Pk.create(r,n);i(null,t(l,e,n))}catch(l){i(l)}}h2.create=Pk.create;h2.toCanvas=dP.bind(null,wne.render);h2.toDataURL=dP.bind(null,wne.renderToDataURL);h2.toString=dP.bind(null,function(t,e,r){return gZe.render(t,r)});function mZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const dv=E.forwardRef(mZe);function yZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const wZe=E.forwardRef(yZe);function vZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const hP=E.forwardRef(vZe);function bZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const xZe=E.forwardRef(bZe);function EZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const _Ze=E.forwardRef(EZe);function CZe({title:t,titleId:e,...r},n){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const AZe=E.forwardRef(CZe);function hv(t){return t?{"privy-ui":"t"}:void 0}class j0{async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new J("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(O9e,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new J("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(M9e,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw qt(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new J("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new J("Email must be set when initialzing authentication.");let i=hv(n);try{return await this.api.post(N9e,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw qt(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}}class kZe extends j0{async link(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new J("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(j9e,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw qt(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}}class vne{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function Nk(){try{let t="privy:__session_storage__test",e=new vne;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var ot=typeof window<"u"&&window.localStorage?new vne:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function bne(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function HU(t,e){let r=bne(e);if(r.universalLink)return fP(r.universalLink,t)}let l_="WALLETCONNECT_DEEPLINK_CHOICE";function xne(t){return t.startsWith("http://")||t.startsWith("https://")}function Ene(t,e){if(xne(t))return fP(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function fP(t,e){if(!xne(t))return Ene(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function _ne(t,e){window.open(t,e,"noreferrer noopener")}class us{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class qU{get meta(){return this._meta}async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.channelToken)throw new J("Auth flow must be initialized first");try{let e=await this.api.post(S9e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new J("No response from authentication");return e}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post($9e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw qt(e)}}async _startChannelOnce(){if(!this.api)throw new J("Auth flow has no API instance");let e=await this.api.post(k9e,{token:this.captchaToken});Tr&&!E$&&e.connect_uri&&_ne(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new J("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.channelToken)throw new J("Auth flow must be initialized first");let e=await this.api.get(I9e,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new us(this._startChannelOnce.bind(this)),this.pollForReady=new us(this._pollForReady.bind(this)),this._meta.disableSignup=r}}const Ok="https://auth.privy.io",Hr=1400,pP=2500,Kx=4e3,SZe="2.25.0",X1="privy:token",VU="privy-token",c_="privy:refresh_token",M3="privy:pat",GU="privy:id_token",KU="privy-id-token",u_="privy-session",Mk="privy:caid",Cne=t=>`privy:guest:${t}`,Db=t=>`privy:cross-app:${t}`,p6="privy:state_code",S1="privy:code_verifier",g6="privy:headless_oauth",Ry="privy:oauth_disable_signup",d_=t=>`privy:wallet:${t}`,YU="privy:connectors",Ane="privy:connections",Yx=12e4,kne=3e4,$Ze="https://api.moonpay.com/v1",IZe="https://api.moonpay.com/v1",TZe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",PZe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function gP(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function Sne(){var e;if(!gP())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function Rk(){var e;if(!gP())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function QU(t){return new Promise((e,r)=>{Rk()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async n=>{try{let i=function(){var u,h;if(!gP())return;let c=window.chrome;return(h=(u=c==null?void 0:c.runtime)==null?void 0:u.lastError)==null?void 0:h.message}();if(i||!n){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(n),o=Sne();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){r(i)}}):r(Error("Chrome identity API not available"))})}function jk(t){return crypto.getRandomValues(new Uint8Array(t))}function Qx(){return zf(jk(36))}function mP(){return Qx()}async function yP(t,e="S256"){if(e!="S256")return t;{let r=await async function(n){let i=new TextEncoder().encode(n);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return zf(r)}}class f0{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new J("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new J("User denied confirmation during OAuth flow");let e=function(){let r=ot.get(S1);if(!r)throw new J("Authentication error.");return r}();try{let r=await this.api.post(OQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return ot.del(S1),ot.del(g6),ot.del(Ry),r}catch(r){let n=qt(r);throw n.privyErrorCode?new J(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new J("Invalid code during oauth flow.",void 0,ee.OAUTH_USER_DENIED):new J("Invalid code during OAuth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new J("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new J("User denied confirmation during OAuth flow");let e=ot.get(S1);if(!e)throw new J("Authentication error.");try{let r=await this.api.post(MQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return ot.del(S1),r}catch(r){throw qt(r)}}async getAuthorizationUrl(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.provider)throw new J("Provider must be set when initializing OAuth authentication.");let e=Qx();ot.put(S1,e);let r=mP();ot.put(p6,r);let n=await yP(e);this.meta.withPrivyUi||ot.put(g6,!0),this.meta.disableSignup?ot.put(Ry,!0):ot.del(Ry);let i=hv(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=Sne();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(NQ,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(a){throw qt(a)}}constructor(e){this.meta=e}}function $ne(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ine=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Tne=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),Pne=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),NZe=({style:t})=>d.jsx(tne,{style:{color:"var(--privy-color-error)",...t}}),Nne=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function One(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Mne(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function Rne(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function jne(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Dne(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Lne=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let ZU={google:{name:"Google",component:Nne},discord:{name:"Discord",component:Tne},github:{name:"Github",component:Pne},linkedin:{name:"LinkedIn",component:Rne},twitter:{name:"Twitter",component:Lne},spotify:{name:"Spotify",component:jne},instagram:{name:"Instagram",component:One},tiktok:{name:"Tiktok",component:Dne},line:{name:"LINE",component:Mne},apple:{name:"Apple",component:Ine}};const h_=t=>t in ZU?ZU[t]:{name:"Unknown",component:NZe};function OZe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!ot.get(g6),popupFlow:window.opener!==null&&i,disableSignup:!!ot.get(Ry)}}function Dk(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),ot.del(p6),window.history.replaceState({},"",t)}class a0{async initRegisterFlow(e){if(!this.api)throw new J("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new J("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new J("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var r,n;let e=await tc(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new J("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new J("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(eEe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new J("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):qt(i)}}async authenticate(){var n,i,s;if(this.authenticateForRegistration)return this.register();let e=await tc(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new J("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new J("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=((n=this.meta.allowedCredentialsIds)==null?void 0:n.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(X9e,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new J("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):qt(o)}}async link(){var r,n;let e=await tc(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new J("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new J("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(J9e,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new J("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):qt(i)}}async _initRegisterOnce(e){if(!this.api)throw new J("Auth flow has no API instance");let r=hv(e);return await this.api.post(Z9e,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new J("Auth flow has no API instance");let r=hv(e);return await this.api.post(Q9e,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new J("Auth flow has no API instance");return await this.api.post(Y9e,{})}_transformInitLinkOptionsToCamelCase(e){var r,n,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(h=>({type:h.type,alg:h.alg})),timeout:e.timeout,excludeCredentials:(r=e.exclude_credentials)==null?void 0:r.map(h=>({id:h.id,type:h.type,transports:h.transports})),authenticatorSelection:{authenticatorAttachment:(n=e.authenticator_selection)==null?void 0:n.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var r,n,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((r=e.allow_credentials)==null?void 0:r.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(n=e.extensions)==null?void 0:n.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new us(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new us(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new us(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}}const Lk=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class ag{get meta(){var e,r,n,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,chainId:(n=this.wallet)==null?void 0:n.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,r,n;if(!this.client)throw new J("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,connectorType:(n=this.wallet)==null?void 0:n.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new J("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw qt(i)}}async link(){if(!this.client)throw new J("SiweFlow has no client instance");try{if(!this.wallet)throw new J("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw qt(e)}}async sign(){if(!this.client)throw new J("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new J("Could not prepare SIWE message");if(!this.wallet)throw new J("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new J("SiweFlow has no client instance");if(!this.wallet)throw new J("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new J("SiweFlow has no client instance");if(!this.wallet)throw new J("SiweFlow has no wallet instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=Lk({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new us(this._getNonceOnce.bind(this)),this.wallet=r,this.captchaToken=n,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const Wi=(...t)=>{if(typeof Buffer>"u")throw new J("Buffer is not defined.",void 0,ee.BUFFER_NOT_DEFINED);return Buffer.from(...t)},MZe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class m6{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new J("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw qt(e)}}async link(){if(!this.client)throw new J("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw qt(e)}}async sign(){var i;let e,r;if(!this.client)throw new J("SiwsFlow has no client instance");await this.buildMessage();let n=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new J("Could not prepare SIWS message");if(!n&&!this.wallet.signMessage||n&&!this.wallet.signTransaction)throw new J("Wallet does not support the necessary signing methods");if(n&&this._siwsTransactionMethods){let s=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=s.serialize().toString("base64"),r=Wi(((i=s.signatures[0])==null?void 0:i.signature)??Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,r=Wi(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:r}}async _getNonceOnce(){if(!this.client)throw new J("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new J("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=MZe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new us(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}}class D0{async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new J("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(B9e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new J("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(F9e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw qt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new J("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new J("phone nNumber must be set when initialzing authentication.");let i=hv(n);try{return await this.api.post(L9e,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw qt(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}}class RZe extends D0{async link(){if(!this.api)throw new J("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new J("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(z9e,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw qt(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}const Fne=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Une=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Fne(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!Une(r))return!1}return!0},Bne=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},em=(t,e,r,n)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Cu({transport:fc(Tu(s,r,n.appId)),chain:s})},Tu=(t,e,r)=>{var o,a,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",r),n=c.toString()}else n=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new kr(`No RPC url found for ${i}`);return n},zne=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),pi=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},f_=(t,e=3,r=4)=>pi(t,e,r,"solana"),y6=t=>new Promise(e=>setTimeout(e,t)),Fk=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<n;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await y6(r)}o||s(Error("Exceeded max attempts before resolving function"))})},Wne=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(n);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},jZe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Uk=t=>typeof t=="string"?t:"0x"+t.toString(16);async function DZe({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(h=>h.info));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(n!=="solana-only")for(let h of function(){var m;let f=window,p=f.ethereum;if(!p)return[];let g=[];if((m=p.providers)!=null&&m.length)for(let w of p.providers)w&&g.push(w);return g.push(f.ethereum),g}()){let f=Fne(h);if(!c.some(p=>p.info.name===f)){if(Une(h,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find(p=>{var g,m,w;return p.type==="coinbase_wallet"&&((w=(m=(g=r.coinbaseWallet)==null?void 0:g.config)==null?void 0:m.preference)==null?void 0:w.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function jy(t){return`eip155:${String(Number(t))}`}const LZe=(t,e,r,n)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Tu(s,r,n)},R3=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map(([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}}).filter(n=>n!==void 0);return{...t,types:{...t.types,EIP712Domain:r}}},Hne=E.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:oe,setError:oe,setExecuting:oe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:oe,reset:oe,execute:oe});class Zx extends Ki{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}}const FZe=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=E.useRef(null),[s,o]=E.useState(),[a,l]=E.useState(),[c,u]=E.useState(!1),h=E.useMemo(()=>n?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,s,a,c]);return d.jsx(Hne.Provider,{value:{...h,ref:i,enabled:n,siteKey:r,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var f;n&&((f=i.current)==null||f.remove(),u(!1),l(void 0),o(void 0))},reset(){var f;n&&((f=i.current)==null||f.reset(),u(!1),l(void 0),o(void 0))},execute(){var f;n&&(u(!0),(f=i.current)==null||f.execute())},async waitForResult(){if(!n)return"";try{return await function(f,{interval:p=100,timeout:g=5e3}={}){return new Promise((m,w)=>{let y,b=0,v=()=>{b>=g?w("Max attempts reached without result"):(y=f(),b+=p,y==null?setTimeout(v,p):m(y))};v()})}(()=>{var f;return(f=i.current)==null?void 0:f.getResponse()},{interval:200,timeout:2e4})}catch{throw new Zx("Captcha failed",null,ee.CAPTCHA_TIMEOUT)}}},children:t})},Xs=()=>E.useContext(Hne);class $1{async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(tEe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(rEe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw qt(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}}function JU(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===ee.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===ee.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===ee.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof Zx&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function XU(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function eB(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}class Ad{static parse(e){try{return new Ad(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return P7(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=P7(e)}}class wP extends Ad{static parse(e){try{return new wP(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let tB=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const di=(t,e)=>{if(e!=null&&e.imported)return tB(e);let r=fa(t);if(!r)throw Error("Failed to find primary wallet");return tB(r)},UZe=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),qne="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",Vne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class Gne extends kr{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class Kne extends kr{constructor(){super("User rejected connection"),this.type="wallet_error"}}const Ah=t=>t instanceof kr?t:t!=null&&t.code?new ji(t):new kr("Unknown connector error",t);class lg extends Ki{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}}class ji extends lg{constructor(e){var n,i,s;super(e.message,e.code,e.data);let r=Object.values(Ka).find(o=>o.eipCode===e.code);this.details=r||Ka.UNKNOWN_ERROR,e.code===-32002&&((n=e.message)!=null&&n.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Ka.E32002_CONNECTION_ALREADY_PENDING:this.details=Ka.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Ka.E32002_WALLET_LOCKED))}}const kd={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Ka};function Xc(t){return t.type==="ethereum"}function Bk(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if((n==null?void 0:n.address)!==(i==null?void 0:i.address)||n&&i&&Xc(n)&&Xc(i)&&(n==null?void 0:n.chainId)!==(i==null?void 0:i.chainId)||(n==null?void 0:n.connectorType)!==(i==null?void 0:i.connectorType)||(n==null?void 0:n.connectedAt)!==(i==null?void 0:i.connectedAt)||(n==null?void 0:n.walletClientType)!==(i==null?void 0:i.walletClientType)||(n==null?void 0:n.isConnected)!==(i==null?void 0:i.isConnected)||(n==null?void 0:n.linked)!==(i==null?void 0:i.linked))return!1}return!0}class Yne extends xh{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const vP=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||Yx;let l0,I1;function T1(t){return t.chainType==="ethereum"}class _p extends Yne{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find(o=>Ur(o.address)===Ur(e));return{type:"ethereum",address:Ur(e),chainId:r,meta:n,imported:i,switchChain:async o=>{var f,p,g,m;let a,l;if(!s)throw new kr("Wallet is not currently connected.");let c=(f=this.wallets.find(w=>Ur(w.address)===Ur(e)))==null?void 0:f.chainId;if(!c)throw new kr("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===jy(a))return;let u=this.chains.find(w=>w.id===l);if(!u)throw new kr(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(w){if(((y,b)=>{var v;switch(b){case"coinbase_wallet":case"base_account":return y.message.includes("addEthereumChain");case"rabby_wallet":return y.message.includes("Unrecognized chain ID");default:return y.code===4902||((v=y.message)==null?void 0:v.includes("4902"))}})(w,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await y6(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((g=u.blockExplorers)==null?void 0:g.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((m=w.message)!=null&&m.includes("wallet_switchEthereumChain"))?new kr(`Rainbow does not support the chainId ${r}`):w}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new kr("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new kr("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await Fk(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=Ur(i),o=[];if(this.walletClientType==="privy"){let l=ot.get(d_(s));this.chains.find(c=>c.id===Number(l))||(ot.del(d_(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await Fk(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),r="0x1"}let a=jy(r);if(!o.find(l=>Ur(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Ur(i),a,l,this.connectorType==="embedded_imported"))}Bk(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((r,n)=>n.connectedAt-r.connectedAt).find(r=>e.find(n=>Ur(n)===Ur(r.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var r;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Pr(e),(r=this.wallets[0])==null?void 0:r.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=jy(s),this.walletClientType==="privy"&&ot.put(d_(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await y6(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=vP(i,e),this.connected=!1,this.initialized=!1}}class kh{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new kr(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(r=>{throw Ah(r)})}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new Gne,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(n)},i)),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=n,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=r||Yx,this._subscriptions=[]}}class BZe extends _p{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Vne,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Ah(e)}}constructor(e,r,n,i,s){super("base_account",e,r,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new kh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[r.id].concat(e.map(o=>o.id))},l0?(this.proxyProvider.setWalletProvider(l0.getProvider()),this.setBaseAccountSdk(l0),console.log("Base Account SDK Initialized")):this.importPromise=tc(()=>import("./index-DI5epx5T.js"),[]).then(({createBaseAccountSDK:o})=>{l0=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(l0.getProvider()),this.setBaseAccountSdk(l0),console.log("Base Account SDK Initialized")}).catch(console.error)}}let zZe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class WZe extends _p{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:qne,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Ah(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",I1=$j({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(I1.getProvider())}constructor(e,r,n,i){var s,o;if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new kh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[r.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!I1){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!zZe.includes(l)):[];a.length>0&&!a.every(l=>rY.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),I1=$j(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(I1.getProvider())}}const Qne=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class rB extends _p{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Uk((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Qne,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:o}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const HZe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Na extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}class nB extends xh{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await yr()||!this.address)throw new Na("Disconnected",4900);let{hash:n}=await oat(r,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await yr()||!this.address)throw new Na("Disconnected",4900);let{signature:n}=await sat(r,{address:this.address});return n}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Na(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.publicClient=em(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1],{signature:i}=await nat({message:r},{address:n});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await iat(R3(n),{address:r});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:Uk(this.chainId)};return await this.publicClient.estimateGas({account:r.from??this.address,...PZ(r)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Uk(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(r=>HZe.includes(r))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let r=await yr();if(await aat({address:this.address}),!r||!this.address)throw new Na("Disconnected",4900);try{let n={method:e.method,params:e.params},i=this.walletAccount;return i&&Hn(i)?this.handleWalletApiRequest(n,i,r):(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(n){throw console.error(n),new Na("Disconnected",4900)}}}async handleWalletApiRequest(e,r,n){let i=this.privyClient;if(!i)throw new Na("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await ss(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:n,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:r.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Na(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Na(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=em(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=vP(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}class bP extends _p{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:r,icon:n,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new kh(void 0,Yx),this.id=e,this.name=r,this.icon=n,this.connectorType=i}}const xP=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),zk=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Zne=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function p_(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var qZe=0;class Jne extends _p{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Ah(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new kh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Dh="__private_"+qZe+++"__walletBranding";class g_ extends _p{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return p_(this,Dh)[Dh]??{name:"Browser Extension",icon:xP,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Ah(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,Dh,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new kh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?p_(this,Dh)[Dh]={name:"MetaMask",icon:zk,id:"io.metamask"}:s==="phantom"&&(p_(this,Dh)[Dh]={name:"Phantom",icon:Zne,id:"phantom"})}}class VZe extends Jne{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Tr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Ah(e)}}}const GZe=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],EP=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:fO?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((n=(r=o==null?void 0:o.phantom)==null?void 0:r.ethereum)!=null&&n.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Lb({client:this.client,isSolana:e,connectOnly:r});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:fO?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Lb({client:this.client,isSolana:e,connectOnly:r});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((n=(r=window==null?void 0:window.backpack)==null?void 0:r.solana)!=null&&n.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Lb({client:this.client,isSolana:e,connectOnly:r});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Lb({client:this.client,isSolana:t,connectOnly:e}))}}});function Xne({connectorType:t,walletClientType:e}){for(let r of GZe)if(t===r||e===r)return EP[r]}function Lb({client:t,isSolana:e,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",e?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",t),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}const j3=()=>{let t=ot.get(Ane);return t&&Array.isArray(t)&&t.map(e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e)).every(Boolean)?t:[]};let KZe=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function YZe(t){return t.toLowerCase().split(" ").join("_")}class QZe extends Yne{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,r){let n,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(n=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:r,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:l1(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:n??l1(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??l1(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??l1(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??l1(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(r=>this.adapter.publicKey&&r.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,r)=>r.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!KZe.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||j3().some(({walletClientType:e})=>e==="phantom"))}constructor(e,r){super(YZe(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(n=>console.error("Error disconnecting",n))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(n){throw Ah(n)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=n=>{this.syncAccounts()},this.onError=n=>{this.syncAccounts()},this.onReadyStateChange=n=>{n!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=r,this.wallets=[]}}class _P extends QZe{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:r,icon:n}){super({name:r},!1),this.connectorType="null",this.proxyProvider=new kh(void 0,Yx),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=r,this.icon=n}}function ZZe(t){return t.chainType==="solana"}function iB(t){return t.type==="solana"}const p2=Cm(()=>({listings:[]})),JZe=p2.setState,m_=t=>{let e;try{e=new URL(t).hostname}catch{return}return p2.getState().listings.find(({homepage:r})=>{let n;try{n=new URL(r).hostname}catch{return!1}return e.includes(n)})},Du=t=>p2(({listings:e})=>e.find(({slug:r})=>w6(r)===w6(t)));function w6(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function XZe({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const Pl={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let eJe=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),sB=t=>eJe.has(t),oB=(t,e,r)=>r.indexOf(t)===e;const Wk=792703809,Hk="11111111111111111111111111111111";function Dm(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function tJe(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function Fb(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return Ye({...t.toHsl(),l:r})}function y_(t,e){let r=t.getLuminance(),n=e.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function rJe({backgroundTheme:t,accentHex:e}){let r,n;t==="light"?r=!1:t==="dark"?r=!0:(r=.5>=Ye(t).getLuminance(),n=Ye(t).toHslString());let i=r?"dark":"light",s=r?P1:Ub,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=function(g,m){if(!g){let y=m?P1:Ub;return{accent:Ye(y.background.interactive),accentLight:Ye(y.background.interactive),accentHover:Ye(y.background["interactive-hover"]),accentDark:Ye(y.background["interactive-clicked"]),accentDarkest:Ye(y.background["interactive-disabled"])}}let w=Ye(g);return{accent:w,accentLight:Fb(w,.15),accentHover:Fb(w,.3),accentDark:Fb(w,-.06),accentDarkest:Fb(w,-.6)}}(e,r),h=function(g){let m=Ye(Ub.text.default),w=Ye(P1.text.default),y=y_(g,m),b=y_(g,w),v=g.toHsl();return v.h>=220&&v.h<=300&&b>=3?P1.text.default:y>b?Ub.text.default:P1.text.default}(o),f=Ye(h),p=y_(o,Ye(s.background.default))>=3;return{colorScheme:i,background:n||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const P1={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Ub={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function eie(t,e,r,n){var Q,K,re,le,ne,ae,ye,de,he,Xe,ie,xe,be,se,we,vt,ce,Ie,Fe,tt,Qe,$t,ht,it,ke,Te,fe,Ve,st,Ke,at,Pe,dt,Et,bt,Be,Sr,Ge,Bt,Zi,nr,er,B,H,Y,Z,X,te,me,pe,ze,xt,_e,Le,lt,Ue,Ee,pt,At,Lt,Kt,tr,Yt,pr,rt,tn,kt,gr;let i,s,o,a,l,c,u,h,f,p,g,m,w,y,b,v,C=r?console.warn:()=>{};e!=null&&e.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),c=e.loginMethods.includes("twitter"),u=e.loginMethods.includes("discord"),p=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),m=e.loginMethods.includes("linkedin"),y=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),v=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,c=t.twitter_oauth,u=t.discord_oauth,w=t.github_oauth,p=t.spotify_oauth,g=t.instagram_oauth,h=t.tiktok_oauth,f=t.line_oauth,m=t.linkedin_oauth,y=t.apple_oauth,b=t.farcaster_auth,v=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let x=[i,s].filter(Boolean),I=[l,c,u,w,p,g,h,f,m,y,b,v].filter(Boolean),$=[a].filter(Boolean),R=((Q=e==null?void 0:e.loginMethods)==null?void 0:Q.includes("passkey"))??!1,T=t.passkeys_for_signup_enabled??!1,L=[o&&(T||R)].filter(Boolean);if(x.length+I.length+$.length+L.length===0)throw Error("You must enable at least one login method");let U=((K=e==null?void 0:e.appearance)==null?void 0:K.showWalletLoginFirst)!==void 0?(re=e==null?void 0:e.appearance)==null?void 0:re.showWalletLoginFirst:t.show_wallet_login_first;U&&$.length===0?(C("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),U=!1):U||I.length+x.length!==0||(C("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),U=!0);let W=((ne=(le=e==null?void 0:e.externalWallets)==null?void 0:le.walletConnect)==null?void 0:ne.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&C("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let M=(({input:ct,overrides:It})=>It?It.primary.concat(It.overflow??[]).filter(sB).filter(oB):ct?ct.filter(sB).filter(oB):Pl.appearance.walletList)({input:(ae=e==null?void 0:e.appearance)==null?void 0:ae.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),A=(({input:ct})=>{if(!ct||!ct.primary[0])return;let It=[ct.primary[0]],br=[];for(let Mr of(ct.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),ct.primary.slice(1)))It.includes(Mr)?console.warn(`Duplicated login method: ${Mr}`):It.push(Mr);for(let Mr of ct.overflow??[])It.includes(Mr)||br.includes(Mr)?console.warn(`Duplicated login method: ${Mr}`):br.push(Mr);return{primary:It,overflow:br}})({input:e==null?void 0:e.loginMethodsAndOrder}),_=((ye=e==null?void 0:e.intl)==null?void 0:ye.defaultCountry)??"US",{chains:S,defaultChain:O}=function({supportedChains:ct,defaultChainFromConfig:It}){let br;if(ct){if(ct.length===0)throw Error("`supportedChains` must contain at least one chain");br=nY(ct)}else br=[...zv];let Mr=ct?br[0]:Ea,_i=It??Mr;if(!br.find(Th=>Th.id===_i.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:br,defaultChain:_i}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),P=!!(e!=null&&e.defaultChain),N=((de=e==null?void 0:e.customAuth)==null?void 0:de.getCustomAccessToken)&&((he=e==null?void 0:e.customAuth)==null?void 0:he.enabled)!==!1,D=(Xe=e==null?void 0:e.embeddedWallets)==null?void 0:Xe.requireUserPasswordOnCreate,F=(ie=e==null?void 0:e.embeddedWallets)==null?void 0:ie.createOnLogin,k=N?"all-users":t.embedded_wallet_config.ethereum.create_on_login,z=t.embedded_wallet_config.solana.create_on_login,V={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e!=null&&e.solanaClusters)for(let ct of e.solanaClusters){let{name:It,rpcUrl:br,blockExplorerUrl:Mr}=ct;V[It]={rpcUrl:br??V[It].rpcUrl,blockExplorerUrl:Mr??V[It].blockExplorerUrl}}t.solana_wallet_auth&&!((be=(xe=e==null?void 0:e.externalWallets)==null?void 0:xe.solana)!=null&&be.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let j=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,G=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((se=e==null?void 0:e.appearance)==null?void 0:se.logo)??t.logo_url??void 0,landingHeader:((we=e==null?void 0:e.appearance)==null?void 0:we.landingHeader)??Pl.appearance.landingHeader,loginMessage:typeof((vt=e==null?void 0:e.appearance)==null?void 0:vt.loginMessage)=="string"?(ce=e==null?void 0:e.appearance)==null?void 0:ce.loginMessage.slice(0,100):(Ie=e==null?void 0:e.appearance)==null?void 0:Ie.loginMessage,footerLogo:(Fe=e==null?void 0:e.appearance)==null?void 0:Fe.footerLogo,palette:rJe({backgroundTheme:((tt=e==null?void 0:e.appearance)==null?void 0:tt.theme)??Pl.appearance.theme,accentHex:((Qe=e==null?void 0:e.appearance)==null?void 0:Qe.accentColor)??t.accent_color}),loginGroupPriority:U?"web3-first":"web2-first",hideDirectWeb2Inputs:!!(($t=e==null?void 0:e.appearance)!=null&&$t.hideDirectWeb2Inputs),walletList:M,walletChainType:((ht=e==null?void 0:e.appearance)==null?void 0:ht.walletChainType)??(({evmWalletAuth:ct,solanaWalletAuth:It})=>ct&&It?"ethereum-and-solana":ct?"ethereum-only":It?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:l,twitter:c,discord:u,github:w,spotify:p,instagram:g,tiktok:h,line:f,linkedin:m,apple:y,farcaster:b,telegram:v},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:A,legal:{termsAndConditionsUrl:((it=e==null?void 0:e.legal)==null?void 0:it.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((ke=e==null?void 0:e.legal)==null?void 0:ke.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Pl.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((Te=e==null?void 0:e.externalWallets)==null?void 0:Te.signatureRequestTimeouts)??{}},chains:S,solanaClusters:V,defaultChain:O,intl:{defaultCountry:_},shouldEnforceDefaultChainOnConnect:P,captchaEnabled:t.captcha_enabled??Pl.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:((Ve=(fe=e==null?void 0:e.externalWallets)==null?void 0:fe.coinbaseWallet)==null?void 0:Ve.connectionOptions)??Pl.externalWallets.coinbaseWallet.connectionOptions,...(at=(Ke=(st=e==null?void 0:e.externalWallets)==null?void 0:st.coinbaseWallet)==null?void 0:Ke.config)==null?void 0:at.preference},...(dt=(Pe=e==null?void 0:e.externalWallets)==null?void 0:Pe.coinbaseWallet)==null?void 0:dt.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(bt=(Et=e==null?void 0:e.externalWallets)==null?void 0:Et.baseAccount)==null?void 0:bt.config,preference:{...(Ge=(Sr=(Be=e==null?void 0:e.externalWallets)==null?void 0:Be.baseAccount)==null?void 0:Sr.config)==null?void 0:Ge.preference,telemetry:!1}}},walletConnect:{enabled:W,appKit:(Zi=(Bt=e==null?void 0:e.externalWallets)==null?void 0:Bt.walletConnect)==null?void 0:Zi.appKit},solana:{connectors:(er=(nr=e==null?void 0:e.externalWallets)==null?void 0:nr.solana)==null?void 0:er.connectors},disableAllExternalWallets:((B=e==null?void 0:e.externalWallets)==null?void 0:B.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:D??(!N&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:N?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((H=e==null?void 0:e.embeddedWallets)==null?void 0:H.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:F??((Z=(Y=e==null?void 0:e.embeddedWallets)==null?void 0:Y.ethereum)==null?void 0:Z.createOnLogin)??k},solana:{createOnLogin:((te=(X=e==null?void 0:e.embeddedWallets)==null?void 0:X.solana)==null?void 0:te.createOnLogin)??z},disableAutomaticMigration:((me=e==null?void 0:e.embeddedWallets)==null?void 0:me.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((pe=e==null?void 0:e.embeddedWallets)==null?void 0:pe.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((ze=e==null?void 0:e.embeddedWallets)==null?void 0:ze.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((_e=(xt=e==null?void 0:e.embeddedWallets)==null?void 0:xt.transactionScanning)==null?void 0:_e.enabled)??!1,domain:((lt=(Le=e==null?void 0:e.embeddedWallets)==null?void 0:Le.transactionScanning)==null?void 0:lt.domain)??n??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Ue=e==null?void 0:e.mfa)==null?void 0:Ue.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Ee=e==null?void 0:e.passkeys)==null?void 0:Ee.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(pt=e==null?void 0:e.passkeys)==null?void 0:pt.shouldUnenrollMfaOnUnlink},customAuth:N?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:j,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((At=e==null?void 0:e._render)==null?void 0:At.standalone)??Pl._render.standalone},fundingConfig:G,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Pl.fundingMethodConfig,moonpay:{...((Lt=e==null?void 0:e.fundingMethodConfig)==null?void 0:Lt.moonpay)??Pl.fundingMethodConfig.moonpay,useSandbox:((Kt=e==null?void 0:e.fundingMethodConfig)==null?void 0:Kt.moonpay.useSandbox)??((tr=e==null?void 0:e.fiatOnRamp)==null?void 0:tr.useSandbox)??Pl.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((pr=(Yt=e==null?void 0:e.solana)==null?void 0:Yt.rpcs)==null?void 0:pr["solana:mainnet"])??null,"solana:devnet":((tn=(rt=e==null?void 0:e.solana)==null?void 0:rt.rpcs)==null?void 0:tn["solana:devnet"])??null,"solana:testnet":((gr=(kt=e==null?void 0:e.solana)==null?void 0:kt.rpcs)==null?void 0:gr["solana:testnet"])??null}}}const tie={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},rie=eie(tie,void 0,!1);let CP=E.createContext({appConfig:rie,isServerConfigLoaded:!1});const nJe=({children:t,client:e,legacyClient:r,clientConfig:n})=>{let[i,s]=E.useState(null),o=E.useMemo(()=>eie(i??tie,n,!!i,typeof window<"u"?window.location.origin:void 0),[i,n]);return E.useEffect(()=>{if(!i)return;let a=function(u){var w,y;if(!u)return{};let{appearance:h,supportedChains:f,defaultChain:p,externalWallets:g,...m}=u;return{...m,...f?{supportedChains:f.map(b=>b.id)}:void 0,...p?{defaultChain:p.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(y=(w=g.solana)==null?void 0:w.connectors)==null?void 0:y.get().map(b=>b.walletClientType)}}:void 0}}(n),l=function(u,h=0){let f=3735928559^h,p=1103547991^h;for(let g,m=0;m<u.length;m++)f=Math.imul(f^(g=u.charCodeAt(m)),2654435761),p=Math.imul(p^g,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),4294967296*(2097151&(p=Math.imul(p^p>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)}(JSON.stringify(a)).toString(),c=`privy:sent:${i.id}:${l}`;localStorage.getItem(c)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(c,"t"))},[n,i]),E.useEffect(()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&r.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()},[]),d.jsx(CP.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},rr=()=>{let{appConfig:t}=E.useContext(CP);return t},nie=()=>{let{isServerConfigLoaded:t}=E.useContext(CP);return t},iie=E.createContext({app:rie,currentScreen:null,lastScreen:null,navigate:oe,navigateBack:oe,resetNavigation:oe,setModalData:oe,onUserCloseViaDialogOrKeybindRef:void 0}),iJe=t=>{var a;let e=rr(),r=t.authenticated,[n,i]=E.useState(t.initialScreen);E.useEffect(()=>{r||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[r]);let s=E.useRef(null);E.useEffect(()=>{t.open||(s.current=null)},[t.open]),E.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(iie.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx(XZe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},De=()=>E.useContext(iie),sJe=({style:t,...e})=>{let{app:r}=De();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(r==null?void 0:r.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},sie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class cg extends _p{async initialize(){var r,n,i,s,o,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((n=(r=this.walletProvider)==null?void 0:r.session)!=null&&n.peer.metadata.url&&(this.walletEntry=m_((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),(a=this.modal)==null||a.subscribeState(l=>{var c;l.open||(c=this.walletProvider)!=null&&c.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var r,n,i,s,o,a,l;let e=(i=(n=(r=this.walletProvider)==null?void 0:r.session)==null?void 0:n.peer.metadata.icons)==null?void 0:i[0];return{name:jZe(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:sie,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(l_)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,r)=>{this.onQrModalClosed=()=>{r(new Kne)},(async()=>{var s,o,a,l,c,u;let n="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(n=i[0]),!n||n==="")throw new kr("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=m_((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=vP(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(n=>{r(n?Ah(n):new kr("Unknown error during connection"))}).finally(()=>{var n;return(n=this.modal)==null?void 0:n.close()})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=LZe(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map(s=>s.id),i=await cYe.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:Qre,optionalMethods:Yre,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o,a;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(l_)}catch{}}(),!this.showPrivyQrModal){if(!this.modal)throw new kr("Unable to open connect modal");return(o=this.modal)==null?void 0:o.open({uri:s})}if(Tr&&this.walletEntry){let{redirect:l,href:c}=function(h,f){let p=bne(f);if(p.deepLink)return Ene(p.deepLink,h);if(p.universalLink)return fP(p.universalLink,h);throw new J(`Unsupported wallet ${f.id}`)}(s,this.walletEntry);_ne(l,"_self"),function({href:h,name:f}){try{localStorage.setItem(l_,JSON.stringify({href:h,name:f}))}catch{}}({href:c,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let u=HU(s,this.walletEntry);return this.redirectUri=l,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:l,universal:l})}if(this.redirectUri=void 0,this.walletEntry){let l=HU(s,this.walletEntry);this.fallbackUniversalRedirectUri=l==null?void 0:l.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a,l;(s=this.modal)==null||s.close(),(o=i.session)!=null&&o.peer.metadata.url&&(this.walletEntry=m_((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((l=this.walletEntry)==null?void 0:l.slug)||"unknown")}),i}async enableProvider(){var e,r;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((r=this.walletProvider)==null?void 0:r.enable())}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l,appKit:c}){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new kh(void 0,this.rpcTimeoutDuration),this.modal=c,l&&(this.walletEntry=(u=>p2.getState().listings.find(({slug:h})=>w6(h)===w6(u)))(l),this.walletClientType=l)}}class oJe extends xh{get wallets(){let e=new Set,r=this.walletConnectors.flatMap(i=>i.wallets).sort((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0).filter(i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)}),n=r.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return n>=0&&r.unshift(r.splice(n,1)[0]),r}async initialize(e){var n,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),ot.get(YU)&&(ot.getKeys().forEach(o=>{o.startsWith("walletconnect")&&ot.del(o)}),ot.del(YU)),this.externalWalletConfig.disableAllExternalWallets))return;let r=DZe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:l,legacyInjectedProvider:c})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:c}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(EP)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new _P({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(n=this.externalWalletConfig.solana.connectors)==null||n.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await r,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(T1).find(n=>n.connectorType===e)??null:this.walletConnectors.filter(T1).find(n=>n.connectorType===e&&n.walletClientType===r)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(ZZe).find(r=>r.walletClientType==="unknown"?r.walletBranding.id===e:r.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(r=>{let n=this.storedConnections.find(i=>i.address===r.address&&i.connectorType===r.connectorType&&(r.type==="solana"&&i.walletClientType==="unknown"&&r.walletClientType==="unknown"?r.meta.id===i.id:i.walletClientType===r.walletClientType));n&&(r.connectedAt=n.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:r,embeddedWallets:n,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=di(r);for(let c of n){let u=this.findEmbeddedWalletConnectors().find(h=>h.walletIndex===c.walletIndex);if(u&&T1(u))u.proxyProvider.walletProxy=e;else{let h=new rB({provider:new nB({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&T1(s))s.proxyProvider.walletProxy=e;else{let o=new rB({provider:new nB({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=j3(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.storedConnections=j3(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:r,providers:n,walletConfig:i}){let s=this.findWalletConnector(e,r);if(s&&T1(s))return s instanceof cg&&s.resetConnection(r),s;let o=e!=="injected"?e==="coinbase_wallet"?new WZe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new BZe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new cg({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:r,appKit:this.appKit}):i?new bP({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:r==="metamask"&&(n!=null&&n.eip6963InjectedProvider)?new VZe(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,"metamask"):r==="metamask"&&(n!=null&&n.legacyInjectedProvider)?new g_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"metamask"):r==="phantom"&&(n!=null&&n.legacyInjectedProvider)?new g_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"phantom"):n!=null&&n.legacyInjectedProvider&&r==="unknown_browser_extension"?new g_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider):n!=null&&n.eip6963InjectedProvider?new Jne(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,r):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(r=>{console.debug("Failed to initialize connector",r)})}async activeWalletSign(e){let r=this.wallets,n=r.length>0?r[0]:null;return n&&Xc(n)?n.sign(e):null}setActiveWallet(e){this.activeWallet=Ur(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,r,n,i,s,o,a,l,c,u,h,f,p){super(),this.addSolanaWalletConnector=async g=>{let m=this.findSolanaWalletConnector(g.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let w=this.walletConnectors.indexOf(m);this.walletConnectors.splice(w,1)}this.addWalletConnector(g)}},this.getEthereumProvider=()=>{let g=this.wallets[0],m=this.walletConnectors.find(w=>w.wallets.find(y=>y.address===(g==null?void 0:g.address)));return g&&m?m.proxyProvider:new kh},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.appKit=p,this.setBaseAccountSdk=h,this.storedConnections=j3()}}let aJe=[TQ,PQ,RQ];class lJe{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw qt(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw qt(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw qt(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=SZe,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=IQ.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=aJe.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new f9e}})}}let cJe=/paymaster\.biconomy\.io\/api/i,uJe={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const dJe=(t,e)=>t&&cJe.test(t)?uJe:e&&e.policy_id?{policyId:e.policy_id}:void 0,hJe=t=>{var e,r,n,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(r=t.extensions)==null?void 0:r.app_id,credProps:(n=t.extensions)==null?void 0:n.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class oie{async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(lEe,{token:this.meta.token})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(cEe,{token:this.meta.token})}catch(e){throw qt(e)}}constructor(e){this.meta={token:e}}}class fJe{getOrCreateGuestCredential(e){let r=Cne(e);if(Nk()){if(ot.get(r))return ot.get(r);{let n=zf(jk(32));return ot.put(r,n),n}}return zf(jk(32))}async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(uEe,{guest_credential:this.meta.guestCredential})}catch(e){throw qt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function w_(){return!(Kue&&window.location.origin.startsWith("http://localhost"))}const aB=Cm(()=>({identityToken:null}));var v_,lB=((v_={}).PRIVY="privy_access_token",v_.CUSTOMER="customer_access_token",v_);class pJe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(X1)}get privyAccessToken(){return this._getToken(M3)}_getToken(e){try{let r=ot.get(e);return typeof r=="string"?Ad.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=ot.get(c_);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=ot.get(Db(e));if(typeof r!="string")return null;{let n=new Ad(r);return n.isExpired()?(ot.del(Db(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=dn.get(u_);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||r&&n}hasActiveAccessToken(e){let r=Ad.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?ot.put(Db(e),r):ot.del(Db(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:ai(n),isNewUser:i,oAuthTokens:o}}catch(r){throw console.warn("Error authenticating session"),Dr(r)}}_trackAuthenticateEvents(e,r){let n=function(i){return i instanceof j0?"email":i instanceof D0?"sms":i instanceof ag?"siwe":i instanceof fJe?"guest":i instanceof oie?"custom_auth":i instanceof f0?i.meta.provider:null}(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:ai(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),Dr(r)}}async _refresh(){if(!this.api)throw new J("Session has no API instance");if(!this.client)throw new J("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&r||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),n=await this.api.post(TQ,r?{refresh_token:r}:{},{headers:i})}return this.handleTokenResponse(n),ai(n.user)}catch(n){if(n instanceof ho&&n.privyErrorCode===ee.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Dr(n)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(PQ,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var r,n,i,s,o,a;if(typeof e=="string"){let l=ot.get(X1);if(ot.put(X1,e),!((r=this.client)!=null&&r.useServerCookies)){let c=(n=Ad.parse(e))==null?void 0:n.expiration;dn.set(VU,e,{sameSite:"Strict",secure:w_(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else ot.del(X1),dn.remove(VU),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var r;typeof e=="string"?(ot.put(c_,e),(r=this.client)!=null&&r.useServerCookies||dn.set(u_,"t",{sameSite:"Strict",secure:w_(),expires:30})):(ot.del(c_),dn.remove("privy-refresh-token"),dn.remove(u_))}storePrivyAccessToken(e){typeof e=="string"?ot.put(M3,e):ot.del(M3)}storeIdentityToken(e){var n,i;if(aB.setState({identityToken:e}),(n=this.client)==null?void 0:n.useServerCookies)return;ot.put(GU,e);let r=(i=Ad.parse(e))==null?void 0:i.expiration;dn.set(KU,e,{sameSite:"Strict",secure:w_(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){ot.del(GU),aB.setState({identityToken:null}),dn.remove(KU)}constructor(){this.authenticateOnce=new us(async e=>this._authenticate(e)),this.linkOnce=new us(async e=>this._link(e)),this.refreshOnce=new us(this._refresh.bind(this)),this.destroyOnce=new us(this._destroy.bind(this))}}let b_;var gJe=0,x_="__private_"+gJe+++"__getOrGenerateClientAnalyticsId";class mJe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h,appKit:f}){this.connectors||(this.connectors=new oJe(this.appId,e,r,n,i,s,o,a,l,c,h,u,f))}generateApi(){let e=new lJe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new J("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new J("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(r=>r.type==="cross_app").forEach(r=>{this.storeProviderAccessToken(r.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(sEe,{action:"verify"})}catch(e){throw qt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(oEe,{});return hJe(e.options)}catch(e){throw qt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(aEe,{});return ai(e)}catch(e){throw Dr(e)}}async unlinkEmail(e){try{let r=await this.api.post(R9e,{address:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async unlinkPhone(e){try{let r=await this.api.post(U9e,{phoneNumber:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(v9e,{address:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(C9e,{address:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(H9e,{provider:e,subject:r});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Dr(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(T9e,{fid:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async unlinkTelegram(e){try{let r=await this.api.post(nEe,{telegram_user_id:e});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Dr(r)}}async revokeDelegatedWallet(){try{await this.api.post(pEe,{})}catch(e){throw Dr(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(RQ,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(dEe,e)}catch(r){throw Dr(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(hEe,e)}catch(r){throw Dr(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${fEe}?partnerUserId=${e}`)}catch(r){throw Dr(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(lB.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(lB.PRIVY,e)}async _getToken(e,r){var n;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((n=wP.parse(this.session.getToken(e)))==null?void 0:n.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(r!=null&&r.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:dJe(i.paymaster_url,i.paymaster_context)}))}:{enabled:n.enabled}}catch(e){throw Dr(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(g9e,{address:e,token:r})).nonce}catch(n){throw Dr(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(m9e,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post(y9e,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n,smartWalletVersion:i}){try{let s=await this.api.post(w9e,{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i});return ai(s)}catch(s){throw Dr(s)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return ai(o)}catch(o){throw Dr(o)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(x9e,{address:e,token:r})).nonce}catch(n){throw Dr(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(E9e,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=ai(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(n){case"email":c=D9e,u={nonce:e,email:r};break;case"sms":c=W9e,u={nonce:e,phoneNumber:r};break;case"siwe":if(c=b9e,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:r,...i};break;case"farcaster":c=P9e,u={nonce:e,farcaster_id:r,farcaster_embedded_address:a};break;case"telegram":c=iEe,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=A9e,u={nonce:e,address:r,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=q9e,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??ai(h)}catch(c){throw Dr(c)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){return await this.api.post(_9e,{message:e,signature:r,walletClientType:n,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s});return ai(o)}catch(o){throw Dr(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(gEe);return this.session.updateIdentityToken(e.identity_token),ai(e.user)}catch(e){throw Dr(e)}}async scanTransaction(e){try{return await this.api.post(mEe,e)}catch(r){throw Dr(r)}}constructor({apiUrl:e=Ok,appId:r,appClientId:n,timeout:i=2e4}){Object.defineProperty(this,x_,{value:yJe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==Ok&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,x_)[x_](),b_||(b_=new pJe),this.session=b_,this.api=this.generateApi(),this.session.client=this}}function yJe(){if(typeof window>"u")return null;try{let e=ot.get(Mk);if(typeof e=="string"&&e.length>0)return e}catch{}let t=P5();try{return ot.put(Mk,t),t}catch{return t}}const wJe=({delayedExecution:t,...e})=>{let{enabled:r,siteKey:n,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=Xs(),[,c]=E.useMemo(()=>(n==null?void 0:n.split("t:"))||[],[n]);if(E.useEffect(()=>{var u;return(u=l.current)==null?void 0:u.remove},[]),!r)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(OZ,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),o(u),a(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},vJe=t=>{let[e,r]=E.useState("auto");return E.useEffect(()=>{let n=new ResizeObserver(i=>{var s;r(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}},[t.current]),e},bJe={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},aie=E.createContext(void 0);let lie=()=>E.useContext(aie);function Cp(t,e){if(!e)return;let r=lie().current[t];return E.useEffect(()=>{var n;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(n=r[i])==null||n.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),r[s]=(i=r[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Ae(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function Lu(){let t=lie();return(e,r,...n)=>Ae(t,e,r,...n)}function xJe(t){Cp("configureMfa",t)}const dh=q.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),EJe=q.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),qk=q.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),cie=q(qk).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let _Je=Un(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const CJe=q.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Kr=q.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],_Je),dc=q.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),tm=q.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),AJe=q.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),kJe=q.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function SJe(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let cB=q.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function AP({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!t||!e);return r&&!n||!e&&!t?d.jsx(cB,{}):d.jsxs(cB,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Jt=({className:t})=>{let{appearance:e}=rr();return d.jsx(mn,{className:t,children:e.footerLogo??d.jsx($Je,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(SJe,{color:"currentColor",height:13,width:150})})})};let $Je=q.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const mn=q.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),uie=({success:t,fail:e})=>d.jsxs(IJe,{children:[d.jsx(uB,{children:d.jsx(kP,{className:t?"success":e?"fail":""})}),d.jsx(uB,{children:d.jsx(ya,{className:t?"success":e?"fail":""})})]});let uB=q.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),IJe=q.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const ya=q.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),kP=q(ya).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),Sh=t=>d.jsx(TJe,{color:t.color||"var(--privy-color-foreground-3)"});let TJe=q(ya).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Xf=({variant:t="primary",size:e="lg",children:r,success:n,...i})=>{switch(t){case"secondary":return d.jsx(gl,{size:e,...i,children:r});case"error":return d.jsx(gl,{$warn:!0,size:e,...i,children:r});case"muted":return d.jsx(OJe,{size:e,...i,children:r});default:return d.jsx(fr,{size:e,success:n,...i,children:r})}},Jx=q.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),fr=({children:t,loading:e,disabled:r,success:n,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!r);return d.jsx(NJe,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:n,$size:i,onClick:h=>{c&&u?h.preventDefault():a==null||a(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Sh,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},v6=({children:t,loading:e,disabled:r,...n})=>d.jsx(PJe,{disabled:r,...n,children:e?d.jsx(Sh,{color:"var(--privy-color-foreground-accent)"}):t});let PJe=q(Jx).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),NJe=q(Jx).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&Un(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const gl=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(MJe,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Sh,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},OJe=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(RJe,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Sh,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let MJe=q(Jx).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&Un(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),RJe=q(Jx).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&Un(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const Xx=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>d.jsxs(jJe,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(Sh,{})})]});let jJe=q.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const DJe=({backFn:t})=>d.jsx("div",{children:d.jsx(SP,{onClick:t,children:d.jsx(L7e,{height:"16px",width:"16px",strokeWidth:2})})}),LJe=({infoFn:t})=>d.jsx("div",{children:d.jsx(UJe,{"aria-label":"info",onClick:t,children:d.jsx(rg,{height:"22px",width:"22px",strokeWidth:2})})}),FJe=t=>d.jsx("div",{children:d.jsx(SP,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(W7e,{height:"16px",width:"16px",strokeWidth:2})})}),Ot=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=Ne(),a=rr();return d.jsxs(BJe,{className:s,children:[d.jsxs(zJe,{children:[t&&d.jsx(DJe,{backFn:t}),e&&d.jsx(LJe,{infoFn:e})]}),n&&d.jsx(HJe,{id:"privy-dialog-title",children:n}),d.jsx(WJe,{children:!a.render.standalone&&i&&d.jsx(FJe,{onClose:r||(()=>o())})})]})};let SP=q.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),UJe=q(SP).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),BJe=q.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),zJe=q.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),WJe=q.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),HJe=q.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Ap=({size:t})=>d.jsx(qJe,{$size:t,children:d.jsxs(VJe,{children:[d.jsx(GJe,{}),d.jsx(KJe,{})]})});let qJe=q.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),VJe=q.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),GJe=q.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),KJe=q.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const YJe=q.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),QJe=q.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),ZJe=q.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),JJe=q(Ot).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),XJe=q.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),eXe=q.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let tXe=q.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),rXe=q.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),nXe=q.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),iXe=q.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),dB=q.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),sXe=q.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),oXe=q.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const wr=({children:t,...e})=>d.jsx(YJe,{children:d.jsx(QJe,{...e,children:t})});let aXe=q.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),lXe=q(Jt).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),cXe=q.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),uXe=({step:t})=>t?d.jsx(aXe,{children:d.jsx(cXe,{pct:Math.min(100,t.current/t.total*100)})}):null;wr.Header=({title:t,subtitle:e,icon:r,iconVariant:n,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(ZJe,{...f,children:[d.jsx(JJe,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(r||n||t||e)&&d.jsxs(tXe,{children:[r||n?d.jsx(wr.Icon,{icon:r,variant:n,loadingStatus:i}):null,d.jsxs(rXe,{children:[t&&d.jsx(nXe,{children:t}),e&&d.jsx(iXe,{children:e})]})]}),h&&d.jsx(uXe,{step:h})]}),wr.Body=Oe.forwardRef(({children:t,...e},r)=>d.jsx(XJe,{ref:r,...e,children:t})),wr.Body.displayName="Screen.Body",wr.Footer=({children:t,...e})=>d.jsx(eXe,{...e,children:t}),wr.Actions=({children:t,...e})=>d.jsx(dXe,{...e,children:t}),wr.HelpText=({children:t,...e})=>d.jsx(hXe,{...e,children:t}),wr.Watermark=()=>d.jsx(lXe,{}),wr.Icon=({icon:t,variant:e="subtle",loadingStatus:r})=>e==="logo"&&t?d.jsx(sXe,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:Oe.isValidElement(t)?{children:t}:{children:Oe.createElement(t)}):e==="loading"?t?d.jsx(oXe,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(uie,{success:r==null?void 0:r.success,fail:r==null?void 0:r.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Oe.isValidElement(t)?Oe.cloneElement(t,{style:{width:"38px",height:"38px"}}):Oe.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(dB,{$variant:e,children:d.jsx(Ap,{size:"64px"})}):d.jsx(dB,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Oe.isValidElement(t)?t:Oe.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let dXe=q.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),hXe=q.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Gt=({primaryCta:t,secondaryCta:e,helpText:r,watermark:n=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(Xf,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(Xf,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(wr,{id:s.id,className:s.className,children:[d.jsx(wr.Header,{...s}),i?d.jsx(wr.Body,{children:i}):null,r||o||n?d.jsxs(wr.Footer,{children:[r?d.jsx(wr.HelpText,{children:r}):null,o?d.jsx(wr.Actions,{children:o}):null,n?d.jsx(wr.Watermark,{}):null]}):null]})},$P=q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Ms=q.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),ra=q.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),ep=q.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),e8=q.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Cf=q.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Af=q.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),p0=q.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),die=q.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),E_=q.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),__=q.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),C_=q.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),hB=q.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),A_=q.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),hie=q.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),Vk=q.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),na=q.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),fie=q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),pie=({handleClose:t,user:e,onSelect:r})=>d.jsxs(Gt,{title:"Verify your identity",subtitle:"Choose a verification method",icon:qf,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(die,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Kr,{onClick:()=>r("totp"),children:[d.jsx(dc,{children:d.jsx(ix,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Kr,{onClick:()=>r("sms"),children:[d.jsx(dc,{children:d.jsx(ah,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Kr,{onClick:()=>r("passkey"),children:[d.jsx(dc,{children:d.jsx(sT,{})}),"Passkey"]},"passkey")]}),d.jsx(mn,{})]}),k_=({label:t,children:e,valueStyles:r})=>d.jsxs(fXe,{children:[d.jsx("div",{children:t}),d.jsx(pXe,{style:{...r},children:e})]});let fXe=q.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),pXe=q.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),gXe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),gie=t=>gXe.format(t);const mie=(t,e)=>{let r=gie(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},kf=(t,e)=>{let r=gie(e*parseFloat(ap(t)));return r==="$0.00"?"<$0.01":r},nl=(t,e,r=6,n=!1)=>`${yie(t,r,n)} ${e}`,yie=(t,e=6,r=!1)=>{let n=parseFloat(ap(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${n==="0"?"<0.001":n}`},IP=t=>t.reduce((e,r)=>e+r,0n),mXe=(t,e)=>{let{chains:r}=Ne(),n=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var c;let a=Number(s),l=o.find(u=>u.id===a);if(!l)throw new kr(`Unsupported chainId ${s}`,4901);return(c=l.blockExplorers)==null?void 0:c.default.url})(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i},yXe=1e9;function Dy(t,e){let r=parseFloat(t.toString())/yXe,n=wXe.format(e*r);return n==="$0.00"?"<$0.01":n}let wXe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const vXe=(t,e=0)=>{let r=t[e],n=t[e+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(n<<24))<<32n)+BigInt(r+256*t[++e]+65536*t[++e]+16777216*t[++e])};function bXe(t,e=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(t[e+n])<<BigInt(8*n);return r}async function c0(t,e){try{return await t}catch{return e}}const ey="11111111111111111111111111111111",xXe=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],EXe=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function eh(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function wie({amount:t,fee:e,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(t)*10**(n?6:9))),s=n?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?Dy(i,r):void 0,totalPriceInUsd:r?Dy(s,r):void 0,totalPriceInNativeCurrency:eh(s),feePriceInNativeCurrency:eh(e),feePriceInUsd:r?Dy(e,r):void 0}}let _Xe={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Va(t,e,r){let n=_Xe[t];if(!n[r]){let i=await e.getSplTokenMetadata({mintAddress:r,cluster:t});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function hh(t){return"version"in t}function b6(t,e){let r=(hh(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}function fB(t,e,r){var n;return{signature:t,parsedTransaction:r??null,signedTransaction:e,fees:BigInt(((n=r==null?void 0:r.meta)==null?void 0:n.fee)||0)}}async function vie(t,e){var n;let{value:r}=await e.simulateTransaction(t);if(r.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return r.err==null&&((n=r.logs)==null?void 0:n.every(i=>!/insufficient funds/gi.test(i)))}async function CXe({tx:t,connection:e,client:r,checkFunds:n}){var h,f,p,g;let i=hh(t)?t.message:t.compileMessage(),s=((h=i.staticAccountKeys[0])==null?void 0:h.toBase58())??"",o=await async function(m,w){return BigInt((hh(m)?(await w.getFeeForMessage(m.message)).value:await m.getEstimatedFee(w))??0)}(t,e),a=!n||await c0(vie(t,e),!0),l={},c=[],u=await async function(m,w){return[...m.staticAccountKeys.map(y=>y),...(await Promise.all(m.addressTableLookups.map(async y=>w.getAddressLookupTable(y.accountKey).then(({value:b})=>b)))).map((y,b)=>{var v,C;return[...((v=m.addressTableLookups[b])==null?void 0:v.writableIndexes.map(x=>{let I=y==null?void 0:y.state.addresses[x];if(I)return{key:I,isWritable:!0,altIdx:b}}))??[],...((C=m.addressTableLookups[b])==null?void 0:C.readonlyIndexes.map(x=>{let I=y==null?void 0:y.state.addresses[x];if(I)return{key:I,isWritable:!1,altIdx:b}}))??[]]}).flat().filter(y=>!!y).sort((y,b)=>y.isWritable!==b.isWritable?y.isWritable?-1:1:y.altIdx-b.altIdx).map(({key:y})=>y)]}(i,e);for(let m of i.compiledInstructions){let w=((f=i.staticAccountKeys[m.programIdIndex])==null?void 0:f.toBase58())||"";if(w!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&w!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(w!==ey){if(w==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let y=await c0(function(b,v,C){let[x,I,$,R]=b.accountKeyIndexes.map(T=>v[T]);return{type:"ata-creation",program:C,payer:x==null?void 0:x.toBase58(),ata:I==null?void 0:I.toBase58(),owner:$==null?void 0:$.toBase58(),mint:R==null?void 0:R.toBase58()}}(m,u,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}if(c.push(y),y.ata&&y.owner&&y.mint){l[y.ata]={owner:y.owner,mint:y.mint};continue}}if(xXe.includes(w)){let y=await c0(SXe(m,u,e,r,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else if(EXe.includes(w)){let y=await c0($Xe(m,u,e,r,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else c.push({type:"unknown",program:w,discriminator:m.data[0]})}else{let y=await c0(kXe(m,u));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else{let y=await c0(AXe(m,u,e,r,l,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y),y.type==="spl-transfer"&&(y.fromAta&&y.fromAccount&&y.token.address&&(l[p=y.fromAta]??(l[p]={owner:y.fromAccount,mint:y.token.address})),y.toAta&&y.toAccount&&y.token.address&&(l[g=y.toAta]??(l[g]={owner:y.toAccount,mint:y.token.address})))}}return{spender:s,fee:o,instructions:c,hasFunds:!!a}}function os(t,e=0){try{return bXe(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let r=Wi(t);try{return vXe(r)}catch{}try{return r.subarray(e).readBigInt64LE()}catch{}try{return r.readBigInt64LE(e)}catch{}return 0n}async function AXe(t,e,r,n,i,s){var l,c,u,h,f,p,g,m,w,y,b;let o=t.data[0],a=t.accountKeyIndexes.map(v=>e[v]);if(o===1){let[v,C,x]=a;return{type:"spl-init-account",program:s,account:v==null?void 0:v.toBase58(),mint:C==null?void 0:C.toBase58(),owner:x==null?void 0:x.toBase58()}}if(o===3){let v,C,[x,I,$]=a,R="",T=I?i[I.toBase58()]:void 0;if(T)v=T.owner,R=T.mint;else if(I){let M=await r.getParsedAccountInfo(I,"confirmed"),A=(l=M.value)==null?void 0:l.data;v=(u=(c=A==null?void 0:A.parsed)==null?void 0:c.info)==null?void 0:u.owner,R=((f=(h=A==null?void 0:A.parsed)==null?void 0:h.info)==null?void 0:f.mint)??"",C=(m=(g=(p=A==null?void 0:A.parsed)==null?void 0:p.info)==null?void 0:g.tokenAmount)==null?void 0:m.decimals}if(!R&&x){let M=await r.getParsedAccountInfo(x,"confirmed"),A=(w=M.value)==null?void 0:w.data;R=((b=(y=A==null?void 0:A.parsed)==null?void 0:y.info)==null?void 0:b.mint)??""}let L=Dm(r.rpcEndpoint),U=await Va(L,n,R),W=(U==null?void 0:U.symbol)??"";return C??(C=(U==null?void 0:U.decimals)??9),{type:"spl-transfer",program:s,fromAta:x==null?void 0:x.toBase58(),fromAccount:$==null?void 0:$.toBase58(),toAta:I==null?void 0:I.toBase58(),toAccount:v,value:os(t.data,1),token:{symbol:W,decimals:C,address:R}}}if(o===9){let[v,C,x]=a;return{type:"spl-close-account",program:s,source:v==null?void 0:v.toBase58(),destination:C==null?void 0:C.toBase58(),owner:x==null?void 0:x.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function kXe(t,e){let r=t.data[0],n=t.accountKeyIndexes.map(i=>e[i]);if(r===0){let[,i]=n;return{type:"create-account",program:ey,account:i==null?void 0:i.toBase58(),value:os(t.data,4),withSeed:!1}}if(r===2){let[i,s]=n;return{type:"sol-transfer",program:ey,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),token:{symbol:"SOL",decimals:9},value:os(t.data,4),withSeed:!1}}if(r===3){let[,i]=n,s=os(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:ey,account:i==null?void 0:i.toBase58(),withSeed:!0,value:s}}if(r===11){let[i,s]=n;return{type:"sol-transfer",program:ey,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),value:os(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function SXe(t,e,r,n,i){let s=t.accountKeyIndexes.map(l=>{var c;return(c=e[l])==null?void 0:c.toBase58()}),o=t.data[0],a=Dm(r.rpcEndpoint);if(o===143){let l=s[10],c=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:l,mintOut:c,tokenIn:l?await Va(a,n,l):void 0,tokenOut:c?await Va(a,n,c):void 0,amountIn:os(t.data,8),minimumAmountOut:os(t.data,16)}}if(o===55){let l=s[10],c=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:l,mintOut:c,tokenIn:l?await Va(a,n,l):void 0,tokenOut:c?await Va(a,n,c):void 0,maxAmountIn:os(t.data,8),amountOut:os(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function $Xe(t,e,r,n,i){var l,c,u,h,f,p;let s=t.data[0],o=t.accountKeyIndexes.map(g=>e[g]),a=Dm(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let g=(l=o[5])==null?void 0:l.toBase58(),m=(c=o[6])==null?void 0:c.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Va(a,n,g):void 0,tokenOut:m?await Va(a,n,m):void 0,outAmount:os(t.data,t.data.length-1-2-8-8),quotedInAmount:os(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let g=(u=o[7])==null?void 0:u.toBase58(),m=(h=o[8])==null?void 0:h.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Va(a,n,g):void 0,tokenOut:m?await Va(a,n,m):void 0,outAmount:os(t.data,t.data.length-1-2-8-8),quotedInAmount:os(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let g=(f=o[7])==null?void 0:f.toBase58(),m=(p=o[8])==null?void 0:p.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Va(a,n,g):void 0,tokenOut:m?await Va(a,n,m):void 0,inAmount:os(t.data,t.data.length-1-2-8-8),quotedOutAmount:os(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const IXe=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=IP(t),i=e?kf(n,e):void 0,s=nl(n,r);return d.jsx(TP,{children:i||s})},bie=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=IP(t),i=e?kf(n,e):void 0,s=nl(n,r);return d.jsx(TP,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(TXe,{children:"USD"}),i==="<$0.01"?d.jsxs(Eie,{children:[d.jsx(xie,{children:"<"}),"$0.01"]}):i]}):s})},pB=({quantities:t,tokenPrice:e,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=t.reduce((a,l)=>a+l,0n),s=e&&r==="SOL"&&n===9?Dy(i,e):void 0,o=r==="SOL"&&n===9?eh(i):`${Ln(i,n)} ${r}`;return d.jsx(TP,{children:s?d.jsx(d.Fragment,{children:s==="<$0.01"?d.jsxs(Eie,{children:[d.jsx(xie,{children:"<"}),"$0.01"]}):s}):o})};let TP=q.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),TXe=q.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),xie=q.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),Eie=q.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const _ie=q.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),PP=q.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),PXe=q.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),NXe=q(PP).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),g2=q(PP).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),t8=q.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),NP=q.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),OXe=q.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),bl=q.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Mo=q.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),MXe=q.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),RXe=({gas:t,tokenPrice:e,tokenSymbol:r})=>d.jsxs(t8,{style:{paddingBottom:"12px"},children:[d.jsxs(Cie,{children:[d.jsx(kie,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(bie,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:r})})]}),e&&d.jsx(Aie,{children:`${nl(BigInt(t),r)}`})]}),jXe=({value:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(t8,{children:[d.jsxs(Cie,{children:[d.jsx(kie,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(bie,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:r,tokenSymbol:n})})]}),r&&d.jsx(Aie,{children:nl(i,n)})]})};let Cie=q.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),Aie=q.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),kie=q.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const m2=E.createContext(void 0),r8=E.createContext(void 0),DXe=({defaultValue:t,children:e})=>{let[r,n]=E.useState(t||null);return d.jsx(m2.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:d.jsx(zXe,{children:e})})},LXe=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=E.useContext(m2),i=r===t;return d.jsx(r8.Provider,{value:{onToggle:()=>n(t),value:t},children:d.jsx(VXe,{isActive:i?"true":"false","data-open":String(i),children:e})})},FXe=({children:t})=>{let{activePanel:e}=E.useContext(m2),{onToggle:r,value:n}=E.useContext(r8),i=e===n;return d.jsxs(d.Fragment,{children:[d.jsxs(WXe,{onClick:r,"data-open":String(i),children:[d.jsx(qXe,{children:t}),d.jsx(KXe,{isactive:i?"true":"false",children:d.jsx(sx,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(HXe,{})]})},UXe=({children:t})=>{let{activePanel:e}=E.useContext(m2),{value:r}=E.useContext(r8);return d.jsx(GXe,{"data-open":String(e===r),children:d.jsx(Sie,{children:t})})},BXe=({children:t})=>{let{activePanel:e}=E.useContext(m2),{value:r}=E.useContext(r8);return d.jsx(Sie,{children:typeof t=="function"?t({isActive:e===r}):t})};let zXe=q.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),WXe=q.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),HXe=q.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),qXe=q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),VXe=q.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),GXe=q.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),Sie=q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),KXe=q.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");const Gk=({walletAddress:t,chainId:e=1,network:r,rpcEndpoint:n})=>d.jsx(YXe,{href:r==="ethereum"?mXe(e,t):tJe(t,Dm(n||"")),target:"_blank",children:pi(t)});let YXe=q.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const $ie=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((r==null?void 0:r.value)||0);return d.jsx(DXe,{...rr().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(LXe,{value:"details",children:[d.jsx(FXe,{children:d.jsxs(QXe,{children:[d.jsx("div",{children:(n==null?void 0:n.title)||"Details"}),d.jsx(ZXe,{children:d.jsx(IXe,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(UXe,{children:[d.jsx(k_,{label:"From",children:d.jsx(Gk,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),d.jsx(k_,{label:"To",children:d.jsx(Gk,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&d.jsx(k_,{label:"Action",children:n.action}),s&&d.jsx(RXe,{value:r.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(BXe,{children:({isActive:l})=>d.jsx(jXe,{value:r.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let QXe=q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),ZXe=q.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const Iie=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=Ne(),[n,i]=E.useState(!0),[s,o]=E.useState(void 0),[a,l]=E.useState(void 0);return E.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await r();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:n,solPriceError:s}};function Lm(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=Ne(),[h,f]=E.useState(!0),[p,g]=E.useState(void 0),[m,w]=E.useState(void 0);return E.useEffect(()=>{a||(a=1);let y=xI(u).find(b=>b.id===Number(a));(async()=>{if(l){if(!y)return f(!1),void g(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let b=await c(y);b?w(b):g(Error(`Unable to fetch token price on chain id ${y.id}`))}catch(b){g(b)}finally{f(!1)}}else f(!1)})()},[a]),{tokenPrice:m,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=Iie({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const Tie=E.createContext(null);function xl(){let t=E.useContext(Tie);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function x6(t,e,r,n){let i=PZ(t),s=await(async()=>n?await n():await e.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...s,type:tCe[s.type]}}const Kk=({pendingTransaction:t})=>{let{wallets:e}=xl(),{walletProxy:r,rpcConfig:n,chains:i,appId:s,nativeTokenSymbolForChainId:o}=Ne(),[a,l]=E.useState(null),[c,u]=E.useState(t),{tokenPrice:h}=Lm(c.chainId),f=o(t.chainId)||"ETH",p=E.useMemo(()=>e.find(g=>g.walletClientType==="privy"),[e]);return E.useEffect(()=>{(async function(){if(!r||!p)return c;let g=em(c.chainId,i,n,{appId:s}),m=await x6(c,g,p.address);return l(Pr(BigInt(m.gas??0))),m})().then(u).catch(console.error)},[r]),p?d.jsx(JXe,{children:d.jsx($ie,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let JXe=q.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),OP=q.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const MP=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),Pie=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=Ne();return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:r},"header"),d.jsx(OP,{children:d.jsxs("div",{children:[d.jsx(uie,{success:o,fail:!!e}),d.jsx(e?fp:MP,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Ms,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(e8,{children:[d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(qf,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(q7e,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(ep,{children:d.jsx(Kk,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(fie,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(fr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&d.jsx(Vk,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),d.jsx(mn,{})]})};let XXe=Array(6).fill("");var N1,eet=((N1=eet||{})[N1.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",N1[N1.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",N1);function Yk(t){return/^[0-9]{1}$/.test(t)}function gB(t){return t.length===6&&t.every(Yk)}const E6=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=E.useState(XXe),[o,a]=E.useState(null),[l,c]=E.useState(null),u=async f=>{var $;f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let g=i.reduce((R,T)=>R+Number(Yk(T)),0),m=p.split(""),w=!m.every(Yk),y=m.length+g>6;if(w)return a("Passcode can only be numbers"),void c(1);if(y)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let b=Number(($=f.currentTarget.name)==null?void 0:$.charAt(4)),v=[...p||[""]].slice(0,6-b),C=[...i.slice(0,b),...v,...i.slice(b+v.length)];s(C);let x=Math.min(Math.max(b+v.length,0),5),I=document.querySelector(`input[name=pin-${x}]`);if(I==null||I.focus(),gB(C))try{await t(C.join(""));let R=document.querySelector(`input[name=pin-${x}]`);R==null||R.blur()}catch(R){c(1),a(R.message)}else try{await t(null)}catch(R){c(1),a(R.message)}},h=n?"success":!r&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(tet,{children:[d.jsx("div",{children:i.map((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:g=>{g.key==="Backspace"&&(m=>{l===1&&(a(null),c(null));let w=[...i.slice(0,m),"",...i.slice(m+1)];if(s(w),m>0){let y=document.querySelector(`input[name=pin-${m-1}]`);y==null||y.focus()}gB(w)?t(w.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Tr?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(ret,{$fail:!!r||!!o,children:r||o})})]})})};let tet=q.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ret=q.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const Nie=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:o}=De(),{pendingTransaction:a}=Ne();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:n},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(ah,{})}),d.jsx(Ms,{children:"Enter verification code"}),d.jsxs(ep,{children:[d.jsx(E6,{success:e,disabled:r,onChange:s}),d.jsxs(ra,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(Kk,{pendingTransaction:a})]}),i&&d.jsx(Vk,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(gl,{onClick:n,children:"Cancel"}),d.jsx(mn,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:n},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(ix,{})}),d.jsx(Ms,{children:"Enter verification code"}),d.jsxs(ep,{children:[d.jsx(E6,{success:e,disabled:r,onChange:s}),d.jsxs(ra,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(Kk,{pendingTransaction:a})]}),i&&d.jsx(Vk,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(gl,{onClick:n,children:"Cancel"}),d.jsx(mn,{})]});default:return null}},net=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Yr extends Error{constructor(e,r){super(r),this.type=e}}function Fm(t){let e=t.type;return typeof e=="string"&&net.includes(e)}function fv(t){return Fm(t)&&t.type==="wallet_not_on_device"}function RP(t){return!!Fm(t)&&t.type==="mfa_timeout"}function jP(t){return!!Fm(t)&&t.type==="missing_or_invalid_mfa"}function iet(t){return!!Fm(t)&&t.type==="mfa_verification_max_attempts_reached"}function Oie(t){return!(!Fm(t)||!t.message.includes("code 429"))}function Mie(t){return!!function(e){let r=e.type;return typeof r=="string"&&r==="client_error"}(t)&&t.message==="MFA canceled"}const _6=t=>iet(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:jP(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:RP(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),set={component:()=>{let{user:t}=Ut(),{data:e}=De(),[r,n]=E.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=E.useState(!1),[o,a]=E.useState(),[l,c]=E.useState();if(E.useEffect(()=>{n(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:g,verifySmsCode:m,sendSmsCode:w}=e.mfaVerify,y=async x=>{if(x!=="passkey")try{n(x),x==="sms"&&(n(x),await w()),x==="totp"&&n(x)}catch(I){console.error(I)}else try{n(x);let I=await f();if(!I)throw Error("something went wrong");a(I),await g(I),s(!0),c(void 0),h()}catch(I){c(_6(I))}},b=async x=>{c(void 0);try{if(!x||!r)return;if(r==="passkey"){if(!o)throw Error("Missing passkey challenge");await g(o)}else r==="sms"?await m(x):r==="totp"&&await p(x);c(void 0),s(!0),h()}catch(I){throw _6(I).error}},v=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},C=E.useRef(!1);return E.useEffect(()=>{!C.current&&r&&(C.current=!0,y(r).finally(()=>{C.current=!1}))},[open]),t?r==="passkey"?d.jsx(Pie,{account:t.linkedAccounts.filter(x=>x.type==="passkey"&&x.enrolledInMfa).sort((x,I)=>I.firstVerifiedAt.valueOf()-x.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:v,onBack:()=>{n(void 0),c(void 0)},handleSubmit:()=>b(o).catch(c)}):r==="sms"||r==="totp"?d.jsx(Nie,{selectedMethod:r,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:b,onClose:v,onBack:t.mfaMethods.length>1?()=>n(void 0):void 0}):d.jsx(pie,{user:t,onSelect:y,handleClose:v}):null}};function Rie(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=E.useContext(hp);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}const mB=({onClose:t})=>{let{user:e}=Ut(),[r,n]=E.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=Rie(),[a,l]=E.useState(!1),[c,u]=E.useState(null),[h,f]=E.useState();E.useEffect(()=>{n((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let p=E.useRef(!1);async function g(y){f(void 0);try{if(!y||!r)return;await o(r,y),l(!0),f(void 0),t()}catch(b){throw _6(b).error}}async function m(y){if(y!=="passkey")try{n(y),await i(y)}catch(b){console.error(b)}else try{n(y);let b=await i(y);if(!b)throw Error("something went wrong");u(b),await o(y,b),l(!0),f(void 0),t()}catch(b){f(_6(b))}}E.useEffect(()=>{!p.current&&r&&(p.current=!0,m(r).finally(()=>{p.current=!1}))},[]);let w=()=>{n(null),f(void 0),s(),t()};return e?r==="passkey"?d.jsx(Pie,{account:e.linkedAccounts.filter(y=>y.type==="passkey"&&y.enrolledInMfa).sort((y,b)=>b.firstVerifiedAt.valueOf()-y.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:w,onBack:()=>{n(null),f(void 0)},handleSubmit:()=>g(c).catch(f)}):r?d.jsx(Nie,{submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:g,selectedMethod:r,onClose:w,onBack:e.mfaMethods.length>1?()=>n(null):void 0}):d.jsx(pie,{user:e,onSelect:m,handleClose:w}):null},C6=Cm(()=>({inProgressMfaFlow:void 0})),oet=l7e([":root{","};"],t=>aet(t.palette)),aet=t=>Un(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,r])=>`${e}: ${r};`).join(`
`)),yB=q.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),cet=({children:t,open:e,onClick:r,...n})=>d.jsx(TX,{show:e,as:Oe.Fragment,children:d.jsxs(xIe,{onClose:r,...n,as:det,children:[d.jsx(Jw,{as:Oe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(uet,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(het,{children:d.jsx(Jw,{as:Oe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(PX,{as:fet,children:t})})})]})});let uet=q.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),det=q.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),het=q.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const fet=q.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),pet=q.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let jie=()=>{let{ready:t,isModalOpen:e}=Ut(),{headless:r}=rr(),{currentScreen:n}=De(),{status:i,execute:s,reset:o,enabled:a}=Xs(),l=C6(h=>h.inProgressMfaFlow),c=()=>C6.setState({inProgressMfaFlow:void 0}),u=e&&n&&n.isCaptchaRequired&&!r&&i==="ready";return E.useEffect(()=>{u&&s()},[u]),E.useEffect(()=>{!e&&a&&o()},[e,a]),n&&!t&&n.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(Ot,{}),d.jsx(bl,{}),d.jsx(pet,{children:d.jsx(ya,{})}),d.jsx(Mo,{}),d.jsx(mn,{})]}):n||l!=="txn"?n?d.jsxs(d.Fragment,{children:[d.jsx(tm,{$if:!!l,children:d.jsx(n.component,{})}),l==="txn"&&d.jsx(mB,{onClose:c}),l==="auth"&&d.jsx(set.component,{})]}):null:d.jsx(mB,{onClose:c})},get=()=>{let t=E.useRef(null);return d.jsx(yet,{style:{height:vJe(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(jie,{})})})};const met=({open:t})=>{let e=rr(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:i}=Ne(),{onUserCloseViaDialogOrKeybindRef:s}=De();return{gracefulClosePrivyModal:E.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),n=C6(i=>i.inProgressMfaFlow);return xJe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||C6.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(yB,{children:d.jsx(Die,{id:"privy-modal-content",children:d.jsx(jie,{})})}):d.jsx(cet,{open:!(!t&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:d.jsx(yB,{children:d.jsx(get,{})})})};let Die=q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),yet=q(Die).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function wet(t){let e=E.useRef(null),r=E.useRef();return E.useEffect(()=>{var n,i;(n=r.current)==null||n.remove(),r.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(r.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const Dt=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=E.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return E.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),d.jsxs(vet,r?{children:[d.jsx(xet,{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:pi(t)}),e&&d.jsx(gl,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(Xw,{size:16})]}:{children:["Copy",d.jsx(Y5,{size:16})]})})]}:{children:[d.jsx(bet,{title:t,className:n,children:pi(t)}),e&&d.jsx(gl,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(Xw,{size:14})]}:{children:["Copy",d.jsx(Y5,{size:14})]})})]})};let vet=q.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),bet=q.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),xet=q.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const Eet=()=>{let{solanaWallets:t}=Ne(),{ready:e,wallets:r}=xl();return E.useEffect(()=>{if(e){let n=[...r,...t].map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));ot.put(Ane,n)}},[e,r,t]),null};async function zo(t,e,r,n,i,s=!1){var c,u,h;let o=s,a=async f=>{var p;if(o&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(p=n.current)==null||p.reject(new Yr("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((m,w)=>{r.current={resolve:m,reject:w},setTimeout(()=>{var b;let y=new Yr("mfa_timeout","Timed out waiting for MFA code");(b=n.current)==null||b.reject(y),w(y)},3e5)});return await t(g)}return await t()},l=null;for(let f=0;f<4;f++)try{l=await a(f),(c=n.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=n.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let f=new Yr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=n.current)==null||h.reject(f),f}return l}var wB;let _et=(wB=0,()=>"id-"+wB++);function Pn(t){return t.error!==void 0}let bn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let r=this.callbacks[e];if(!r)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},S_=new Map,Cet=(t,e)=>typeof e=="bigint"?e.toString():e;function Nn(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,Cet)}`)(t,e);if(t==="privy:wallet:create"){let a=S_.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=_et();bn.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},n)}).finally(()=>{S_.delete(s)});return S_.set(s,o),o}function Aet(t){let e=nie(),r=E.useRef(null),n=E.useRef(t.mfaMethods),i=Lu(),[s,o]=E.useState(!1);return E.useEffect(()=>{n.current=t.mfaMethods},[t.mfaMethods]),E.useEffect(()=>{if(!s)return;let a=r.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&function(p){switch(p.event){case"privy:iframe:ready":let g=bn.dequeue(p.event,p.id);return Pn(p)?g.reject(new Yr(p.error.type,p.error.message)):g.resolve(p.data);case"privy:user-signer:sign":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:add":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:set-recovery":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:connect":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:recover":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:rpc":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallet:create":let m=bn.dequeue(p.event,p.id);return Pn(p)?m.reject(new Yr(p.error.type,p.error.message)):m.resolve(p.data);case"privy:wallets:import":let w=bn.dequeue(p.event,p.id);return Pn(p)?w.reject(new Yr(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:verify":let y=bn.dequeue(p.event,p.id);return Pn(p)?y.reject(new Yr(p.error.type,p.error.message)):y.resolve(p.data);case"privy:mfa:init-enrollment":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:submit-enrollment":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:unenroll":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:clear":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:auth:unlink-passkey":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:solana-wallet:create":let b=bn.dequeue(p.event,p.id);return Pn(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data);case"privy:farcaster:init-signer":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:farcaster:sign":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:delegated-actions:consent":{let v=bn.dequeue(p.event,p.id);return Pn(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}}(h.data)}let c={signWithUserSigner:h=>zo(f=>Nn("privy:user-signer:sign",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>zo(f=>Nn("privy:wallets:add",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>zo(f=>Nn("privy:wallets:set-recovery",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>zo(f=>Nn("privy:wallets:connect",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>zo(f=>Nn("privy:wallets:recover",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>zo(f=>Nn("privy:wallets:rpc",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>Nn("privy:wallet:create",h,a,t.origin),importWallet:h=>Nn("privy:wallets:import",h,a,t.origin),createSolana:h=>zo(f=>Nn("privy:solana-wallet:create",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>Nn("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>zo(f=>Nn("privy:mfa:verify",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>zo(f=>Nn("privy:mfa:init-enrollment",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>zo(f=>Nn("privy:mfa:submit-enrollment",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>zo(f=>Nn("privy:mfa:unenroll",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>Nn("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>zo(f=>Nn("privy:auth:unlink-passkey",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>Nn("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>Nn("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return Fk(()=>Nn("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(c),(...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),u.abort()}},[s]),e?d.jsx("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:Wne(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function rm(t){return["ethereum","solana"].includes(t.chainType)}const ket=({address:t,user:e})=>{let r=e.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t);if(!r)throw new J("Address to delegate is not associated with current user.");if(!rm(r))throw new J(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},$et=({address:t,user:e})=>{let r=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!r)throw new J("Address to delegate is not associated with current user.");let n=r.imported?r:fa(e);if(!n)throw new J("Unable to determine root address for delegated address.");if(!rm(n))throw new J(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}},vB=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),Iet=()=>{let t=rr();E.useEffect(()=>{(async e=>{let r=new URL("v3/wallets","https://explorer-api.walletconnect.com");r.searchParams.append("projectId",e);let n=await fetch(r);return n.ok?Object.values((await n.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>JZe({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])};function Lie(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const bB="popup-privy-oauth",xB="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class Tet{async authenticate(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(OQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw qt(e)}}async link(){if(!this.api)throw new J("Auth flow has no API instance");try{return await this.api.post(MQ,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw qt(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}}async function Fie({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===r);if(!n)throw new J("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only,customAuthAuthorizeUrl:n.provider_app_custom_auth_authorize_url,customAuthTransactUrl:n.provider_app_custom_auth_transact_url}}const n8=()=>window.open(void 0,void 0,Pet({w:440,h:680}));let Pet=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};const Bb=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let o=t==null?void 0:t.linkedAccounts.find(h=>h.type==="cross_app"&&(h.embeddedWallets.some(f=>f.address===e)||h.smartWallets.some(f=>f.address===e)));if(!t||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new J("Cannot request a signature with this wallet address");let a=r.getProviderAccessToken(o.providerApp.id),l=await Fie({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new J("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=r.getProviderAccessToken(o.providerApp.id))}if(!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new J("Transactions require a valid token");let c=n8();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new J("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",Net(n)),c.location=u.href,new Promise((h,f)=>{let p=setTimeout(()=>{w(),f(new J("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),g=setInterval(()=>{c.closed&&(w(),f(new J("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=y=>{var b,v,C;y.data&&(((b=y.data.token)==null?void 0:b.action)==="set"&&((v=y.data.token)==null?void 0:v.value)!==void 0?r.storeProviderAccessToken(o.providerApp.id,y.data.token.value):((C=y.data.token)==null?void 0:C.action)==="clear"&&r.storeProviderAccessToken(o.providerApp.id,null),y.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&y.data.result&&(w(),h(y.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),y.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&y.data.error&&(w(),f(y.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:y.data.error,address:e}})))};window.addEventListener("message",m);let w=()=>{c.close(),clearInterval(g),clearTimeout(p),window.removeEventListener("message",m)}})};let Net=t=>JSON.stringify({content:{request:{request:Qk(t,Pr)}},timestamp:Date.now(),callbackUrl:window.origin});const Qk=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(r=>Qk(r,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Qk(n,e)])):t,Oet=({title:t,description:e,children:r,...n})=>d.jsx(Uie,{...n,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,r]})}),Ao=({title:t,description:e,icon:r,children:n,...i})=>d.jsxs(Met,{...i,children:[r||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,n]});let Uie=q.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),Met=q(Uie).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const Bie=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),zie=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function EB({url:t,popup:e,provider:r}){return e.location=t,new Promise((n,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(n(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function Ret({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new J("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new J("User denied confirmation during OAuth flow");try{return(await t.post(K9e,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let o=qt(s);throw o.privyErrorCode?new J(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new J("Invalid code during oauth flow.",void 0,ee.OAUTH_USER_DENIED):new J("Invalid code during OAuth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}async function _B({api:t,provider:e}){let r=Qx(),n=mP(),i=await yP(r);try{return e==="icloud"?{url:(await t.post(G9e,{client_type:"web"})).url}:{url:(await t.post(V9e,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw qt(s)}}const DP=(t,{chainType:e,walletIndex:r}={})=>(t==null?void 0:t.linkedAccounts.filter(n=>!(n.type!=="wallet"||n.walletClientType!=="privy"||r!==void 0&&n.walletIndex!==r||e!==void 0&&n.chainType!==e)))??[],Wie=async({user:t,accessToken:e,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await O7(i,{request:{chain_type:c}});else if(c==="ethereum"){let m=dp(t);m&&await o({address:m.address}),await r.create({accessToken:e,solanaAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let m=ql(t);m&&await o({address:m.address}),await r.createSolana({accessToken:e,ethereumAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await O7(i,{request:{chain_type:c}});else{let{entropyId:m,entropyIdVerifier:w}=di(t);await o(),await r.addWallet({accessToken:e,entropyId:m,entropyIdVerifier:w,chainType:c,hdWalletIndex:l})}let p=await n(),g=DP(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:g}},LP=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:r,refreshSessionAndUser:n,privy:i,client:s}=Ne(),o=rr();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await n());let g=await s.getAccessToken();if(!p||!g||!t)throw Error("User must be authenticated before creating a Privy wallet");return await Wie({appConfig:o,user:p,refreshSessionAndUser:n,privy:i,accessToken:g,proxy:t,recoverEmbeddedWallet:e,setUser:r,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},jet=({title:t,description:e,onClose:r})=>d.jsx(Gt,{title:t,subtitle:e,icon:e2,iconVariant:"success",watermark:!0,onBack:r}),FP={component:()=>{let{user:t}=Ut(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=Ne(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=De(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=ql(t)??dp(t);t&&h?(n(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return E.useEffect(()=>{let h=setTimeout(u,pP);return()=>clearTimeout(h)},[]),o.current=u,d.jsx(jet,{title:r?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:r?"You've successfully created an account.":"Your account is secured.",onClose:u})}},Zk=q.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Det=q.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let CB={"google-drive":{name:"Google Drive",component:zie},icloud:{name:"iCloud",component:Bie}};const Hie={component:()=>{var L;let{logout:t}=Ut(),{navigate:e,setModalData:r,data:n}=De(),{closePrivyModal:i,createAnalyticsEvent:s}=Ne(),{execute:o}=(()=>{let{client:U,walletProxy:W,refreshSessionAndUser:M}=Ne(),{data:A}=De(),{user:_}=Ut(),S=Lu(),{create:O}=LP();return{execute:async({provider:P,action:N,popup:D,shouldCreateEth:F,shouldCreateSol:k})=>{var G,Q;let z,V;if(!U)throw new J("Missing client");function j(K){if(!K&&U)throw U.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:P}}),new J("Recovery OAuth failed")}switch(P){case"google-drive":{let K,re,{url:le,codeVerifier:ne,stateCode:ae}=await _B({api:U.api,provider:P});j(le);try{let ye=await EB({url:le,popup:D,provider:P});if(K=ye.stateCode,re=ye.authorizationCode,K!==ae)throw U.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:P,storedStateCode:ae??"",returnedStateCode:K??""}}),new J("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED)}catch(ye){throw U.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:ye.toString(),provider:P}}),new J("Recovery OAuth failed")}[z,V]=await Promise.all([U.getAccessToken(),Ret({api:U.api,provider:P,codeVerifier:ne,stateCode:K,authorizationCode:re})]);break}case"icloud":{let{url:K}=await _B({api:U.api,provider:P});j(K);let{ckWebAuthToken:re}=await EB({url:K,popup:D,provider:P});V=re,z=await U.getAccessToken()}}if(!W)throw new J("Cannot connect to wallet proxy");if(!z)throw new J("Unable to authorize user");switch(N){case"recover":{let K=(G=A==null?void 0:A.recoverWallet)==null?void 0:G.entropyId,re=(Q=A==null?void 0:A.recoverWallet)==null?void 0:Q.entropyIdVerifier;if(!K||!re)throw new J("Recovery OAuth failed");U.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:K,recoveryMethod:P}}),await W.recover({accessToken:z,entropyId:K,entropyIdVerifier:re,recoveryAccessToken:V}),U.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:K,recoveryMethod:P}});break}case"create-wallet":{let K;if(U.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),F&&k)K=await O({recoveryMethod:P,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:_}),K=await O({chainType:"solana",walletIndex:0,latestUser:K.user});else if(k)K=await O({recoveryMethod:P,recoveryAccessToken:V,chainType:"solana",walletIndex:0,latestUser:_});else{if(!F)throw Error("Invalid args to create wallet");K=await O({recoveryMethod:P,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:_})}if(!K)throw S("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");U.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:K.account.address}}),S("createWallet","onSuccess",{wallet:K.account});break}case"set-recovery":{let K=fa(_);if(!K)throw S("setWalletRecovery","onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");U.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:P}});let{entropyId:re,entropyIdVerifier:le}=di(_);await W.setRecovery({accessToken:z,entropyId:re,entropyIdVerifier:le,recoveryMethod:P,recoveryAccessToken:V});let ne=fa(await M());if(!ne)throw S("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");U.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:P}}),S("setWalletRecovery","onSuccess",{method:P,wallet:ne});break}default:throw new J("Unsupported recovery action")}}}})(),[a,l]=E.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=n==null?void 0:n.recoveryOAuthStatus,[g,m]=E.useState(void 0),[w,y]=E.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let b=CB[c].name,v=CB[c].component,C=(L=n==null?void 0:n.recoverWallet)==null?void 0:L.onCompleteNavigateTo,x=new us(async(U="create-wallet")=>(y(!0),new Promise((W,M)=>{setTimeout(async()=>{try{let A=window.open();await o({provider:c,action:U,popup:A,shouldCreateEth:f,shouldCreateSol:p}),l(!0),W()}catch{m({message:`${U==="recover"?"Recovery":"Back up"} with ${b} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${b} account associated with your backup.`:"",retryable:!0}),M()}},0)})));E.useEffect(()=>{u!=="recover"&&x.execute(h?"create-wallet":"set-recovery")},[]),E.useEffect(()=>{if(!a)return;let U=setTimeout(()=>{h?(r({createWallet:{onSuccess:()=>{},onFailure:W=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:W,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(FP)):i({shouldCallAuthOnSuccess:!1})},Hr);return()=>clearTimeout(U)},[a]);let I=E.useCallback(async()=>{await x.execute("recover"),C?e(C):l(!0)},[]),$=c==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${$}.`||g&&g.message||`${u==="recover"?"Recovering":"Backing up"} with ${$}...`,T=g?g.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{}),w?d.jsx(d.Fragment,{children:d.jsxs(Zk,{children:[d.jsx(Ao,{title:R,icon:d.jsx(v,{style:{width:"38px",height:"38px"}}),description:T}),g&&(g!=null&&g.retryable)?d.jsx(fr,{onClick:()=>{Dk(),m(void 0),u==="create-wallet"?x.execute("create-wallet"):I()},disabled:!a&&!(g!=null&&g.retryable),children:"Try again"}):null]})}):d.jsxs(Zk,{children:[d.jsx(Ao,{title:"Confirm it's really you",icon:d.jsx(v,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${$} where your account is backed up.`}),d.jsxs(fr,{onClick:I,children:["Confirm with ",$]})]}),d.jsx(Jt,{})]})}};let $_=q.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Let={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},Fet=({onClose:t})=>d.jsxs(Det,{children:[d.jsx(Ao,{title:"Why do I need to secure my account?",icon:d.jsx(rg,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(fr,{onClick:t,children:"Select backup method"})]});const Jk={component:()=>{let[t,e]=E.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=De(),{user:l}=Ut(),{embeddedWallets:c}=rr(),{closePrivyModal:u}=Ne(),h=fa(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:g,shouldCreateEth:m,shouldCreateSol:w}=o.recoverySelection,y=h&&h.recoveryMethod!=="privy",b=y?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:Let[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function v(x){s({recoveryOAuthStatus:{provider:x,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:m,shouldCreateSol:w}}),r(Hie)}function C(){var x,I;(x=o==null?void 0:o.setWalletPassword)==null||x.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((I=o==null?void 0:o.setWalletPassword)==null?void 0:I.callAuthOnSuccessOnClose)??!1})}return a.current=C,d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:C,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?d.jsx(Fet,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(Ao,{title:y?"Update backup method":"Secure your account",icon:d.jsx(rne,{width:48}),description:b}),d.jsx(Zk,{children:c.userOwnedRecoveryOptions.filter(x=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||x!==(h==null?void 0:h.recoveryMethod)).sort().map(x=>{switch(x){case"google-drive":return d.jsxs(Kr,{onClick:()=>v("google-drive"),children:[d.jsx($_,{children:d.jsx(zie,{style:{width:18}})}),"Back up to Google Drive"]},x);case"icloud":return d.jsxs(Kr,{onClick:()=>v("icloud"),children:[d.jsx($_,{children:d.jsx(Bie,{style:{width:24}})}),"Back up to Apple iCloud"]},x);case"user-passcode":return d.jsxs(Kr,{onClick:()=>{r(Dse({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx($_,{children:d.jsx(kQe,{style:{width:18}})}),g?"Reset your":"Set a"," password"]},x);default:return null}})})]}),d.jsx(Jt,{})]})}};let Uet=Un(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const qie=q.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Uet,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),i8=q.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),s8=q(fr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&Un(["&&{transition:none;}"]));let Vie=Un(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const UP=q.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],Vie),Bet=q.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],Vie),o8=q.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),a8=q.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),BP=q.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),Xk=q.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),AB=q(Xf).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),l8=q.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),zet=q(GYe).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),c8=q(fQe).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),u8=q(gQe).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Wet=q.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),Het=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,o]=E.useState(!0),[a,l]=E.useState(!1),[c,u]=E.useState(""),h=r===c;return E.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(Ot,{closeable:!1,backFn:i}),d.jsx(bl,{}),d.jsxs(i8,{children:[d.jsxs(a8,{children:[d.jsx(fp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(o8,{children:[d.jsx(UP,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(l8,{style:{right:"0.75rem"},children:s?d.jsx(c8,{onClick:()=>o(!1)}):d.jsx(u8,{onClick:()=>o(!0)})})]}),d.jsx(qie,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(s8,{onClick:n,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(Mo,{}),d.jsx(Jt,{})]})},Gie=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>d.jsx("label",{children:d.jsxs(qet,{className:t,children:[d.jsx(Yie,{checked:e,...n}),d.jsx(Vet,{color:r,checked:e,children:d.jsx(Kie,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let qet=q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),Kie=q.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),Yie=q.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),Vet=q.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",Yie,t=>t.color,Kie,t=>t.checked?"visible":"hidden");const Get=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,o]=E.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{closeable:!1,backFn:n}),d.jsx(bl,{}),d.jsxs(i8,{children:[d.jsxs(a8,{children:[d.jsx(fp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(BP,{children:d.jsxs(Xk,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx(Gie,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(Ket,{children:[i.initiatedBy==="user"&&d.jsx(gl,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(s8,{onClick:r,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]})};let Ket=q.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),Yet=/[a-z]/,Qet=/[A-Z]/,Zet=/[0-9]/,Qie="!@#$%^&*()\\-_+.",Zie=`a-zA-Z0-9${Qie}`,Jet=RegExp(`[${Qie}]`),Xet=RegExp(`[${Zie}]`);const ett=RegExp(`^[${Zie}]{6,}$`),Jie=()=>NYe(4,MYe);function ttt(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function rtt(t=""){return(.3*function(e){if(e.length<8)return 0;let r=0;return Yet.test(e)&&(r+=1),Qet.test(e)&&(r+=1),Zet.test(e)&&(r+=1),Jet.test(e)&&(r+=1),Math.max(0,Math.min(1,r/3))}(t)+kYe(t)/95)/2}const ntt=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=E.useState(!1),[f,p]=E.useState(!1);E.useEffect(()=>{r&&!f&&p(!0)},[r]);let g=E.useMemo(()=>f?6>((r==null?void 0:r.length)||0)?"Password must be at least 6 characters":ett.test(r||"")?null:`Invalid characters used ( ${((y="")=>[...new Set(y.split("").filter(b=>!Xet.test(b)).map(b=>b.replace(" ","SPACE")))])(r).join(" ")} )`:null,[r,f]),m=E.useMemo(()=>g?{value:0,label:"Weak"}:function(y=""){let b=rtt(y);return{value:b,label:ttt(b)}}(r),[r,g]),w=E.useMemo(()=>!(r!=null&&r.length)||!!g,[g,r]);return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:o,closeable:n.initiatedBy==="user",backFn:a}),d.jsx(bl,{}),d.jsxs(i8,{children:[d.jsxs(a8,{children:[d.jsx(bQe,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(o8,{children:[d.jsx(UP,{value:r,onChange:y=>l(y.target.value),onKeyUp:y=>{y.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(l8,{style:{width:"3.5rem"},children:[u?d.jsx(c8,{onClick:()=>h(!1)}):d.jsx(u8,{onClick:()=>h(!0)}),d.jsx(zet,{onClick:c})]})]}),d.jsx(Wet,{value:m.value===0?.01:m.value,label:m.label}),d.jsx(qie,{error:!!g,children:g||`Password Strength: ${f?m.label:"--"}`}),d.jsxs(stt,{children:[d.jsx(itt,{children:d.jsxs(BP,{children:[d.jsxs(Xk,{children:[d.jsx(dv,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(Xk,{children:[d.jsx(dv,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(s8,{onClick:s,loading:e,disabled:w,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]})};let itt=q(BP).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),stt=q.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const ott=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[o,a]=E.useState(!1),[l,c]=E.useState(!0),u=E.useCallback(()=>{a(!0),n&&navigator.clipboard.writeText(n)},[n]),h=E.useCallback(()=>{let f=document.createElement("a"),p=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),g=new Blob([att(r,n)],{type:"text/plain"}),m=URL.createObjectURL(g);f.href=m,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout(()=>{f.remove(),URL.revokeObjectURL(m)},5e3)},[n]);return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:s,closeable:!1}),d.jsx(bl,{}),d.jsxs(i8,{children:[d.jsxs(a8,{children:[d.jsx(fp,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(o8,{centered:!0,children:[d.jsx(Bet,{children:l?"".repeat(n.length):n}),d.jsx(l8,{style:{right:"0.75rem"},children:l?d.jsx(c8,{onClick:()=>c(!1)}):d.jsx(u8,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(AB,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(ene,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(dQe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(AB,{onClick:h,children:[d.jsx(qYe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(s8,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(Mo,{}),d.jsx(Jt,{})]})};let att=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const ltt=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(Ot,{closeable:!1}),d.jsx(bl,{}),d.jsxs(g2,t?{children:[d.jsx(wZe,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Something went wrong",description:t})]}:{children:[d.jsx(dv,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Success"})]}),d.jsx(fr,{onClick:e,children:"Close"}),d.jsx(Mo,{}),d.jsx(Jt,{})]});let ctt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const Xie=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=De(),{send:i,state:s}=(()=>{let[c,u]=E.useReducer(ctt,"creating");return{send:u,state:c}})(),o=E.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);E.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Hr)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=E.useCallback(()=>{i("back")},[i]),l=E.useCallback(()=>{n(Jk)},[r,n]);return s==="creating"?d.jsx(ntt,{...e,onSubmit:o,onBack:r===Jk?l:void 0}):s==="saving"?d.jsx(ott,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(Het,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(Get,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(ltt,{...e,onSubmit:o}):null};let utt={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const d8=t=>{let e=utt[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let ese=E.createContext({});const dtt=({children:t})=>{let e=rr(),[r,n]=E.useState({});return Cp("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(ot.put(kB(e.id),i.type),i.type==="wallet"?(ot.put(I_(e.id),i.walletClientType),ot.put(T_(e.id),i.chainType),n({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(ot.del(I_(e.id)),ot.del(T_(e.id)),n({accountType:i.type})))}}),E.useEffect(()=>{if(!e.id)return;let i=ot.get(kB(e.id)),s=ot.get(I_(e.id)),o=ot.get(T_(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(ese.Provider,{value:r,children:t})};let kB=t=>`privy:${t}:recent-login-method`,I_=t=>`privy:${t}:recent-login-wallet-client`,T_=t=>`privy:${t}:recent-login-chain-type`;const $h=()=>E.useContext(ese),tse=()=>{var i;let{app:t}=De(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,r=`${t==null?void 0:t.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?Oe.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},htt=t=>{let{app:e}=De();return e!=null&&e.appearance.logo?d.jsx(ftt,{...t,children:d.jsx(tse,{})}):null},ftt=q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),ptt=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),gtt=({appId:t})=>{let[e,r]=E.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=Ut(),{client:s}=Ne();return E.useEffect(()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(Kr,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(ptt,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(Sh,{})})};let mtt=q.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const nm=({size:t="md",variant:e="navigation",disabled:r=!1,as:n,children:i,onClick:s,...o})=>d.jsx(mtt,{as:n,$size:t,$variant:e,$disabled:r,onClick:a=>{r?a.preventDefault():s==null||s(a)},...o,children:i}),zP=(t,e)=>!ql(t)&&(e==="all-users"||e==="users-without-wallets"&&!ytt(t).length);let ytt=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const WP=(t,e)=>!dp(t)&&(e==="all-users"||e==="users-without-wallets"&&!wtt(t).length);let wtt=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const Ih=(t,e)=>zP(t,e.ethereum.createOnLogin)||WP(t,e.solana.createOnLogin),vtt=({title:t="Account not found",subtitle:e,appName:r="this app",ctaText:n="Try logging in again",onRetry:i})=>d.jsx(Gt,{title:t,subtitle:e||`Please try logging in again or go to ${r} to create an account.`,icon:XIe,iconVariant:"warning",primaryCta:{label:n,onClick:i},watermark:!0}),y2={component:()=>{let{navigate:t,app:e,setModalData:r,data:n}=De(),{getAuthMeta:i,client:s}=Ne();return d.jsx(vtt,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();r({...n,login:{...n==null?void 0:n.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Qi)}})}},btt=q.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function xtt(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let SB="0x0000000000000000000000000000000000000000";const ug=({originCurrency:t,destinationCurrency:e,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??SB,destinationCurrency:e??SB,...r});let rse="https://api.relay.link",nse="https://api.testnets.relay.link";const pv=async({input:t,isTestnet:e})=>{let r=await fetch((e?nse:rse)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},A6=t=>{var r,n;let e=(n=(r=t.steps[0])==null?void 0:r.items)==null?void 0:n[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function HP({transactionHash:t,wallet:e,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:s,onFailure:o}){E.useEffect(()=>{if(t&&e&&n){if(["delayed","waiting","pending"].includes(n)){let a=setInterval(async()=>{try{let l=await async function({transactionHash:c,isTestnet:u}){var p;let h=await fetch((u?nse:rse)+"/requests/v2?hash="+c),f=await h.json();if(!h.ok)throw"message"in f&&typeof f.message=="string"?Error(f.message):Error("Error fetching request from relay");return((p=f.requests.at(0))==null?void 0:p.status)??"pending"}({transactionHash:t,isTestnet:r});i(l)}catch(l){console.error(l)}},1e3);return()=>clearInterval(a)}n==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(n)&&o({error:new ise(t,r)})}},[n,t,r,e])}class ise extends J{constructor(e,r){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,ee.TRANSACTION_FAILURE),this.relayLink=r?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const w2=({error:t,allowlistConfig:e,onRetry:r,onCaptchaReset:n,onBack:i})=>{let s=((o,a)=>{if(o instanceof ise)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx(Ett,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:eo};if(o instanceof J)switch(o.privyErrorCode){case ee.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:eo};case ee.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:eo};case ee.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:eo};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:eo}}else{if(o instanceof Yr&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:nTe};if(!(o instanceof Ki))return o instanceof ho&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:eo}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:eo};switch(o.privyErrorCode){case ee.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:eo};case ee.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:eo};case ee.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:xT};case ee.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case ee.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case ee.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:eo};case ee.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:eo};case ee.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:eo};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:eo}}}})(t,e);return d.jsx(Gt,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Ki&&(t.privyErrorCode===ee.INVALID_CAPTCHA&&(n==null||n()),t.privyErrorCode===ee.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:r==null||r()},variant:"error"},watermark:!0})},qr={component:()=>{var a,l;let{navigate:t,data:e,lastScreen:r,currentScreen:n,app:i}=De(),{reset:s}=Xs(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(r===n?void 0:r);return d.jsx(w2,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Qi,!1)},onCaptchaReset:s})}};let Ett=q.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const sse=({onTransfer:t,isTransferring:e,transferSuccess:r})=>d.jsx(fr,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),ose=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),eS=q.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),ase=q.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),_tt=q(oP).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),Ctt=q(WYe).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),Att=q.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),$B=q.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),ktt=q.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let Stt=()=>d.jsx(ktt,{children:d.jsx(_tt,{$iconSize:60})});const $tt=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=rr(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:e,backFn:r}),d.jsxs(ose,{children:[d.jsx(Stt,{}),d.jsxs(eS,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(Att,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx($B,{children:"Log out and log back into the other account, or "}),d.jsxs($B,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(ase,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(Wx,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Dt,{address:t,showCopyIcon:!1}),d.jsx(Ctt,{})]}),d.jsx(sse,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),d.jsx(Jt,{})]})},kp={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Ne(),{data:r,navigate:n,lastScreen:i,setModalData:s}=De(),[o,a]=E.useState(void 0),[l,c]=E.useState(!1),[u,h]=E.useState(!1),f=async()=>{var p,g,m,w,y,b,v,C,x,I;try{if(!((p=r==null?void 0:r.accountTransfer)!=null&&p.nonce)||!((g=r==null?void 0:r.accountTransfer)!=null&&g.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(m=r==null?void 0:r.accountTransfer)==null?void 0:m.nonce,account:(w=r==null?void 0:r.accountTransfer)==null?void 0:w.account,accountType:(y=r==null?void 0:r.accountTransfer)==null?void 0:y.linkMethod,externalWalletMetadata:(b=r==null?void 0:r.accountTransfer)==null?void 0:b.externalWalletMetadata,telegramWebAppData:(v=r==null?void 0:r.accountTransfer)==null?void 0:v.telegramWebAppData,telegramAuthResult:(C=r==null?void 0:r.accountTransfer)==null?void 0:C.telegramAuthResult,farcasterEmbeddedAddress:(x=r==null?void 0:r.accountTransfer)==null?void 0:x.farcasterEmbeddedAddress,oAuthUserInfo:(I=r==null?void 0:r.accountTransfer)==null?void 0:I.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch($){s({errorModalData:{error:$,previousScreen:i||kp}}),n(qr,!0)}};return o?d.jsx($tt,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(Itt,{onClose:e,onInfo:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:f,isTransferring:u,transferSuccess:l,data:r})}},Itt=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,h,f,p,g;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(h=o==null?void 0:o.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(f=o==null?void 0:o.accountTransfer)!=null&&f.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{closeable:!0}),d.jsxs(ose,{children:[d.jsx(OP,{children:d.jsxs("div",{children:[d.jsx(btt,{color:"var(--privy-color-error)"}),d.jsx(fp,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(eS,{children:[d.jsxs("h3",{children:[function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${$ne(m.replace("_oauth",""))} profile`;default:return m.startsWith("privy:")?"Cross-app account":m}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(Ttt,{onClick:r,disclosedAccount:a.disclosedAccount})]}),d.jsxs(eS,{style:{gap:12,marginTop:12},children:[(g=o==null?void 0:o.accountTransfer)!=null&&g.embeddedWalletAddress?d.jsx(fr,{onClick:e,children:"Continue"}):d.jsx(sse,{onTransfer:n,transferSuccess:i,isTransferring:s}),d.jsx(gl,{onClick:t,children:"No thanks"})]})]}),d.jsx(Jt,{})]})};function Ttt({disclosedAccount:t,onClick:e}){return t?d.jsxs(ase,{onClick:e,children:[d.jsx(Wx,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Dt,{address:t.handle,showCopyIcon:!1}),d.jsx(xtt,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const Ptt=({errorMessage:t,onClose:e})=>d.jsx(Gt,t?{title:"Something went wrong",subtitle:t,icon:bx,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),Fu={component:()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=De(),[s,o]=E.useState(""),{embeddedWallets:a}=rr(),{authenticated:l,user:c}=Ut(),{closePrivyModal:u,walletProxy:h,client:f}=Ne(),{onSuccess:p,onFailure:g,callAuthOnSuccessOnClose:m,shouldCreateEth:w,shouldCreateSol:y}=n.createWallet,b=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[v,C]=E.useState(null),{create:x}=LP(),I=w??(!!c&&zP(c,t.embeddedWallets.ethereum.createOnLogin)),$=y??(!!c&&WP(c,t.embeddedWallets.solana.createOnLogin)),R=new us(async()=>{let T=await f.getAccessToken();if(c&&T&&h)try{let L;if(I&&$)L=await x({chainType:"ethereum",walletIndex:0,latestUser:c}),L=await x({chainType:"solana",walletIndex:0,latestUser:L.user});else if($)L=await x({chainType:"solana",walletIndex:0,latestUser:c});else{if(!I)return void u({shouldCallAuthOnSuccess:m});L=await x({chainType:"ethereum",walletIndex:0,latestUser:c})}C(L),r(FP)}catch(L){o(L.message)}});return E.useEffect(()=>l&&c?b?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:I,shouldCreateSol:$},recoverySelection:{...n==null?void 0:n.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:I,shouldCreateSol:$}}),r(Lse({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(r(Qi),void g(Error("User must be authenticated before creating a Privy wallet"))),[b,l]),i.current=()=>null,d.jsx(Ptt,{errorMessage:s||void 0,onClose:()=>{v?(p(v),u({shouldCallAuthOnSuccess:m})):(g(new Zd("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},Sp={component:()=>{let{user:t,logout:e}=Ut(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=De(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=Ne(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return n.current=c,d.jsx(Ntt,{termsAndConditionsUrl:r==null?void 0:r.legal.termsAndConditionsUrl,privacyPolicyUrl:r==null?void 0:r.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&Ih(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Fu)):a()},onDecline:c})}},Ntt=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Gt,{title:i,subtitle:s,icon:rTe,primaryCta:{label:"Accept",onClick:r},secondaryCta:{label:"No thanks",onClick:n},watermark:!0,children:(t||e)&&d.jsxs(Ott,{children:[t&&d.jsxs(Xf,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx(SA,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(Xf,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx(SA,{width:16,height:16,strokeWidth:2.25})]})]})});let Ott=q.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const lse=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let Mtt=q.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),Rtt=q.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),jtt=q(eQe).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),Dtt=q(lse).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Ltt({children:t,iconOnly:e,value:r,hideCopyIcon:n,...i}){let[s,o]=E.useState(!1);return d.jsxs(Mtt,{...i,onClick:()=>{navigator.clipboard.writeText(r||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?d.jsxs(Rtt,{children:[d.jsx(jtt,{})," ",!e&&"Copied"]}):!n&&d.jsx(Dtt,{})]})}const Ftt=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let P_=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let o=r;o<r+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},Utt=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`))}),Btt=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(Utt,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`))}),ztt=({matrix:t,cellSize:e,color:r})=>d.jsx(d.Fragment,{children:t.map((n,i)=>n.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${o}`):d.jsx(Oe.Fragment,{},`circle-${i}-${o}`)))}),Wtt=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return d.jsx(d.Fragment,{});let s=e*(n||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(r,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},Htt=t=>{var s;let e=t.outputSize,r=((o,a)=>{let l=h2.create(o,{errorCorrectionLevel:a}).modules,c=((u,h)=>{let f=u.slice(0),p=[];for(;f.length;)p.push(f.splice(0,h));return p})(Array.from(l.data),l.size);return c=P_(c,0,0,7,7),c=P_(c,c.length-7,0,7,7),P_(c,0,c.length-7,7,7)})(t.url,t.errorCorrectionLevel),n=e/r.length,i=function(o,{min:a,max:l}){return Math.min(Math.max(o,a),l)}(2*n,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(ztt,{matrix:r,cellSize:n,color:t.fgColor}),d.jsx(Btt,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(Wtt,{cellSize:n,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:r.length})]})},qtt=q.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const v2=t=>{let{appearance:e}=rr(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return d.jsx(qtt,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:d.jsx(Htt,{url:t.url,logo:{element:t.squareLogoElement??Ftt},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Pu=q.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let cse=q.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const use=q(cse).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),Vtt=q(cse).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),dse=q.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Pu),hse=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),L0={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:zk,md:zk}}};class fo{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(r=>r.startsWith("eip155:"))}isSol(e){return e.chains.some(r=>r.startsWith("solana:"))}inAllowList(e,r){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||r==="listing"&&this.includeWalletConnect)return!0;let n=fo.normalize(e);return this.normalizedAllowList.some(i=>n===fo.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,r){var l;let n=new Map,i=c=>{let u=n.get(c.id);if(u){u.chainType!==c.chainType&&(u.chainType="multi");let h=new Set(u.chains);c.chains.forEach(f=>h.add(f)),u.chains=Array.from(h),!u.icon&&c.icon&&(u.icon=c.icon),!u.url&&c.url&&(u.url=c.url),!u.listing&&c.listing&&(u.listing=c.listing)}else n.set(c.id,c)};e.filter(c=>this.connectorOk(c)).forEach(c=>{var h,f;let u=fo.normalize(c.walletClientType);i({id:u,label:((h=c.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:c,chainType:c.chainType,icon:(f=c.walletBranding)==null?void 0:f.icon,url:void 0,chains:[c.chainType==="ethereum"?"eip155":"solana"]})}),r.filter(c=>this.listingOk(c)).forEach(c=>{var m,w;let u=this.isEth(c),h=this.isSol(c),f=fo.normalize(c.slug),p=L0[c.slug],g=((m=p==null?void 0:p.image_url)==null?void 0:m.sm)||((w=c.image_url)==null?void 0:w.sm);i({id:f,label:c.name||f,source:"listing",listing:c,chainType:u&&h?"multi":u?"ethereum":"solana",icon:g,url:c.homepage,chains:c.chains})});let s=e.find(c=>c.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:sie,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(n.values());o.forEach(c=>{var h,f;let u=L0[((h=c.listing)==null?void 0:h.slug)||c.id];(f=u==null?void 0:u.image_url)!=null&&f.sm&&(c.icon=u.image_url.sm)});let a=new Map;return(l=this.normalizedAllowList)==null||l.forEach((c,u)=>{a.set(fo.normalize(c),u)}),{wallets:o.slice().sort((c,u)=>{let h=fo.normalize(c.id),f=fo.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom");let p=a.has(h),g=a.has(f);return p&&g?a.get(h)-a.get(f):p?-1:g?1:c.source==="connector"&&u.source==="listing"?-1:c.source==="listing"&&u.source==="connector"?1:c.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,r){var n,i,s,o,a;this.chainFilter=e,r&&r.length>0&&(this.normalizedAllowList=r.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=((n=this.normalizedAllowList)==null?void 0:n.includes("detected_wallets"))??!1,this.detectedEth=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((s=this.normalizedAllowList)==null?void 0:s.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var tS=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),rS=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const Gtt=q.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),Ly=q.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),Ktt=q.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),Ytt=Cm(()=>({isModalOpen:!1,resolvers:null}));Cm(()=>({}));const Qtt=({address:t,client:e,appId:r})=>{let n=`${e}:${t}`;r&&ot.put(Ztt(r),n),Ytt.setState({wallet:n})},Ztt=t=>`privy:${t}:active-wallet-connection`;function fse({walletList:t,walletChainType:e}){var m;let r=rr(),{connectors:n}=Ne(),i=p2(w=>w.listings),s=e??r.appearance.walletChainType,o=t??((m=r.appearance)==null?void 0:m.walletList),a=E.useMemo(()=>new fo(s,o),[s,o]),{wallets:l,walletCount:c}=E.useMemo(()=>a.getWallets(n,i),[a,n,i]),[u,h]=E.useState(""),f=E.useMemo(()=>u?l.filter(w=>w.label.toLowerCase().includes(u.toLowerCase())):l,[u,l]),[p,g]=E.useState();return{selected:p,setSelected:g,search:u,setSearch:h,wallets:f,walletCount:c}}let pse=t=>!t||typeof t!="string"&&(t instanceof bP||t instanceof _P);const nS=({index:t,style:e,data:r,recent:n})=>{var l,c;let i=r.wallets[t],{walletChainType:s,handleWalletClick:o}=r,a={...e,boxSizing:"border-box"};return i?d.jsxs(D3,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!pse(i.connector)?d.jsx(Gtt,{children:typeof i.icon=="string"?d.jsx(Ly,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(Ly,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(L3,{children:i.label}),n?d.jsxs(d.Fragment,{children:[d.jsx(Ktt,{children:"Last used"}),d.jsx(k6,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(tS,{}),s==="solana-only"&&d.jsx(rS,{})]})})]}):d.jsx(k6,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[((l=i.chains)==null?void 0:l.some(u=>u.startsWith("eip155")))&&d.jsx(tS,{}),((c=i.chains)==null?void 0:c.some(u=>u.startsWith("solana")))&&d.jsx(rS,{})]})})]}):null};var gse=({className:t,suggestedAddress:e,customDescription:r,connectOnly:n,preSelectedWalletId:i,...s})=>{var P;let o=rr(),{connectors:a}=Ne(),l=s.walletChainType||o.appearance.walletChainType,c=s.walletList||((P=o.appearance)==null?void 0:P.walletList),{onBack:u,onClose:h,app:f}=s,{selected:p,setSelected:g,qrUrl:m,setQrUrl:w,connecting:y,uiState:b,wallets:v,walletCount:C,handleConnect:x,handleBack:I,showSearchBar:$,isInitialConnectView:R,title:T,search:L,setSearch:U}=function({onConnect:N,onBack:D,onClose:F,onConnectError:k,walletList:z,walletChainType:V,app:j}){let G=rr(),{connectors:Q}=Ne(),{wallets:K,walletCount:re,search:le,setSearch:ne,selected:ae,setSelected:ye}=fse({walletList:z,walletChainType:V}),[de,he]=E.useState(),[Xe,ie]=E.useState(),[xe,be]=E.useState(),se=!ae&&!Xe&&!xe,we=se&&(re>6||le.length>0),vt=Q.find(tt=>tt.connectorType==="wallet_connect_v2"),ce=E.useCallback(async(tt,Qe)=>{var $t,ht;if(tt){if((xe==null?void 0:xe.connector)===tt)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(he("loading"),typeof tt=="string")return be({connector:tt,name:(Qe==null?void 0:Qe.name)??"Wallet",icon:Qe==null?void 0:Qe.icon}),void window.open(tt,"_blank");be({connector:tt,name:(Qe==null?void 0:Qe.name)??tt.walletBranding.name??"Wallet",icon:(Qe==null?void 0:Qe.icon)??tt.walletBranding.icon});try{let it=await tt.connect({showPrompt:!0});if(!it)return he("error"),void(k==null?void 0:k(new kr("Unable to connect wallet")));he("success"),Qtt({address:it.address,client:it.walletClientType,appId:G.id}),setTimeout(()=>{N({connector:tt,wallet:it})},Hr)}catch(it){if(console.error("ERROR: ",{e:it}),(($t=it==null?void 0:it.message)==null?void 0:$t.includes("already pending for origin"))||((ht=it==null?void 0:it.message)==null?void 0:ht.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");he("error"),k==null||k(new kr("Unable to connect wallet"))}}},[G.id,N,xe]),Ie=E.useCallback(()=>Xe?(he(void 0),be(void 0),void ie(void 0)):xe?(he(void 0),void be(void 0)):ae?(he(void 0),be(void 0),void ye(void 0)):de==="error"||de==="loading"?(he(void 0),void be(void 0)):void(D==null?void 0:D()),[Xe,xe,ae,de,D]),Fe=E.useMemo(()=>(xe==null?void 0:xe.connector)===vt&&Xe&&Tr?`Go to ${xe.name} to continue`:(xe==null?void 0:xe.connector)===vt&&Xe?`Scan code to connect to ${xe.name}`:typeof(xe==null?void 0:xe.connector)=="string"?`Open or install ${xe.name}`:ae&&!xe?"Select network":xe?null:"Select your wallet",[xe,Xe,ae,vt]);return{selected:ae,setSelected:ye,qrUrl:Xe,setQrUrl:ie,connecting:xe,uiState:de,search:le,setSearch:ne,wallets:K,walletCount:re,wc:vt,isInitialConnectView:se,showSearchBar:we,title:Fe,handleConnect:ce,handleBack:Ie,onClose:F,onConnect:N,app:j}}({...s,walletList:c,walletChainType:l}),W=a.find(N=>N.connectorType==="wallet_connect_v2"),M=E.useRef(null),A=dke({count:v.length,getScrollElement:()=>M.current,estimateSize:()=>56,overscan:6,gap:5}),_=E.useCallback(async N=>{var V,j,G,Q,K,re,le;let D,F=l!=="solana-only"&&((V=N.chains)==null?void 0:V.some(ne=>ne.startsWith("eip155"))),k=l!=="ethereum-only"&&((j=N.chains)==null?void 0:j.some(ne=>ne.startsWith("solana"))),z=EP[N.id];if(k&&z)D=z.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let ne=(Q=(G=N.listing)==null?void 0:G.mobile)==null?void 0:Q.native;D=((re=(K=N.listing)==null?void 0:K.mobile)==null?void 0:re.universal)||ne||N.url}if(F&&k){let ne=fo.normalize(N.id),ae=a.filter(he=>fo.normalize(he.walletClientType)===ne&&!(he.chainType==="ethereum"&&he instanceof bP||he.chainType==="solana"&&he instanceof _P)),ye=ae.find(he=>he.chainType==="ethereum"),de=ae.find(he=>he.chainType==="solana");if(!ye&&N.listing){let he=L0[N.listing.slug]?{...N.listing,...L0[N.listing.slug]}:N.listing;W.setWalletEntry(he,w),await W.resetConnection(N.id),ye=W}if(!de&&D&&(de=D),ye||de)return void g({eth:ye,sol:de,name:N.label,icon:N.icon})}if(!pse(N.connector))return((le=N.connector)==null?void 0:le.connectorType)==="wallet_connect_v2"&&(await W.resetConnection(N.id),W.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},w)),void await x(N.connector,{name:N.label,icon:N.icon});if(F||k||N.url||N.listing){if(F&&N.listing){let ne=L0[N.listing.slug]?{...N.listing,...L0[N.listing.slug]}:N.listing;W.setWalletEntry(ne,w),await W.resetConnection(N.id)}if(F&&k)return void g({eth:W,sol:D,name:N.label,icon:N.icon});if(k)return void await x(D,{name:N.label,icon:N.icon});if(F)return void(N.listing?await x(W,{name:N.label,icon:N.icon}):N.url?await x(N.url,{name:N.label,icon:N.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",N.label));if(N.url)return void await x(N.url,{name:N.label,icon:N.icon})}},[W,x,g,w,I,h,f,R,T,r,e,o,a]),S=u||I,O=!!u||!R;return E.useEffect(()=>{if(!i)return;let N=v.find(({id:D})=>D===i);N&&_(N).catch(console.error)},[i]),d.jsxs(wr,{className:t,children:[d.jsx(wr.Header,{icon:y&&!m||m&&Tr&&(y!=null&&y.icon)?y.icon:y?void 0:hse,iconVariant:y&&!m||m&&Tr?"loading":void 0,iconLoadingStatus:y&&!m||m&&Tr?{success:b==="success",fail:b==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Tr?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:T,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?b==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":R?r??(e?d.jsxs("span",{children:["Connect the wallet with address ",d.jsx(Dt,{address:e})," ",f!=null&&f.name?`to ${f.name}.`:"."]}):f?`Connect a wallet to your ${f.name} account`:null):null,showBack:O,showClose:!0,onBack:S,onClose:h}),d.jsxs(wr.Body,{ref:M,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[$&&d.jsx(Jtt,{children:d.jsxs(use,{style:{background:"transparent"},children:[d.jsx(dc,{children:d.jsx(_Qe,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:N=>U(N.target.value),value:L})]})}),m&&Tr&&b==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(Xf,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Tr&&b==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(trt,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Tr&&d.jsx(v2,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?N=>d.jsx("svg",{...N,children:d.jsx("image",{href:y.icon,height:N.height,width:N.width})}):y.icon:sJe}),d.jsxs(Xtt,{children:[y&&!m&&typeof y.connector=="string"&&d.jsxs(D3,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?d.jsx(Ly,{src:y.icon}):d.jsx(y.icon,{})),d.jsx(L3,{children:y.name})]}),(p==null?void 0:p.eth)&&!y&&d.jsxs(D3,{onClick:()=>x(p.eth,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(Ly,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(L3,{children:p.name}),d.jsx(k6,{children:d.jsx(tS,{})})]}),(p==null?void 0:p.sol)&&!y&&d.jsxs(D3,{onClick:()=>x(p.sol,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(Ly,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(L3,{children:p.name}),d.jsx(k6,{children:d.jsx(rS,{})})]}),R&&d.jsxs(d.Fragment,{children:[!(C>0)&&d.jsx(ert,{children:"No wallets found. Try another search."}),C>0&&!m&&d.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${A.getTotalSize()}px`,width:"100%",position:"relative"},children:A.getVirtualItems().map(N=>d.jsx(nS,{index:N.index,style:{position:"absolute",top:0,left:0,height:`${N.size}px`,transform:`translateY(${N.start}px)`},data:{wallets:v,walletChainType:l,handleWalletClick:_}},N.key))})})]})]})]}),d.jsxs(wr.Footer,{children:[y&&!m&&typeof y.connector!="string"&&b==="error"&&d.jsx(wr.Actions,{children:d.jsx(Xf,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>x(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(f&&f.legal.privacyPolicyUrl&&f.legal.termsAndConditionsUrl)&&d.jsx(AP,{app:f,alwaysShowImplicitConsent:!0}),d.jsx(wr.Watermark,{})]})]})};let Jtt=q.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),Xtt=q.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),D3=q.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),k6=q.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),ert=q.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),L3=q.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),trt=q(Ltt).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const rrt=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),IB=t=>{var r;let e=(r=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:r.split(" ").filter(n=>qi(n,{strict:!0})).map(n=>Ur(n));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(n=>n.type=="wallet"&&e.includes(n.address)).length)};let mse=E.createContext({plugins:{current:{}}});const nrt=({children:t})=>{let e=E.useRef({});return d.jsx(mse.Provider,{value:{plugins:e},children:t})},Um=()=>{let{plugins:t}=E.useContext(mse);return E.useCallback(e=>t.current[e],[t])},yse=Symbol("solana-ledger-plugin"),irt=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:r="Try another account",ctaLink:n,onCtaClick:i})=>d.jsx(Gt,{title:t,subtitle:e,icon:xT,iconVariant:"warning",primaryCta:{label:r,onClick:()=>{n?window.open(n,"_blank"):i==null||i()}},watermark:!0}),h8={component:()=>{let{navigate:t,app:e}=De(),r=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",n=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return d.jsx(irt,{title:r,subtitle:n,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Qi)}})}},srt=({status:t,title:e,description:r,userIntentRequired:n,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=E.useMemo(()=>{switch(t){case"loading":default:return;case"success":return n?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),c=E.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return d.jsx(Gt,{icon:t==="loading"||t==="ready"?void 0:t==="success"?e2:bx,iconVariant:c,title:e,subtitle:r,primaryCta:l,watermark:!0})},ml={component:()=>{let{lastScreen:t,data:e,navigate:r,setModalData:n}=De(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=Xs(),c=E.useRef([]),u=$=>{c.current=[$,...c.current]},[h,f]=E.useState(!0);E.useEffect(()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach($=>clearTimeout($)),c.current=[]}),[]);let[p,g]=E.useState(""),[m,w]=E.useState("Checking that you are a human..."),[y,b]=E.useState(!1),[v,C]=E.useState(3),x=e==null?void 0:e.captchaModalData,I=async $=>{try{await(x==null?void 0:x.callback($)),x!=null&&x.onSuccessNavigateTo&&r(x==null?void 0:x.onSuccessNavigateTo,!1)}catch(R){if(R instanceof Zx)return;n({errorModalData:{error:R,previousScreen:t||Qi}}),r((x==null?void 0:x.onErrorNavigateTo)||qr,!1)}};return E.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let $=await o();!$||x!=null&&x.userIntentRequired||I($)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&l()},500))},[i]),E.useEffect(()=>{if(!h)switch(i){case"success":g("Success!"),w("CAPTCHA passed successfully."),x!=null&&x.userIntentRequired||setTimeout(()=>{b(!0),I(s)},2e3);break;case"loading":g(""),w("Checking that you are a human...");break;case"error":g("Something went wrong"),w(v<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,h,y]),d.jsx(srt,{status:i,title:p,description:m,userIntentRequired:x==null?void 0:x.userIntentRequired,retriesRemaining:v,hasSelectedCta:y,onContinue:()=>{b(!0),I(s)},onRetry:async()=>{if(v<=0)return;C(R=>R-1),a(),l();let $=await o();!$||x!=null&&x.userIntentRequired||I($)}})}},ort=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),art=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:r="Phantom supports Ledger",subtitle:n=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Gt,{title:r,subtitle:d.jsx(urt,{children:n}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(crt,{children:[d.jsx(Zne,{style:{width:"48px",height:"48px"}}),d.jsx(ZIe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(ort,{style:{width:"48px",height:"48px"}})]})}),lrt={component:function(){let{data:t,setModalData:e,navigate:r}=De();return d.jsx(art,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),r(pu)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),r(pu)}})}};let crt=q.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),urt=q.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const drt=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),hrt=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:r})=>d.jsx(Gt,{title:t,subtitle:e,icon:drt,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:r},showBack:!0,onBack:r,watermark:!0}),b2={component:()=>{let{navigate:t}=De();return d.jsx(hrt,{onGoBack:()=>{t(Qi)}})}},wse=t=>(t==null?void 0:t.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER?kd.ERROR_USER_EXISTS:t instanceof ji&&!t.details.default?t.details:t instanceof Gne?kd.ERROR_TIMED_OUT:t instanceof Kne?kd.ERROR_USER_REJECTED_CONNECTION:(t==null?void 0:t.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE?kd.ERROR_USER_LIMIT_REACHED:kd.ERROR_WALLET_CONNECTION,frt=({walletLogo:t,title:e,subtitle:r,signSuccess:n,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:g,onRetry:m,onCoinbaseReset:w,onDifferentWallet:y})=>{let b=h?{label:"Use a different wallet",onClick:w,disabled:n}:i===kd.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:y}:s&&!n&&o?{label:a?"Signing":"Sign with your wallet",onClick:g,disabled:a}:!n&&(i!=null&&i.retryable)&&f<2?{label:"Retry",onClick:m,disabled:!1}:n||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Gt,{title:e,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:b,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(prt,{children:["Still here?"," ",d.jsx(nm,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(nm,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},pu={component:()=>{var Xe,ie,xe,be,se,we,vt,ce,Ie,Fe,tt,Qe,$t,ht,it;let t,[e,r]=E.useState(!1),[n,i]=E.useState(!1),[s,o]=E.useState(void 0),{authenticated:a,logout:l}=Ut(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:g,data:m}=De(),{getAuthFlow:w,walletConnectionStatus:y,closePrivyModal:b,initLoginWithWallet:v,loginWithWallet:C,updateWallets:x,createAnalyticsEvent:I}=Ne(),{walletConnectors:$}=Ut(),[R,T]=E.useState(0),{user:L}=Ut(),U=Um(),[W]=E.useState((L==null?void 0:L.linkedAccounts.length)||0),[M,A]=E.useState(""),[_,S]=E.useState(""),[O,P]=E.useState(!1),{hasTabbedAway:N}=function(){let[ke,Te]=E.useState(!1),fe=E.useCallback(()=>{document.hidden&&Te(!0)},[]);return E.useEffect(()=>(document.addEventListener("visibilitychange",fe),()=>document.removeEventListener("visibilitychange",fe)),[fe]),{hasTabbedAway:ke,reset:()=>Te(!1)}}(),{enabled:D,token:F}=Xs(),k=Du(((Xe=y==null?void 0:y.connector)==null?void 0:Xe.walletClientType)||"unknown"),z=Tr&&((ie=y==null?void 0:y.connector)==null?void 0:ie.connectorType)==="wallet_connect_v2"||Tr&&((xe=y==null?void 0:y.connector)==null?void 0:xe.connectorType)==="coinbase_wallet"||Tr&&((be=y==null?void 0:y.connector)==null?void 0:be.connectorType)==="base_account"||Tr&&((se=y==null?void 0:y.connector)==null?void 0:se.connectorType)==="injected"&&((we=y==null?void 0:y.connector)==null?void 0:we.walletClientType)==="phantom"||Tr&&((vt=y==null?void 0:y.connector)==null?void 0:vt.connectorType)==="solana_adapter"&&y.connector.walletClientType==="mobile_wallet_adapter",V=(y==null?void 0:y.status)==="connected",j=(y==null?void 0:y.status)==="switching_to_supported_chain";E.useEffect(()=>{var fe,Ve,st,Ke,at,Pe;let ke=w(),Te=ke instanceof ag||ke instanceof m6?ke:void 0;V&&((fe=y.connector)==null?void 0:fe.chainType)==="solana"&&((Ve=y.connector)==null?void 0:Ve.walletClientType)==="phantom"&&U(yse)&&((st=m==null?void 0:m.login)==null?void 0:st.isSigningInWithLedgerSolana)===void 0?u(lrt,!1):(V&&!Te&&(!D||F||a?v(y.connectedWallet,F,(Ke=m==null?void 0:m.login)==null?void 0:Ke.disableSignup,(at=m==null?void 0:m.login)!=null&&at.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{P(!0)}):(g({captchaModalData:{callback:dt=>{var Et,bt;return v(y.connectedWallet,dt,(Et=m==null?void 0:m.login)==null?void 0:Et.disableSignup,(bt=m==null?void 0:m.login)!=null&&bt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{P(!0)})},userIntentRequired:!1,onSuccessNavigateTo:pu,onErrorNavigateTo:qr}}),u(ml,!1))),Te instanceof m6&&((Pe=m==null?void 0:m.login)!=null&&Pe.isSigningInWithLedgerSolana)&&(Te.messageType="transaction"),Te&&z&&V&&!Te.preparedMessage?Te.buildMessage():Te&&!z&&V&&(n||(async()=>{var dt,Et;i(!0),o(void 0);try{((dt=y==null?void 0:y.connector)==null?void 0:dt.connectorType)==="wallet_connect_v2"&&((Et=y==null?void 0:y.connector)==null?void 0:Et.walletClientType)==="metamask"&&await y6(2500),await Q()}catch(bt){console.warn("Auto-prompted signature failed",bt)}finally{i(!1)}})()))},[R,V,O]),E.useEffect(()=>{if(L&&e){let ke=900;if(c!=null&&c.legal.requireUsersAcceptTerms&&!L.hasAcceptedTerms){let fe=setTimeout(()=>{u(Sp)},ke);return()=>clearTimeout(fe)}if(Ih(L,c.embeddedWallets)){let fe=setTimeout(()=>{g({createWallet:{onSuccess:()=>{},onFailure:Ve=>{console.error(Ve),I({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Ve,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(Fu)},ke);return()=>clearTimeout(fe)}x();let Te=setTimeout(()=>b({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(Te)}},[L,e]);let G=ke=>{var Te,fe,Ve,st,Ke,at,Pe,dt,Et,bt,Be,Sr,Ge,Bt;if((ke==null?void 0:ke.privyErrorCode)!==ee.ALLOWLIST_REJECTED){if((ke==null?void 0:ke.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new qv(ke).toString()),void u(b2);if((ke==null?void 0:ke.privyErrorCode)!==ee.USER_DOES_NOT_EXIST)return(ke==null?void 0:ke.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((fe=(Te=ke.data)==null?void 0:Te.data)!=null&&fe.nonce)?(g({accountTransfer:{nonce:(st=(Ve=ke.data)==null?void 0:Ve.data)==null?void 0:st.nonce,account:(Ke=w())==null?void 0:Ke.meta.address,displayName:(dt=(Pe=(at=ke.data)==null?void 0:at.data)==null?void 0:Pe.account)==null?void 0:dt.displayName,externalWalletMetadata:{walletClientType:(Et=w())==null?void 0:Et.meta.walletClientType,chainId:(bt=w())==null?void 0:bt.meta.chainId,connectorType:(Be=w())==null?void 0:Be.meta.connectorType},linkMethod:w()instanceof ag?"siwe":"siws",embeddedWalletAddress:(Bt=(Ge=(Sr=ke.data)==null?void 0:Sr.data)==null?void 0:Ge.otherUser)==null?void 0:Bt.embeddedWalletAddress}}),void u(kp)):void o(wse(ke));u(y2)}else u(h8)};async function Q(){try{await C(),r(!0)}catch(ke){G(ke)}finally{i(!1)}}E.useEffect(()=>{y!=null&&y.connectError&&G(y==null?void 0:y.connectError)},[y]),((ke,Te)=>{let fe=E.useRef(()=>{});E.useEffect(()=>{fe.current=ke}),E.useEffect(()=>{if(Te!==null){let Ve=setInterval(()=>fe.current(),Te||0);return()=>clearInterval(Ve)}},[Te])})(()=>{let ke=K==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof cg?y.connector.redirectUri:void 0;ke&&A(ke);let Te=K==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof cg?y.connector.fallbackUniversalRedirectUri:void 0;Te&&S(Te)},(y==null?void 0:y.connector)instanceof cg&&!M?500:null);let K=((ce=y==null?void 0:y.connector)==null?void 0:ce.connectorType)||"injected",re=((Ie=y==null?void 0:y.connector)==null?void 0:Ie.walletClientType)||"unknown",le=((Fe=k==null?void 0:k.metadata)==null?void 0:Fe.shortName)||(k==null?void 0:k.name)||((tt=y==null?void 0:y.connector)==null?void 0:tt.walletBranding.name)||"Browser Extension",ne=((Qe=k==null?void 0:k.image_url)==null?void 0:Qe.md)||(($t=y==null?void 0:y.connector)==null?void 0:$t.walletBranding.icon)||(ke=>d.jsx(xP,{...ke})),ae=le==="Browser Extension"?le.toLowerCase():le;t=e?`Successfully connected with ${ae}`:s?s.message:j?"Switching networks":V?n&&z?"Signing":"Sign to verify":`Waiting for ${ae}`;let ye="Dont see your wallet? Check your other browser windows.";e?ye=W===((L==null?void 0:L.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?ye="Unable to connect wallet":s?ye=s.detail:j?ye="Switch your wallet to the requested network.":V&&z?ye="Sign the message in your wallet to verify it belongs to you.":re==="metamask"&&Tr?ye="Click continue to open and connect MetaMask.":re==="metamask"?ye="For the best experience, connect only one wallet at a time.":K==="wallet_connect"?ye="Open your mobile wallet app to continue":K==="coinbase_wallet"?Bne()||(ye=IB(L)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(ht=m==null?void 0:m.login)!=null&&ht.isSigningInWithLedgerSolana&&(ye="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let de=(it=$==null?void 0:$.walletConnectors)==null?void 0:it.find(ke=>ke.walletClientType==="coinbase_wallet"),he=re==="coinbase_wallet"&&(IB(L)||s===kd.ERROR_USER_EXISTS);return d.jsx(frt,{walletLogo:ne,title:t,subtitle:ye,signSuccess:e,errorMessage:s,connectSuccess:V,separateConnectAndSign:z,signing:n,walletConnectRedirectUri:M,walletConnectFallbackUniversalUri:_,hasTabbedAway:N,showCoinbaseWalletResetCta:he,numRetries:R,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),Q()},onRetry:()=>{T(R+1),o(void 0),V?(i(!0),Q()):y==null||y.connectRetry()},onCoinbaseReset:()=>{de&&(de==null||de.disconnect())},onDifferentWallet:h})}};let prt=q.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const F3={component:()=>{var g,m,w,y,b,v,C;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:r}=Ne(),{app:n,data:i,navigate:s}=De(),o=Lu(),a=(g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.description,l=E.useRef((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.suggestedAddress).current,c=E.useRef(((w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.walletList)??n.appearance.walletList),u=E.useRef(((y=i==null?void 0:i.externalConnectWallet)==null?void 0:y.walletChainType)??n.appearance.walletChainType),h=c.current,f=u.current,p=r.current==="link"?void 0:()=>s(Qi);return d.jsx(gse,{walletList:h,walletChainType:f,onClose:e,onConnect:E.useCallback(({connector:x,wallet:I})=>{var $;o("connectWallet","onSuccess",{wallet:I}),t({status:"connected",connectedWallet:I,connector:x,connectError:null,connectRetry:()=>null}),s(pu,!(($=i==null?void 0:i.externalConnectWallet)!=null&&$.preSelectedWalletId))},[t,s,(b=i==null?void 0:i.login)==null?void 0:b.disableSignup,(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId]),onConnectError:x=>{x instanceof Ki?(console.warn(x.cause?x.cause:x.message),o("connectWallet","onError",x.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(x),o("connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:p,suggestedAddress:l,customDescription:a||"",preSelectedWalletId:(C=i==null?void 0:i.externalConnectWallet)==null?void 0:C.preSelectedWalletId,app:n})},isUnauthenticatedScreem:!0},iS={component:()=>{var l,c,u,h;let{closePrivyModal:t}=Ne(),{app:e,data:r}=De(),n=Lu(),i=(l=r==null?void 0:r.externalConnectWallet)==null?void 0:l.description,s=E.useRef((c=r==null?void 0:r.externalConnectWallet)==null?void 0:c.suggestedAddress).current,o=E.useRef(((u=r==null?void 0:r.externalConnectWallet)==null?void 0:u.walletList)??e.appearance.walletList),a=E.useRef(((h=r==null?void 0:r.externalConnectWallet)==null?void 0:h.walletChainType)??e.appearance.walletChainType);return d.jsx(gse,{walletList:o.current,walletChainType:a.current,onClose:()=>{n("connectWallet","onError",ee.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:f})=>{n("connectWallet","onSuccess",{wallet:f}),t()},onConnectError:f=>{f instanceof Ki?(console.warn(f.cause?f.cause:f.message),n("connectWallet","onError",f.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(f),n("connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},TB=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(AJe,{$withPadding:e,children:d.jsxs(kJe,{children:[d.jsx(rg,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")};let grt=sJ(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const f8=Un(["",""],t=>t.$isLoading?Un(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],grt):""),bc=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>d.jsx(mrt,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let mrt=q.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=sJ(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return Un(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&Un(["animation:"," 3s linear infinite;"],n))},f8);const Sf=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),vse=t=>{let[e,r]=E.useState(!1);return d.jsx(yrt,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:e,children:t.text})};let yrt=q.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const Ss=q.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let wrt=q.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),vrt=q.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),brt=q.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),bse=q.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),xrt=q(bse).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),Ert=q(Ss).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),_rt=q(gl).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const Crt=({value:t,title:e,placeholder:r,className:n,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=E.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let g=Math.ceil(p/2)-2,m=Math.floor(p/2)-1;return`${h.slice(0,g)}...${h.slice(-m)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return E.useEffect(()=>{if(l){let h=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(h)}},[l]),d.jsxs(wrt,{className:n,children:[e&&d.jsx(Ert,{children:e}),d.jsxs(vrt,{$disabled:a,children:[d.jsx(brt,{children:t?d.jsx(bse,{$disabled:a,title:t,children:u}):d.jsx(xrt,{$disabled:a,children:r||"No value"})}),i&&t&&d.jsx(_rt,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then(()=>c(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(Xw,{size:14})]}:{children:["Copy",d.jsx(Y5,{size:14})]})})]})]})},Art=({connectUri:t,loading:e,success:r,errorMessage:n,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Gt,Tr||e?E$?{title:n?n.message:"Sign in with Farcaster",subtitle:n?n.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:Sf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:n?n.message:"Signing in with Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Sf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:i,onClose:s,watermark:!0,children:t&&Tr&&d.jsx(krt,{children:d.jsx(vse,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(Srt,{children:[d.jsx($rt,{children:t?d.jsx(v2,{url:t,size:275,squareLogoElement:Sf}):d.jsx(Prt,{children:d.jsx(ya,{})})}),d.jsxs(Irt,{children:[d.jsx(Trt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(Crt,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),sS={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Ut(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=De(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=Ne(),[p,g]=E.useState(void 0),[m,w]=E.useState(!1),[y,b]=E.useState(!1),v=E.useRef([]),C=c(),x=C==null?void 0:C.meta.connectUri;return E.useEffect(()=>{let I=Date.now(),$=setInterval(async()=>{var L,U,W,M,A,_,S,O,P,N,D,F,k,z,V;let R=await C.pollForReady.execute(),T=Date.now()-I;if(R){clearInterval($),w(!0);try{await u(),b(!0)}catch(j){let G={retryable:!1,message:"Authentication failed"};if((j==null?void 0:j.privyErrorCode)===ee.ALLOWLIST_REJECTED)return void s(h8);if((j==null?void 0:j.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new qv(j).toString()),void s(b2);if((j==null?void 0:j.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return void s(y2);if((j==null?void 0:j.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER)G.detail=j.message??"This account has already been linked to another user.";else{if((j==null?void 0:j.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((U=(L=j.data)==null?void 0:L.data)!=null&&U.nonce))return a({accountTransfer:{nonce:(M=(W=j.data)==null?void 0:W.data)==null?void 0:M.nonce,account:(_=(A=j.data)==null?void 0:A.data)==null?void 0:_.subject,displayName:(P=(O=(S=j.data)==null?void 0:S.data)==null?void 0:O.account)==null?void 0:P.displayName,linkMethod:"farcaster",embeddedWalletAddress:(F=(D=(N=j.data)==null?void 0:N.data)==null?void 0:D.otherUser)==null?void 0:F.embeddedWalletAddress,farcasterEmbeddedAddress:(V=(z=(k=j.data)==null?void 0:k.data)==null?void 0:z.otherUser)==null?void 0:V.farcasterEmbeddedAddress}}),void s(kp);(j==null?void 0:j.privyErrorCode)===ee.INVALID_CREDENTIALS?(G.retryable=!0,G.detail="Something went wrong. Try again."):(j==null?void 0:j.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(G.detail="Too many requests. Please wait before trying again.")}g(G)}}else T>12e4&&(clearInterval($),g({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval($),v.current.forEach(R=>clearTimeout(R))}},[]),E.useEffect(()=>{if(r&&t&&y&&n){if(l!=null&&l.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let I=setTimeout(()=>{s(Sp)},Hr);return()=>clearTimeout(I)}y&&(Ih(n,l.embeddedWallets)?v.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:I=>{console.error(I),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:I,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Fu)},Hr)):v.current.push(setTimeout(()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr)))}},[y,r,t,n]),d.jsx(Art,{connectUri:x,loading:m,success:y,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{x&&(window.location.href=x)}})}};let krt=q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),Srt=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),$rt=q.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),Irt=q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Trt=q.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Prt=q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const xse=()=>{let[t,e]=E.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=De(),{enabled:o,token:a}=Xs(),{initLoginWithFarcaster:l}=Ne(),{accountType:c}=$h();return d.jsxs(Kr,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:h=>{var f;return l(h,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:sS,onErrorNavigateTo:qr}}),n(ml)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),n(sS))}catch(h){i({errorModalData:{error:h,previousScreen:r||Qi}}),n(qr)}finally{e(!1)}},disabled:!1,children:[d.jsx(Sf,{width:32,height:32})," Farcaster",t&&d.jsx(Sh,{}),c==="farcaster"&&d.jsx(Nrt,{color:"gray",children:"Recent"})]})};let Nrt=q(bc).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const Ort=({status:t,passkeySignupFlow:e=!1,error:r,onRetry:n})=>d.jsx(Gt,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx(Mrt,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(r instanceof Ki){if(r.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(r.privyErrorCode===ee.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:Q5,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&n?{label:"Retry",onClick:n}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),F0={component:()=>{let{app:t,data:e,setModalData:r,navigate:n}=De(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=Ne(),{user:l,logout:c}=Ut(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[h,f]=E.useState("loading"),[p,g]=E.useState(null),m=E.useRef([]),w=b=>{m.current=[b,...m.current]};E.useEffect(()=>()=>{m.current.forEach(b=>clearTimeout(b)),m.current=[]},[]);let y=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(b){g(b),f("error")}};return E.useEffect(()=>{if(h==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void w(setTimeout(()=>{n(Sp)},900));if(!Ih(l,t==null?void 0:t.embeddedWallets))return void w(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Hr));w(setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:b=>{console.error(b),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:b,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(Fu)},900))}},[l,h]),E.useEffect(()=>{y()},[]),d.jsx(Ort,{status:h,passkeySignupFlow:u,error:p,onRetry:y})}};let Mrt=q.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const Rrt=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:r,onLogin:n})=>d.jsx(Gt,{title:t,subtitle:e,icon:Q5,primaryCta:{label:"Create new account",onClick:r},secondaryCta:{label:"Log in with a passkey",onClick:n},watermark:!0}),jrt={component:()=>{let{enabled:t,token:e}=Xs(),{navigate:r,setModalData:n}=De(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Ne();return d.jsx(Rrt,{onSignup:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:F0,onErrorNavigateTo:qr}}),r(ml)):(await i({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!0}}),r(F0))},onLogin:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:F0,onErrorNavigateTo:qr}}),r(ml)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(F0))}})}},Ese=()=>{let{enabled:t,token:e}=Xs(),{navigate:r,setModalData:n,app:i,data:s}=De(),{initLoginWithPasskey:o}=Ne(),a=()=>{i.loginConfig.passkeysForSignupEnabled?r(jrt):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:F0,onErrorNavigateTo:qr}}),r(ml)):(await o({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(F0)))()};return E.useMemo(()=>{var c;let l=(c=s==null?void 0:s.login)==null?void 0:c.loginMethods;return l?l.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,h])=>h).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?d.jsxs(Kr,{onClick:a,children:[d.jsx(sT,{})," Continue with passkey"]}):d.jsx(nm,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Drt=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:a8e.map(r=>d.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code))}),p8=E.forwardRef((t,e)=>{let{app:r}=De(),[n,i]=E.useState(!1),{accountType:s}=$h(),[o,a]=E.useState(""),[l,c]=E.useState((r==null?void 0:r.intl.defaultCountry)??"US"),u=nb(o,l),h=o8e(l),f=l8e(l),p=LI(l),g=!u,[m,w]=E.useState(!1),y=p.length,b=x=>{let I=x.target.value;c(I),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:G9(o,I),countryCode:I,isValid:nb(o,l)})},v=(x,I)=>{try{let $=x.replace(/\D/g,"")===o.replace(/\D/g,"")?x:h.input(x);a($),t.onChange&&t.onChange({rawPhoneNumber:$,qualifiedPhoneNumber:G9(x,I),countryCode:I,isValid:nb(x,I)})}catch($){console.error("Error processing phone number:",$)}},C=()=>{w(!0);let x=G9(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:x,countryCode:l,isValid:nb(o,l)}).finally(()=>w(!1))};return E.useEffect(()=>{if(t.defaultValue){let x=c8e(t.defaultValue);h.reset(),b({target:{value:x.countryCode}}),v(x.phone,x.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(Lrt,{children:d.jsxs(Frt,{$callingCodeLength:y,$stacked:t.stacked,children:[d.jsx(Drt,{value:l,onChange:b}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:x=>{v(x.target.value,l)},onKeyUp:x=>{x.key==="Enter"&&C()},value:o,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(Xx,{isSubmitting:m,onClick:C,disabled:g,children:"Submit"}):d.jsx(bc,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(fr,{loading:m,loadingText:null,onClick:C,disabled:g,children:"Submit"}):null]})});let Lrt=q.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),Frt=q.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const _se=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=E.useRef(null),{authenticated:i}=Ut(),{navigate:s,setModalData:o,currentScreen:a,data:l}=De(),{initLoginWithSms:c}=Ne(),{enabled:u,token:h}=Xs(),{whatsAppEnabled:f}=rr();return d.jsxs(d.Fragment,{children:[d.jsx(tm,{$if:!t,children:d.jsx(p8,{ref:n,onSubmit:async function({qualifiedPhoneNumber:p}){var g;if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:(g=l==null?void 0:l.login)==null?void 0:g.disableSignup}),s(Nu)}catch(m){o({errorModalData:{error:m,previousScreen:a||Qi}}),s(qr)}else o({captchaModalData:{callback:m=>{var w;return c({phoneNumber:p,captchaToken:m,withPrivyUi:!0,disableSignup:(w=l==null?void 0:l.login)==null?void 0:w.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:qr}}),s(ml)},defaultValue:r})}),d.jsx(tm,{$if:t,children:d.jsxs(Kr,{onClick:()=>{e(),setTimeout(()=>{var p;(p=n.current)==null||p.focus()},0)},children:[d.jsx(dc,{children:d.jsx(UX,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let Urt={apple:{logo:Ine,displayName:"Apple"},discord:{logo:Tne,displayName:"Discord"},github:{logo:Pne,displayName:"GitHub"},google:{logo:Nne,displayName:"Google"},linkedin:{logo:Rne,displayName:"LinkedIn"},spotify:{logo:jne,displayName:"Spotify"},instagram:{logo:One,displayName:"Instagram"},twitter:{logo:Lne,displayName:"Twitter"},tiktok:{logo:Dne,displayName:"TikTok"},line:{logo:Mne,displayName:"LINE"}};const _n=({provider:t})=>{let{enabled:e,token:r}=Xs(),{navigate:n,setModalData:i,data:s}=De(),[o,a]=E.useState(!1),{initLoginWithOAuth:l}=Ne(),{accountType:c}=$h(),u=E.useMemo(()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?d8(c):null,[c]),{displayName:h,logo:f}=Urt[t];return d.jsxs(Kr,{onClick:()=>{var p;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!r?(i({captchaModalData:{callback:g=>{var m;return l(t,g,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:qr}}),n(ml)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[d.jsx(dc,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&d.jsx(Brt,{color:"gray",children:"Recent"})]})};let Brt=q(bc).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function Cse(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const zrt=({success:t,errorMessage:e,onRetry:r})=>{let n=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Gt,{title:n,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:Cse,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&r?{label:"Retry",onClick:r}:void 0,watermark:!0})},U3={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Ut(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=De(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:g,getAuthMeta:m}=Ne(),[w,y]=E.useState(!1),[b,v]=E.useState(void 0),C=Xs();async function x(){var I,$,R,T,L,U,W,M,A,_,S,O,P,N;try{let D=await async function(){let F;if(!t){if(C.enabled&&C.status==="error")throw new Zx(C.error,null,ee.CAPTCHA_FAILURE);return C.enabled&&C.status!=="success"&&(C.execute(),F=await C.waitForResult()),F}}();await u({captchaToken:D}),y(!0),f(!0)}catch(D){if((D==null?void 0:D.privyErrorCode)===ee.ALLOWLIST_REJECTED)return v(void 0),a(),void o(h8);if((D==null?void 0:D.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new qv(D).toString()),v(void 0),a(),void o(b2);if((D==null?void 0:D.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(y2);if((D==null?void 0:D.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&(($=(I=D.data)==null?void 0:I.data)!=null&&$.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(T=(R=D.data)==null?void 0:R.data)==null?void 0:T.nonce,account:(U=(L=D.data)==null?void 0:L.data)==null?void 0:U.subject,telegramAuthResult:(W=m())==null?void 0:W.telegramAuthResult,telegramWebAppData:(M=m())==null?void 0:M.telegramWebAppData,displayName:(S=(_=(A=D.data)==null?void 0:A.data)==null?void 0:_.account)==null?void 0:S.displayName,linkMethod:"telegram",embeddedWalletAddress:(N=(P=(O=D.data)==null?void 0:O.data)==null?void 0:P.otherUser)==null?void 0:N.embeddedWalletAddress}}),void o(kp);let{retryable:F,detail:k}=JU(D);v({retryable:F,detail:k,message:"Authentication failed"})}}return E.useEffect(()=>{x()},[]),E.useEffect(()=>{if(!(r&&t&&w&&n))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let $=setTimeout(()=>{o(Sp)},Hr);return()=>clearTimeout($)}if(Ih(n,i.embeddedWallets)){let $=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(Fu)},Hr);return()=>clearTimeout($)}h();let I=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(I)},[r,t,w,n]),d.jsx(zrt,{success:w,errorMessage:b,onRetry:b!=null&&b.retryable?async()=>{var I,$;try{v(void 0),(I=l==null?void 0:l.telegramAuthModalData)!=null&&I.seamlessAuth||await c(void 0,($=l==null?void 0:l.login)==null?void 0:$.disableSignup),await x()}catch(R){let{retryable:T,detail:L}=JU(R);v({retryable:T,detail:L,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},Ase=()=>{let{enabled:t,token:e}=Xs(),{navigate:r,setModalData:n,data:i}=De(),[s,o]=E.useState(!1),{initLoginWithTelegram:a}=Ne(),{accountType:l}=$h();async function c(u){var h;try{await a(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(U3)}catch(f){console.error(f),o(!1)}}return d.jsxs(Kr,{onClick:async function(){if(o(!0),t&&!e)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:qr}}),void r(ml);await c(e)},disabled:s,children:[d.jsx(Cse,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(Wrt,{color:"gray",children:"Recent"})]})};let Wrt=q(bc).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const kse=({onClick:t,text:e})=>d.jsxs(Kr,{onClick:t,children:[d.jsx(dc,{children:d.jsx(oTe,{})}),d.jsx(dh,{children:e})]}),Sse=({onClick:t,text:e,icon:r})=>d.jsxs(Kr,{onClick:t,children:[d.jsx(dc,{children:r}),d.jsx(dh,{children:e})]}),$se=({connectOnly:t})=>{var vt;let{closePrivyModal:e}=Ne(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=De(),o=rr(),a=r==null?void 0:r.login,l=o.appearance.walletList,c=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=$h(),{wallets:p}=fse({walletList:l,walletChainType:c}),g=E.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?d8(u):null,[u]),{email:m,sms:w,google:y,twitter:b,discord:v,github:C,spotify:x,instagram:I,tiktok:$,line:R,linkedin:T,apple:L,wallet:U,farcaster:W,telegram:M}=E.useMemo(()=>a!=null&&a.loginMethods?u8e(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:A}=o.loginMethods,_=[m&&"email",w&&"sms",y&&"google",b&&"twitter",v&&"discord",C&&"github",x&&"spotify",I&&"instagram",$&&"tiktok",R&&"line",T&&"linkedin",L&&"apple",W&&"farcaster",M&&"telegram"].filter(ce=>!!ce),S=_.length>0,O=E.useMemo(()=>U&&!S?"web3-first":U&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[U,S,o==null?void 0:o.appearance.loginGroupPriority]),P=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[N,D]=E.useState("default"),[F,k]=E.useState(S6({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(vt=a==null?void 0:a.prefill)==null?void 0:vt.type}));E.useEffect(()=>{var ce;k(S6({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(ce=a==null?void 0:a.prefill)==null?void 0:ce.type}))},[m,w,u]);let z=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};i.current=z;let V=[];h&&U?V.push(h):g!=null&&g.loginMethod&&_.includes(g.loginMethod)&&V.push(g.loginMethod);let j=ce=>{var tt,Qe;if(ce==="email")return d.jsx(Pse,{isEditable:F==="email",setIsEditable:()=>{k("email")},defaultValue:((tt=a==null?void 0:a.prefill)==null?void 0:tt.type)==="email"?a.prefill.value:void 0},ce);if(ce==="sms")return d.jsx(_se,{isEditable:F==="sms",setIsEditable:()=>{k("sms")},defaultValue:((Qe=a==null?void 0:a.prefill)==null?void 0:Qe.type)==="phone"?a.prefill.value:void 0},ce);if(ce==="apple")return d.jsx(_n,{provider:"apple"},ce);if(ce==="discord")return d.jsx(_n,{provider:"discord"},ce);if(ce==="farcaster")return d.jsx(xse,{},ce);if(ce==="github")return d.jsx(_n,{provider:"github"},ce);if(ce==="google")return d.jsx(_n,{provider:"google"},ce);if(ce==="linkedin")return d.jsx(_n,{provider:"linkedin"},ce);if(ce==="tiktok")return d.jsx(_n,{provider:"tiktok"},ce);if(ce==="line")return d.jsx(_n,{provider:"line"},ce);if(ce==="spotify")return d.jsx(_n,{provider:"spotify"},ce);if(ce==="instagram")return d.jsx(_n,{provider:"instagram"},ce);if(ce==="twitter")return d.jsx(_n,{provider:"twitter"},ce);if(ce==="telegram")return d.jsx(Ase,{},ce);let Ie=p.findIndex(({id:$t})=>$t===fo.normalize(ce)),Fe=f==="solana"?"solana-only":"ethereum-only";return d.jsx(nS,{recent:!0,index:Ie,data:{wallets:p,walletChainType:Fe,handleWalletClick($t){n(ht=>({...ht,externalConnectWallet:{walletList:l,walletChainType:Fe,preSelectedWalletId:$t.id}})),s(t?iS:F3)}}})},G=p.filter(ce=>ce.id!==fo.normalize(h||"")),Q=G.map((ce,Ie)=>d.jsx(nS,{index:Ie,data:{walletChainType:c,wallets:G,handleWalletClick(Fe){n(tt=>({...tt,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:Fe.id}})),s(t?iS:F3)}}},ce.id)),K=_.filter(ce=>ce!==(g==null?void 0:g.loginMethod)).flatMap(j),re=V.flatMap(j);O==="web3-first"&&N==="default"?Q.unshift(...re):O==="web2-first"&&K.unshift(...re);let le=N==="web2-overflow"?()=>D("default"):void 0,ne=_.filter(ce=>ce!=="email"&&ce!=="sms"),ae=Vrt({priority:O,email:m,sms:w,social:ne}),ye=Grt({priority:O,email:m,sms:w,social:ne}),de=d.jsx(kse,{text:Krt({priority:O}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(F3)}}),he=d.jsx(Sse,{text:ae,icon:ye,onClick:()=>D("web2-overflow")}),Xe=P?0:1,ie=U&&Q.length>0,xe=K.length===0&&U&&Q.length===0,be=5-(ie?1:0),se=N==="default"&&(o==null?void 0:o.appearance.logo),we=N==="default"&&o.appearance.loginMessage;return d.jsxs(Gt,{title:o.appearance.landingHeader,icon:se?d.jsx(tse,{}):void 0,iconVariant:se?"logo":void 0,onClose:z,showClose:!0,onBack:le,showBack:!!le,helpText:o||A&&N==="default"?d.jsxs(d.Fragment,{children:[A&&N==="default"&&d.jsx(Ese,{}),o&&d.jsx(AP,{app:o})]}):void 0,watermark:!0,children:[we&&(typeof o.appearance.loginMessage=="string"?d.jsx(Hrt,{children:o.appearance.loginMessage}):d.jsx(qrt,{children:o.appearance.loginMessage})),d.jsx(cie,{$colorScheme:o.appearance.palette.colorScheme,children:N==="default"&&O==="web2-first"?d.jsxs(d.Fragment,{children:[K.length>be?K.slice(0,be-1):K,K.length>be&&he,ie&&de,xe&&d.jsx(TB,{chainType:o.appearance.walletChainType})]}):N==="default"&&O==="web3-first"?d.jsxs(d.Fragment,{children:[U&&d.jsxs(d.Fragment,{children:[Q.length>be?Q.slice(0,be-1):Q,Q.length>be&&de]}),K.length>Xe&&he,K.length===Xe&&K[0],xe&&d.jsx(TB,{chainType:o.appearance.walletChainType})]}):N==="web2-overflow"?d.jsx(d.Fragment,{children:O==="web3-first"?K:K.slice(3)}):null})]})};let Hrt=q.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),qrt=q.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),Vrt=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",Grt=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?d.jsx(eTe,{}):e&&r?d.jsx(rrt,{}):e?d.jsx(ET,{}):r?d.jsx(UX,{}):null,Krt=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const S6=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms",Ise={component:()=>{let{app:t}=De();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(Rse,{connectOnly:!0}):d.jsx($se,{connectOnly:!0})}},Yrt=({contactMethod:t,authFlow:e,appName:r="Privy",whatsAppEnabled:n=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=E.useState(NB);E.useEffect(()=>{a||p(NB)},[a]);let g=async m=>{var x;m.preventDefault();let w=m.currentTarget.value.replace(" ","");if(w==="")return;if(isNaN(Number(w)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let y=Number((x=m.currentTarget.name)==null?void 0:x.charAt(5)),b=[...w||[""]].slice(0,PB-y),v=[...f.slice(0,y),...b,...f.slice(y+b.length)];p(v);let C=Math.min(Math.max(y+b.length,0),PB-1);if(!isNaN(Number(m.currentTarget.value))){let I=document.querySelector(`input[name=code-${C}]`);I==null||I.focus()}if(v.every(I=>I&&!isNaN(+I))){let I=document.querySelector(`input[name=code-${C}]`);I==null||I.blur(),await(s==null?void 0:s(v.join("")))}};return d.jsx(Gt,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(OB,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(OB,{children:t})," for a",n?" WhatsApp":""," message from ",r," and enter your code below."]}),icon:e==="email"?zx:ah,onBack:i,showBack:!0,helpText:d.jsxs(tnt,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(rnt,{children:[d.jsx(LYe,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(nm,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(Jrt,{children:d.jsx(PXe,{children:d.jsxs(Xrt,{children:[d.jsx("div",{children:f.map((m,w)=>d.jsx("input",{name:`code-${w}`,type:"text",value:f[w],onChange:g,onKeyUp:y=>{y.key==="Backspace"&&(b=>{if(h==null||h(),p([...f.slice(0,b),"",...f.slice(b+1)]),b>0){let v=document.querySelector(`input[name=code-${b-1}]`);v==null||v.focus()}})(w)},inputMode:"numeric",autoFocus:w===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Tr?"one-time-code":"off"},w))}),d.jsx(ent,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let PB=6,NB=Array(6).fill("");var O1,M1,Qrt=((O1=Qrt||{})[O1.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",O1[O1.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",O1),Zrt=((M1=Zrt||{})[M1.EMAIL=0]="EMAIL",M1[M1.SMS=1]="SMS",M1);const Nu={component:()=>{var U,W,M;let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=De(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=Ne(),{authenticated:p,logout:g,user:m}=Ut(),{whatsAppEnabled:w}=rr(),[y,b]=E.useState(!1),[v,C]=E.useState(null),[x,I]=E.useState(null),[$,R]=E.useState(0);s.current=()=>null;let T=(U=c())!=null&&U.email?0:1,L=T===0?((W=c())==null?void 0:W.email)||"":((M=c())==null?void 0:M.phoneNumber)||"";return E.useEffect(()=>{if($){let A=setTimeout(()=>{R($-1)},1e3);return()=>clearTimeout(A)}},[$]),E.useEffect(()=>{if(p&&y&&m){if(t!=null&&t.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let A=setTimeout(()=>{e(Sp)},900);return()=>clearTimeout(A)}if(Ih(m,t.embeddedWallets)){let A=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:_=>{console.error(_),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:_,screen:"AwaitingPasswordlessCodeScreen"}}),g()},callAuthOnSuccessOnClose:!0}}),e(Fu)},900);return()=>clearTimeout(A)}{h();let A=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(A)}}},[p,y,m]),E.useEffect(()=>{if(v&&x===0){let A=setTimeout(()=>{C(null),I(null);let _=document.querySelector("input[name=code-0]");_==null||_.focus()},1400);return()=>clearTimeout(A)}},[v,x]),d.jsx(Yrt,{contactMethod:L,authFlow:T===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:w,onBack:()=>n(),onCodeSubmit:async A=>{var _,S,O,P,N,D,F,k,z,V;try{await u(A),b(!0)}catch(j){if(j instanceof ho&&j.privyErrorCode===ee.INVALID_CREDENTIALS)C("Invalid or expired verification code"),I(0);else if(j instanceof ho&&j.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)C(j.message);else{if(j instanceof ho&&j.privyErrorCode===ee.USER_LIMIT_REACHED)return console.error(new qv(j).toString()),void e(b2);if(j instanceof ho&&j.privyErrorCode===ee.USER_DOES_NOT_EXIST)return void e(y2);if(j instanceof ho&&j.privyErrorCode===ee.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:j,previousScreen:r??Nu}}),void e(qr,!1);if(j instanceof ho&&j.privyErrorCode===ee.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:j}}),void e(Ise,!1);if(j instanceof ho&&j.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED&&((S=(_=j.data)==null?void 0:_.data)!=null&&S.nonce))return i({accountTransfer:{nonce:(P=(O=j.data)==null?void 0:O.data)==null?void 0:P.nonce,account:L,displayName:(F=(D=(N=j.data)==null?void 0:N.data)==null?void 0:D.account)==null?void 0:F.displayName,linkMethod:T===0?"email":"sms",embeddedWalletAddress:(V=(z=(k=j.data)==null?void 0:k.data)==null?void 0:z.otherUser)==null?void 0:V.embeddedWalletAddress}}),void e(kp);C("Issue verifying code"),I(0)}}},onResend:async()=>{R(30),T===0?await a():await l()},errorMessage:v||void 0,success:y,resendCountdown:$,onInvalidInput:A=>{C(A),I(1)},onClearError:()=>{x===1&&(C(null),I(null))}})}};let Jrt=q.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),Xrt=q.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ent=q.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),tnt=q.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),rnt=q.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),OB=q.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const Tse=E.forwardRef((t,e)=>{let[r,n]=E.useState(t.defaultValue||""),[i,s]=E.useState(""),[o,a]=E.useState(!1),{authenticated:l}=Ut(),{initLoginWithEmail:c}=Ne(),{navigate:u,setModalData:h,currentScreen:f,data:p}=De(),{enabled:g,token:m}=Xs(),[w,y]=E.useState(!1),{accountType:b}=$h(),v=rr();E.useEffect(()=>{var $,R;!r&&v.disablePlusEmails&&(($=p==null?void 0:p.inlineError)==null?void 0:$.error)instanceof Ki&&((R=p==null?void 0:p.inlineError)==null?void 0:R.error.privyErrorCode)===ee.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[r]);let C=zne(r),x=o||!C,I=()=>{h({login:p==null?void 0:p.login,inlineError:void 0}),!g||m||l?($=>{var R;a(!0),c({email:r,captchaToken:$,disableSignup:(R=p==null?void 0:p.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(Nu)}).catch(T=>{h({errorModalData:{error:T,previousScreen:f||Qi}}),u(qr)}).finally(()=>{a(!1)})})(m):(h({captchaModalData:{callback:$=>c({email:r,captchaToken:$,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:qr}}),u(ml))};return d.jsxs(d.Fragment,{children:[d.jsxs(nnt,{children:[i&&d.jsx(Pu,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(int,{stacked:t.stacked,$error:!!i,children:[d.jsx(snt,{children:d.jsx(ET,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:$=>n($.target.value),onKeyUp:$=>{$.key==="Enter"&&I()},value:r,autoComplete:"email"}),b!=="email"||w?t.stacked?d.jsx("span",{}):d.jsx(Xx,{isSubmitting:o,onClick:I,disabled:x,children:"Submit"}):d.jsx(bc,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(fr,{loadingText:null,loading:o,disabled:x,onClick:I,style:{width:"100%"},children:"Submit"}):null]})});let nnt=dse,int=Vtt,snt=q(dc).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const Pse=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=E.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(tm,{$if:!t,children:d.jsx(Tse,{ref:n,defaultValue:r})}),d.jsx(tm,{$if:t,children:d.jsxs(Kr,{onClick:()=>{e(),setTimeout(()=>{var i;(i=n.current)==null||i.focus()},0)},children:[d.jsx(dc,{children:d.jsx(ET,{})}),"Continue with Email"]})})]})},Nse=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(Wx,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function oS(t){var r,n;let e=t.toLowerCase();return!!((n=(r=window==null?void 0:window.webkit)==null?void 0:r.messageHandlers)!=null&&n.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const ont=({walletLogo:t,success:e,errorMessage:r,title:n,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Gt,{title:n,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},primaryCta:r===kd.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(r!=null&&r.retryable)&&l<c?{label:"Retry",onClick:s,disabled:!(r!=null&&r.retryable)||l>=c}:!e&&r&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),aS={component:()=>{var I,$,R,T,L,U,W;let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:o}=De(),{walletConnectionStatus:a,closePrivyModal:l}=Ne(),[c,u]=E.useState(void 0),[h,f]=E.useState(0),p=Du(((I=a==null?void 0:a.connector)==null?void 0:I.walletClientType)||"unknown"),g=(a==null?void 0:a.status)==="connected",m=(a==null?void 0:a.status)==="switching_to_supported_chain";E.useEffect(()=>{var M,A;if(g){let _;if((M=s==null?void 0:s.externalConnectWallet)!=null&&M.onCompleteNavigateTo){let S=s.externalConnectWallet.onCompleteNavigateTo,O=(A=a.connectedWallet)==null?void 0:A.address;_=setTimeout(()=>{var P,N;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:O}}),r(S({address:O,walletClientType:(P=a.connector)==null?void 0:P.walletClientType,walletChainType:(N=a.connector)==null?void 0:N.chainType}))},Hr)}else _=setTimeout(l,Hr);return()=>clearTimeout(_)}},[g]),E.useEffect(()=>{a!=null&&a.connectError&&(M=>{u(wse(M))})(a==null?void 0:a.connectError)},[a]);let w=(($=a==null?void 0:a.connector)==null?void 0:$.connectorType)||"injected",y=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",b=((T=p==null?void 0:p.metadata)==null?void 0:T.shortName)||(p==null?void 0:p.name)||((L=a==null?void 0:a.connector)==null?void 0:L.walletBranding.name)||"Browser Extension",v=((U=p==null?void 0:p.image_url)==null?void 0:U.md)||((W=a==null?void 0:a.connector)==null?void 0:W.walletBranding.icon)||(M=>d.jsx(xP,{...M})),C=b==="Browser Extension"?b.toLowerCase():b;t=g?`Successfully connected with ${C}`:c?c.message:m?"Switching networks":`Waiting for ${C}`;let x="Dont see your wallet? Check your other browser windows.";return g?x="Youre good to go!":h>=2&&c?x="Unable to connect wallet":c?x=c.detail:m?x="Switch your wallet to the requested network.":y==="metamask"&&Tr?x="Click to continue to open and connect MetaMask.":y==="metamask"?x="For the best experience, connect only one wallet at a time.":w==="wallet_connect_v2"?x="Open your mobile wallet app to continue":w==="coinbase_wallet"&&(x="Open the Coinbase app on your phone to continue."),d.jsx(ont,{walletName:b,walletLogo:v,success:g,errorMessage:c,title:t,subtitle:x,onRetry:()=>{f(h+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===n?void 0:e,numRetries:h,maxRetries:2})}},Ose=q.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),dg=({children:t,variant:e="default",icon:r})=>{let n=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(lnt,{children:[d.jsx(ant,{$variant:e,"data-variant":e,children:(()=>{if(r)return Oe.isValidElement(r)?Oe.cloneElement(r,{stroke:n(),strokeWidth:2}):r;switch(e){case"success":default:return d.jsx(Xw,{size:12,stroke:n(),strokeWidth:3});case"error":return d.jsx(aTe,{size:12,stroke:n(),strokeWidth:3})}})()}),t]})};let ant=q.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),lnt=q.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const cnt=({walletName:t,installLink:e,title:r,subtitle:n="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=r||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Gt,{title:o,subtitle:n,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(nm,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(Ose,{children:[d.jsx(dg,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(nm,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(dg,{children:"Set up your first wallet"}),d.jsx(dg,{children:"Store your recovery phrase in a safe place!"})]})})},unt={component:()=>{let{navigateBack:t,data:e}=De();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:r}=e.installWalletModalData;return d.jsx(cnt,{walletName:r.name,installLink:r.installLink,onReload:()=>{window.location.reload()},onBack:t})}},dnt=({title:t,subtitle:e,buttonText:r,buttonHref:n,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Gt,{title:t,subtitle:e,primaryCta:{label:r,onClick:()=>{n&&window.open(n,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),hnt={component:()=>{let{ready:t}=Ut(),{data:e}=De(),[r,n]=E.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!r,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),r&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(dnt,{title:c.title,subtitle:c.description,buttonText:r?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout(()=>n(!0),1e3)}})}},Nl=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{var m,w,y;let s,{navigate:o,setModalData:a}=De(),{connectWallet:l}=Ne(),c=$h(),u=Du(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=Xne({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(n?aS:pu)):Tr?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(hnt)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(unt))}:i.connectorType!=="coinbase_wallet"||((m=i.coinbaseWalletConfig.preference)==null?void 0:m.options)!=="eoaOnly"||!Tr||f||Bne()?()=>{(!oS(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),o(n?aS:pu))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let g=e||((w=u==null?void 0:u.metadata)==null?void 0:w.shortName)||(u==null?void 0:u.name)||i.walletClientType;return d.jsxs(fnt,{onClick:s,children:[d.jsx(Nse,{icon:r||((y=u==null?void 0:u.image_url)==null?void 0:y.md),name:g}),d.jsx("span",{children:g}),d.jsxs(pnt,{id:"chip-container",children:[(c==null?void 0:c.walletClientType)===h&&(c==null?void 0:c.chainType)===i.chainType?d.jsx(MB,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(MB,{color:"gray",children:"Solana"})]})]})};let fnt=q(Kr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),MB=q(bc).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),pnt=q.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const gnt=["coinbase_wallet","base_account"];let mnt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const ynt=["safe"],wnt=["phantom","backpack","solflare","universal_profile"],Mse=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var f,p;let a=[],l=[],c=[],u=r.filter(g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana"),h=u.find(g=>g.connectorType==="wallet_connect_v2");for(let[g,m]of(o?[o.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,connectorType:v,walletClientType:C})=>b!=="solana"&&(C==="uniswap_wallet_extension"||C==="uniswap_extension"?!i.includes("uniswap"):C==="crypto.com_wallet_extension"||C==="crypto.com_onchain"?!i.includes("cryptocom"):v==="injected"&&!i.includes(C))).entries()){let{walletClientType:b,walletBranding:v,chainType:C}=y;(b==="unknown"?l:a).push(d.jsx(Nl,{connectOnly:n,provider:b,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${b}-${C}-${w}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,walletClientType:v})=>{if(b==="solana")return e!=="ethereum-only"&&!i.includes(v)}).entries()){let{walletClientType:b,walletBranding:v,chainType:C}=y;(b==="unknown"?l:a).push(d.jsx(Nl,{connectOnly:n,provider:b,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${b}-${C}-${w}`))}if(wnt.includes(m)){let w=u.find(y=>y.connectorType==="injected"&&y.walletClientType===m||y.connectorType===m);if(w&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:w},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:y},`${m}-solana`))}}else if(mnt.includes(m)){let w=u.find(y=>m==="uniswap"?y.walletClientType==="uniswap_wallet_extension"||y.walletClientType==="uniswap_extension":m==="cryptocom"?y.walletClientType==="crypto.com_wallet_extension"||y.walletClientType==="crypto.com_onchain":y.connectorType==="injected"&&y.walletClientType===m);if(s&&!w&&(w=h),w&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:w,logo:w.connectorType==="injected"?w.walletBranding.icon:void 0,displayName:w.connectorType==="injected"?w.walletBranding.name:void 0},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:y},`${m}-solana`))}}else if(gnt.includes(m)){let w=u.find(({connectorType:y})=>y===m);w&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:w,displayName:w.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:w.walletClientType==="coinbase_wallet"?qne:Vne},`${g}-${m}`))}else if(ynt.includes(m))h&&c.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:h},`${g}-${m}`));else if(m==="wallet_connect")h&&c.push(d.jsx(Nl,{connectOnly:n,provider:m,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${g}-${m}`));else if(m===(o==null?void 0:o.wallet)){let w=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),y=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||w||y){let b=u.find(({walletClientType:v})=>v===m);b&&a.push(d.jsx(Nl,{connectOnly:n,provider:m,displayName:(f=b.walletBranding)==null?void 0:f.name,logo:(p=b.walletBranding)==null?void 0:p.icon,connector:b},`${g}-${m}`))}}}return[...l,...a,...c]},Rse=({connectOnly:t})=>{var W,M,A;let{closePrivyModal:e,connectors:r}=Ne(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=De(),{appearance:{palette:{colorScheme:o}}}=rr(),{accountType:a,walletClientType:l,chainType:c}=$h(),u=E.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?d8(a):null,[a]),h=((W=n.loginMethodsAndOrder)==null?void 0:W.primary)??[],f=((M=n.loginMethodsAndOrder)==null?void 0:M.overflow)??[],p=E.useMemo(()=>[...h,...f],[h,f]),g=n.loginMethods.passkey,m=s==null?void 0:s.login,w=[];l&&p.includes(l)?w.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&w.push(u==null?void 0:u.loginMethod);let[y,b]=E.useState("default"),[v,C]=E.useState(S6({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(A=m==null?void 0:m.prefill)==null?void 0:A.type}));E.useEffect(()=>{var _;C(S6({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(_=m==null?void 0:m.prefill)==null?void 0:_.type}))},[p,a]),E.useEffect(()=>{a==="phone"&&C("sms");let _=p.indexOf("sms"),S=p.indexOf("email");_>-1&&_<S&&C("sms")},[a,h,f]);let x=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{b("default")},150)};i.current=x;let I=_=>{var S,O;return _==="email"?d.jsx(Pse,{isEditable:v==="email",setIsEditable:()=>{C("email")},defaultValue:((S=m==null?void 0:m.prefill)==null?void 0:S.type)==="email"?m.prefill.value:void 0},_):_==="sms"?d.jsx(_se,{isEditable:v==="sms",setIsEditable:()=>{C("sms")},defaultValue:((O=m==null?void 0:m.prefill)==null?void 0:O.type)==="phone"?m.prefill.value:void 0},_):_==="apple"?d.jsx(_n,{provider:"apple"},_):_==="discord"?d.jsx(_n,{provider:"discord"},_):_==="farcaster"?d.jsx(xse,{},_):_==="github"?d.jsx(_n,{provider:"github"},_):_==="google"?d.jsx(_n,{provider:"google"},_):_==="linkedin"?d.jsx(_n,{provider:"linkedin"},_):_==="spotify"?d.jsx(_n,{provider:"spotify"},_):_==="instagram"?d.jsx(_n,{provider:"instagram"},_):_==="tiktok"?d.jsx(_n,{provider:"tiktok"},_):_==="line"?d.jsx(_n,{provider:"line"},_):_==="twitter"?d.jsx(_n,{provider:"twitter"},_):_==="telegram"?d.jsx(Ase,{},_):_.startsWith("privy:")?d.jsx(gtt,{appId:_.replace("privy:","")},_):Mse({walletList:n.appearance.walletList,walletChainType:(m==null?void 0:m.walletChainType)??n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:p,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:_,chainType:c??"ethereum"}})},$=w.flatMap(I),R=h.filter(_=>_!==l&&_!==(u==null?void 0:u.loginMethod)).flatMap(I),T=f.filter(_=>_!==l&&_!==(u==null?void 0:u.loginMethod)).flatMap(I),[L,U]=((_,S)=>{let O=[],P=[];for(let[N,D]of _.entries())N<S?O.push(D):P.push(D);return[O,P]})([...$,...R,...T],vnt({primary:R.length+$.length,overflow:T.length}));return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{title:n.appearance.landingHeader,onClose:x,backFn:y==="default"?void 0:()=>{b("default")}}),y==="default"&&d.jsx(bnt,{}),y==="default"&&(typeof n.appearance.loginMessage=="string"?d.jsx(CJe,{children:n.appearance.loginMessage}):n.appearance.loginMessage),d.jsx(EJe,{style:{overflow:"hidden"},children:d.jsxs(cie,{$colorScheme:o,children:[y==="default"&&d.jsxs(d.Fragment,{children:[L,U.length>0&&d.jsx(Sse,{text:"More options",icon:d.jsx(jYe,{}),onClick:()=>b("overflow")})]}),y==="overflow"&&d.jsx(d.Fragment,{children:U}),g&&y==="default"&&d.jsx(Ese,{})]})}),n&&d.jsx(AP,{app:n}),d.jsx(Jt,{})]})};let vnt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,bnt=q(htt).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Qi={component:()=>{let{app:t}=De();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(Rse,{connectOnly:!1}):d.jsx($se,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},jse={component:()=>{let[t,e]=E.useState(null),[r,n]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState(""),{authenticated:l,user:c}=Ut(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:g}=Ne(),{app:m,navigate:w,data:y,onUserCloseViaDialogOrKeybindRef:b}=De(),{onSuccess:v,onFailure:C}=y.setWalletPassword,x=fa(c),I=(t==null?void 0:t.recoveryMethod)==="user-passcode",$=(x==null?void 0:x.recoveryMethod)==="user-passcode";E.useEffect(()=>{l||(w(Qi),C(new p9e("User must be authenticated before setting a password on a Privy wallet")))},[l]);let R=()=>i?(C(i),void p({shouldCallAuthOnSuccess:!1})):I?(v(t),void p({shouldCallAuthOnSuccess:!1})):(C(new Zd("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return b.current=R,d.jsx(Xie,{appName:(m==null?void 0:m.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:$,onPasswordGenerate:()=>a(Jie()),onPasswordChange:a,onSubmit:async()=>{I?(v(t),p({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let T=await u.getAccessToken();if(T&&c&&(x!=null&&x.address)&&o&&h)try{g({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:$}});let{entropyId:L,entropyIdVerifier:U}=di(c);if(!(await h.setRecovery({accessToken:T,entropyId:L,entropyIdVerifier:U,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Zd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:$,reason:"error setting password"}});let W=await f(),M=fa(W);if(!M)return s(new Zd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:$,reason:"wallet disconnected"}});e(M),g({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:$}})}catch(L){console.warn(L),s(L instanceof Error?L:Error("Error setting password on privy wallet")),g({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:x.address,reason:L}})}})(),n(!1))},onClose:R})}},xnt=({onClose:t,onProceed:e})=>d.jsx(Gt,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:xT,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),Ent={component:()=>{let{closePrivyModal:t}=Ne(),{data:e,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=De(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new Zd("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return n.current=s,d.jsx(xnt,{onClose:s,onProceed:()=>{r(jse)}})}},_nt={component:()=>{let[t,e]=E.useState(!0),{authenticated:r,user:n}=Ut(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=Ne(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=De(),[h,f]=E.useState(void 0),[p,g]=E.useState(""),[m,w]=E.useState(!1),{entropyId:y,entropyIdVerifier:b,onCompleteNavigateTo:v,onSuccess:C,onFailure:x}=c.recoverWallet,I=($="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),x(typeof $=="string"?new Zd($):$)};return u.current=I,E.useEffect(()=>{if(!r)return I("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),d.jsxs(wr,{children:[d.jsx(wr.Header,{icon:qf,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:I}),d.jsx(wr.Body,{children:d.jsx(Cnt,{children:d.jsxs("div",{children:[d.jsxs(o8,{children:[d.jsx(UP,{type:t?"password":"text",onChange:$=>(R=>{R&&f(R)})($.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),d.jsx(l8,{style:{right:"0.75rem"},children:t?d.jsx(c8,{onClick:()=>e(!1)}):d.jsx(u8,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(Ant,{children:p})]})})}),d.jsxs(wr.Footer,{children:[d.jsx(wr.HelpText,{children:d.jsxs(OXe,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(wr.Actions,{children:d.jsx(knt,{loading:m||!i,disabled:!h,onClick:async()=>{w(!0);let $=await a.getAccessToken(),R=Zo(n,y);if(!$||!R||h===null)return I("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:$,entropyId:y,entropyIdVerifier:b,recoveryPassword:h})),g(""),v?l(v):s({shouldCallAuthOnSuccess:!1}),C==null||C(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(T){(function(L){return Fm(L)&&(L.type==="invalid_recovery_pin"||L.type==="invalid_request_arguments")})(T)?g("Invalid recovery password, please try again."):g("An error has occurred, please try again.")}finally{w(!1)}},$hideAnimations:!y&&m,children:"Recover your account"})}),d.jsx(wr.Watermark,{})]})]})}};let Cnt=q.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),Ant=q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),knt=q(fr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&Un(["&&{transition:none;}"]));const Snt={component:()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=De(),[i,s]=E.useState(""),[o,a]=E.useState(!1),[l,c]=E.useState(),[u,h]=E.useState(null),{create:f}=LP(),{authenticated:p,user:g}=Ut(),{closePrivyModal:m,isNewUserThisSession:w,initializeWalletProxy:y}=Ne(),{onSuccess:b,onFailure:v,callAuthOnSuccessOnClose:C,shouldCreateEth:x,shouldCreateSol:I}=r.createWallet,[$,R]=E.useState(null),T=new us(async()=>{try{let L;if(x&&I)L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g}),L=await f({chainType:"solana",walletIndex:0,latestUser:L.user});else if(I)L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:g});else{if(!x)throw Error("Invalid args to create wallet");L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g})}R(L),w?e(FP):(b(L),m({shouldCallAuthOnSuccess:C}))}catch(L){s(L.message)}});return E.useEffect(()=>{u||y(3e4).then(L=>h(L))},[u]),E.useEffect(()=>{if(!p||!g)return e(Qi),void v(Error("User must be authenticated before creating a Privy wallet"))},[p]),n.current=()=>null,d.jsx(Xie,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!$&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{$&&$.account.recoveryMethod!=="user-passcode"?(v(new Zd("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):$?(b($),m({shouldCallAuthOnSuccess:C})):(v(new Zd("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(Jie()),onSubmit:async()=>(a(!0),T.execute().then(()=>new Promise(L=>setTimeout(L,250))).finally(()=>a(!1)))})}},$nt=q.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),fh=q.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Ou=q.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),Int={component:()=>{var w;let{user:t}=Ut(),{client:e,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=Ne(),s=De(),{entropyId:o,entropyIdVerifier:a}=(w=s.data)==null?void 0:w.recoverWallet,[l,c]=E.useState(!1),[u,h]=E.useState(null),[f,p]=E.useState(null);function g(){var y,b,v,C;if(!l){if(f)return(b=(y=s.data)==null?void 0:y.setWalletPassword)==null||b.onFailure(f),void i();if(!u)return(C=(v=s.data)==null?void 0:v.setWalletPassword)==null||C.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=g;let m=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(Ot,{onClose:g},"header"),d.jsx($nt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(fp,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(Ou,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(dh,{style:{minHeight:"2rem"}}),d.jsx(v6,{onClick:()=>p(null),children:"Try again"}),d.jsx(Jt,{})]}:{children:[d.jsx(Ot,{onClose:g},"header"),d.jsx(rne,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(Ou,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(fh,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(dh,{style:{minHeight:"2rem"}}),d.jsx(v6,{loading:l,disabled:m,onClick:()=>async function(){c(!0);try{let y=await e.getAccessToken(),b=Zo(t,o);if(!y||!r||!b)return;if(!(await r.setRecovery({accessToken:y,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:b.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let v=await n();if(!v)throw Error("Unable to set recovery on wallet");let C=Zo(v,b.address);if(!C)throw Error("Unabled to set recovery on wallet");h(!!v),setTimeout(()=>{var x,I;(I=(x=s.data)==null?void 0:x.setWalletPassword)==null||I.onSuccess(C),i()},Hr)}catch(y){p(y)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(Jt,{})]})}};function Dse({isCreatingWallet:t,skipSplashScreen:e}){return t?Snt:e?jse:Ent}function Lse({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?Int:r||e.length===1?Dse({isCreatingWallet:t==="create",skipSplashScreen:n}):Jk}function Fse(t){switch(t){case"user-passcode":return _nt;case"google-drive":case"icloud":return Hie;default:throw Error("Recovery method not supported")}}const Use=({children:t,theme:e})=>d.jsxs(Tnt,{$theme:e,children:[d.jsx(wQe,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Pnt,{$theme:e,children:t})]});let Tnt=q.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Pnt=q.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const Bse=Un(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),g8=q.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],Bse);let Nnt=q(g8).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),Ont=q.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Mnt=q.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),Rnt=q.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),jnt=q(Ss).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Dnt=q(Pu).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Lnt=q(gl).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const m8=({errMsg:t,balance:e,address:r,className:n,title:i,showCopyButton:s=!1})=>{let[o,a]=E.useState(!1);return E.useEffect(()=>{if(o){let l=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(l)}},[o]),d.jsxs("div",{children:[i&&d.jsx(jnt,{children:i}),d.jsx(Nnt,{className:n,$state:t?"error":void 0,children:d.jsxs(Ont,{children:[d.jsxs(Mnt,{children:[d.jsx(Dt,{address:r,showCopyIcon:!1}),e!==void 0&&d.jsx(Rnt,{children:e})]}),s&&d.jsx(Lnt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(r).then(()=>a(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(Xw,{size:14})]}:{children:["Copy",d.jsx(Y5,{size:14})]})})]})}),t&&d.jsx(Dnt,{children:t})]})};function zse({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=Ne(),[s,o]=E.useState(0n),[a,l]=E.useState(!1),c=E.useMemo(()=>{let h=n||i[0];if(h)return Cu({chain:n,transport:fc(Tu(h,t,e))})},[n,t,e]),u=E.useCallback(async()=>{if(!r||!c)return;l(!0);let h=await c.getBalance({address:r}).catch(console.error);return h?(o(h),l(!1),h):void 0},[c,r,o]);return E.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const yl="sdk_fiat_on_ramp_completed_with_status",qP=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await Cu({chain:t,transport:fc(Tu(t,n,r))}).readContract({address:i,abi:Fnt,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let Fnt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const x2=Symbol("solana-funding-plugin"),Unt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new J("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),r(15e3)]);if(!c||!l)throw t("linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new J("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await n(),h=a==="solana"?V4(u):G7(u);if(!h)throw t("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h};class Bnt{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let r=await this.signMessage(Wi(e.params.message,"base64"));return{signature:Wi(r).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await yr())throw Error("User must be authenticated to use embedded Solana wallet");if(!await lat({address:this.address}))throw new J("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,r,n){this.walletProxy=e,this.address=r,this.signMessage=n}}async function lS({tx:t,accessToken:e,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=b6(t,s),l=hh(t)?Wi(t.message.serialize()):t.serializeMessage(),{response:c}=await r.rpc({accessToken:e,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),u=Wi(c.data.signature,"base64");return t.addSignature(a,u),t}const znt=t=>t.reduce((e,r)=>!e||e.walletIndex<r.walletIndex?r:e,null);let RB=async({accessToken:t,appConfig:e,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw n("createWallet","onError",ee.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=fa(a);if(l>0&&!p)throw n("createWallet","onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw n("createWallet","onError",ee.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await jB({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});let g=DP(a,{chainType:h,walletIndex:l})[0];if(g)return{user:a,account:g};if(l===0&&!i)return jB({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});if(!i)throw n("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return Wie({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:r,recoverEmbeddedWallet:o,setUser:f})},jB=async({emitPrivyEvent:t,setModalData:e,openModal:r,chainType:n})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:n==="ethereum",shouldCreateSol:n==="solana"}}),r(Fu)});const Wse=()=>{let t=rr(),e=Lu(),{setModalData:r}=De(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=Ne();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:g,getAccessToken:m,initializeWalletProxy:w,user:y,privy:b,emitPrivyEvent:v,recoverEmbeddedWallet:C,setModalData:x,openModal:I,setUser:$,options:R,timeoutDuration:T,refreshSessionAndUser:L,chainType:U})=>{var S,O;let[W,M]=await Promise.all([w(T),m()]);if(!M||!y)throw v("createWallet","onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!W&&((S=g.customAuth)!=null&&S.enabled))throw v("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(R&&"walletIndex"in R&&typeof R.walletIndex=="number"){if(g.embeddedWallets.mode==="user-controlled-server-wallets-only")throw v("createWallet","onError",ee.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return RB({accessToken:M,appConfig:g,privy:b,emitPrivyEvent:v,openModal:I,proxy:W,refreshSessionAndUser:L,recoverEmbeddedWallet:C,setModalData:x,user:y,walletIndex:R.walletIndex,chainType:U,setUser:$})}let A=R&&"createAdditional"in R&&R.createAdditional,_=DP(y,{chainType:U});if(_[0]&&!A)throw v("createWallet","onError",ee.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return RB({accessToken:M,appConfig:g,privy:b,emitPrivyEvent:v,openModal:I,proxy:W,recoverEmbeddedWallet:C,setModalData:x,user:y,walletIndex:(((O=znt(_))==null?void 0:O.walletIndex)??-1)+1,chainType:U,refreshSessionAndUser:L,setUser:$})})({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:n,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:r,openModal:o,setUser:s,options:h,timeoutDuration:kne,chainType:u})}}};function Wnt(t){let{create:e}=Wse();return Cp("createWallet",t),{createWallet:async r=>{r&&"target"in r&&r&&(r=void 0);let{account:n}=await e({chainType:"ethereum",options:r});return n}}}const Hnt=()=>{let{user:t}=Ut(),{client:e,refreshSessionAndUser:r,initializeWalletProxy:n}=Ne(),i=Lu(),s=rr();return{importWallet:E.useCallback(({privateKey:o})=>Unt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,r,n,i])}},Bm=()=>{let{importWallet:t}=Hnt(),{createWallet:e}=Wnt();return{...E.useContext(hp),importWallet:t,createWallet:e}},VP=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),Hse=t=>!!t.fundingConfig&&VP(t.fundingConfig.options).length>=1,cS=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let qnt=2n**256n-1n;const $6=({amount:t,decimals:e})=>t===qnt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),qse=({chains:t,appId:e,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Cu({chain:s,transport:fc(Tu(s,n,e))}),a=await o.getBalance({address:r}).catch(()=>0n),l=null,c=d8e[s.id];if(i&&c){let{balance:u}=await qP({address:r,chain:s,rpcConfig:n,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}})),zm=q.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Re=q.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),qe=q.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Vnt=q(qe).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),et=q.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],f8),Gnt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let Knt={[ba.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[ym.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[xa.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[O4.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[XK.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Ea.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[xc.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Qs.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[bI.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const Vse=({chainId:t,...e})=>{if(t==="solana")return d.jsx(Gnt,{...e});let r=Knt[t];return d.jsx(r||tne,{...e})},Ynt=({balance:t,className:e,chain:r})=>d.jsx(g8,{className:e,$state:void 0,children:d.jsx(uS,{balance:t,chain:r})}),uS=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(Qnt,{children:[d.jsx(Jnt,{chainId:"id"in e?e.id:"solana"}),d.jsx(et,{children:e.name})]}),d.jsxs(bc,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(Znt,{children:d.jsx(Wx,{})}),t]})]});let Qnt=q.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),Znt=q.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),Jnt=q(Vse).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const Xnt=({options:t,onSelect:e,selected:r,className:n})=>d.jsxs(GIe,{as:eit,children:[d.jsxs(RX,{as:nit,children:[d.jsx(uS,{balance:r.balance,chain:r.chain}),d.jsx(dS,{height:16})]}),d.jsx(jX,{as:tit,className:n,children:t.map((i,s)=>d.jsx(DX,{as:rit,onClick:()=>e(s),children:d.jsx(uS,{balance:i.balance,chain:i.chain})},s))})]});let eit=q.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),tit=q.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),rit=q.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),dS=q(sx).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),nit=q.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],Bse,dS,dS);const iit=({passkeys:t,isLoading:e,errorReason:r,success:n,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Gt,n?{title:"Passkeys updated",icon:e2,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:Q5,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(DB,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:Q5,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:r||void 0,children:t.length===0?d.jsx(oit,{}):d.jsx(sit,{children:d.jsx(DB,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let sit=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),DB=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=E.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx(dit,{children:"Your passkeys"}),d.jsxs(uit,{children:[t.slice(0,o).map(l=>d.jsxs(pit,{children:[d.jsxs("div",{children:[d.jsx(hit,{children:a(l)}),d.jsxs(fit,{children:["Last used: ",(l.latestVerifiedAt??l.verifiedAt).toLocaleString()]})]}),d.jsx(mit,{disabled:i.includes(l.credentialId),onClick:()=>(async c=>{s(u=>u.concat([c])),await r(c),s(u=>u.filter(h=>h!==c))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(Sh,{}):d.jsx(sTe,{size:16})})]},l.credentialId)),t.length>2&&!e&&d.jsx(cit,{onClick:n,children:"View all"})]})]})},oit=()=>d.jsxs(Ose,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(dg,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(dg,{children:"Takes seconds to set up and use"}),d.jsx(dg,{children:"Use your passkey to verify transactions and login to your account"})]});const ait={component:()=>{let{user:t,unlinkPasskey:e}=Ut(),{linkWithPasskey:r,closePrivyModal:n}=Ne(),i=t==null?void 0:t.linkedAccounts.filter(p=>p.type==="passkey"),[s,o]=E.useState(!1),[a,l]=E.useState(""),[c,u]=E.useState(!1),[h,f]=E.useState(!1);return E.useEffect(()=>{i.length===0&&f(!1)},[i.length]),d.jsx(iit,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),r().then(()=>u(!0)).catch(p=>{if(p instanceof Ki){if(p.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===ee.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async p=>(o(!0),await e(p).then(()=>u(!0)).catch(g=>{g instanceof Ki&&g.privyErrorCode===ee.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>n()})}},Gse=q.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let lit=Un(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const cit=q.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],lit);let uit=q.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),dit=q.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),hit=q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),fit=q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),pit=q.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),git=Un([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),mit=q.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],git);const yit=q.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),ty=q.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),Kse=q.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),Yse=q.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),Qse=q.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),wit=q(Qse).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),Zse=q.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Jse=q.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),vit=q.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),bit=q.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Xse=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:g,onAmountChange:m,erc20ContractInfo:w})=>{let y=E.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(bl,{}),d.jsx(Ou,{children:"Transfer from another network"}),d.jsxs(fh,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),d.jsxs(Kse,{style:{marginTop:"2rem"},children:[d.jsxs(Yse,{onClick:()=>{var b;return(b=y.current)==null?void 0:b.focus()},children:[d.jsx(Qse,{ref:y,value:i,onChange:b=>{let v=b.target.value;if(/^[0-9.]*$/.test(v)&&v.split(".").length-1<=1){let C=/\.$/.test(v)?".":"",x=Number(v.replace(/\.$/,"")||"0");if(Number.isNaN(x))return void m("0");m(x.toString()+C)}}}),d.jsx(Zse,{children:s})]}),o&&d.jsx(Jse,{children:o})]}),d.jsxs(Re,{style:{marginTop:"1.5rem"},children:[d.jsx(qe,{children:"From"}),d.jsx(qe,{children:YR(f)})]}),d.jsx(Xnt,{selected:{chain:l.chain,balance:l.isErc20Quote?$6({amount:l.erc20Balance??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:nl(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:b,balance:v,isErc20Quote:C,erc20Balance:x})=>({chain:b,balance:C?$6({amount:x??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:nl(v,b.nativeCurrency.symbol,3,!0)})),onSelect:g}),d.jsxs(Re,{style:{marginTop:"1.5rem"},children:[d.jsx(qe,{children:"To"}),d.jsx(qe,{children:YR(h)})]}),d.jsx(Ynt,{chain:r,balance:n}),d.jsx(Pu,{style:{marginTop:"1rem"},children:e}),d.jsxs(v6,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(Mo,{}),d.jsx(Jt,{})]})},y8=({wallet:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{var f;let h=Du(t.walletClientType);return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ap,{}),d.jsx(PP,{style:{marginTop:"16px"},children:d.jsx(Nse,{icon:(f=h==null?void 0:h.image_url)==null?void 0:f.md,name:t.walletClientType})}),d.jsx(Ao,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(zm,{children:[d.jsxs(Re,{children:[d.jsx(qe,{children:"Total"}),d.jsx(et,{children:l||a})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"To"}),d.jsx(et,{children:d.jsx(Dt,{address:r,showCopyIcon:!1})})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Network"}),d.jsx(et,{children:d.jsxs(xit,{children:[d.jsx(Vse,{chainId:n,height:16,width:16})," ",i]})})]}),c&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Estimated fee"}),d.jsx(et,{children:u||c})]})]}),d.jsx(MXe,{height:24}),d.jsx(Jt,{})]})};let xit=q.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const eoe={component:()=>{var $t,ht,it,ke,Te;let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Ne(),{navigate:i,setModalData:s,app:o,data:a}=De(),{wallets:l}=xl(),[c,u]=E.useState(!1),[h,f]=E.useState(0n),[p,g]=E.useState(!1),[m,w]=E.useState(null),[y,b]=E.useState(null),[v,C]=E.useState([]),[x,I]=E.useState(0),[$,R]=E.useState(!1),[T,L]=E.useState(!1),[U,W]=E.useState(!1),[M,A]=E.useState(!1),[_,S]=E.useState(),[O,P]=E.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:N,chain:D,connectedWalletAddress:F}=a.funding,k=a.funding.address,z=a.funding.erc20Address,[V,j]=E.useState(a.funding.amount);E.useEffect(()=>{z&&!N&&w(Error("Unable to fetch token details"))},[]);let G=!!z&&!!N,Q=G?BigInt(parseFloat(V)*10**N.decimals):WG(V),K=F?l.find(({address:fe})=>fe===F):l[0],re=Du((K==null?void 0:K.walletClientType)||"unknown"),le=(re==null?void 0:re.name)||"wallet",[ne,ae]=E.useState(null);E.useEffect(()=>{(async()=>{if(!K)return;let fe=await K.getEthereumProvider();ae(GK({account:K.address,transport:YK(fe)}).extend(T4))})().catch(console.error)},[K]);let[ye,de]=E.useState(0n);E.useEffect(()=>{Cu({chain:D,transport:fc(Tu(D,t,e))}).getBalance({address:k}).then(de).catch(console.error)},[]);let[he,Xe]=E.useState(0n);E.useEffect(()=>{G&&qP({chain:D,address:k,appId:e,rpcConfig:t,erc20Address:z}).then(fe=>Xe(fe.balance)).catch(console.error)},[]);let{tokenPrice:ie}=Lm(D.id),[xe,be]=E.useState({to:k,chain:D,value:Q,data:void 0});E.useEffect(()=>{(async()=>{let fe,Ve;if(!ne||!K||$||U)return;R(!0);let st=Cu({chain:xe.chain,transport:fc(Tu(xe.chain,t,e))});if(G&&!xe.data)return await st.simulateContract({address:z,chain:xe.chain,abi:cS,functionName:"transfer",args:[k,Q],account:K.address}).catch(Ke=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Ke)})?(R(!1),void be({to:z,chain:xe.chain,data:yi({abi:cS,functionName:"transfer",args:[k,Q]}),value:"0x0"})):(R(!1),void g(!0));try{fe=await st.prepareTransactionRequest({account:K.address,to:xe.to,chain:xe.chain,data:xe.data,value:BigInt(xe.value??0)})}catch(Ke){if(console.error(Ke),v.length>1)b(Ke.shortMessage??"Something went wrong");else if(T&&v.length===0)return void w(new J(`Wallet ${pi(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))}if(!fe)return R(!1),void g(!0);R(!1),W(!0),u(!0),f(fe.gas);try{await ne.switchChain({id:xe.chain.id})}catch{await ne.addChain({chain:xe.chain}),await ne.switchChain({id:xe.chain.id})}try{Ve=await ne.sendTransaction(fe)}catch(Ke){if(console.error(Ke),Ke.name==="TransactionExecutionError")if(v.length<1){let at=Ke.shortMessage;(Ke.shortMessage.includes("rejected the request")||Ke.details.includes("rejected the request"))&&(at="User rejected the request."),w(new J(at,void 0,ee.TRANSACTION_FAILURE))}else b(Ke.shortMessage??"Something went wrong")}if(Ve)return await ne.waitForTransactionReceipt({hash:Ve}),W(!1),T?(S(Ve),void P("pending")):(A(!0),void n({eventName:yl,payload:{provider:"external",status:"success",txHash:Ve,address:K.address,chainId:xe.chain.id,chainType:"ethereum",value:xe.value?Ln(BigInt(xe.value),(N==null?void 0:N.decimals)??18):void 0,token:(N==null?void 0:N.symbol)??z??"ETH",destinationAddress:k,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Q?Ln(Q,(N==null?void 0:N.decimals)??18):void 0,destinationToken:(N==null?void 0:N.symbol)??z??D.nativeCurrency.name}}));W(!1)})().catch(console.error)},[ne,xe]),E.useEffect(()=>{(async()=>{var bt;if(!p||!ne||!K)return;let fe=xI(o.chains).filter(Be=>Be.id!==D.id&&!!Be.testnet==!!D.testnet);G&&fe.unshift(D);let Ve=await qse({chains:fe,address:K.address,appId:e,rpcConfig:t,includeUsdc:(bt=a.funding)==null?void 0:bt.isUSDC}),st=G?Ve.filter(Be=>Be.balance>0n):Ve.filter(Be=>Be.balance>Q),Ke=G&&Ve.every(Be=>Be.balance===0n);if(st.length<1)return void w(new J(Ke?`Wallet ${pi(K.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${pi(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));st.sort((Be,Sr)=>Number(G?(Sr.erc20Balance??0n)-(Be.erc20Balance??0n):Sr.balance-Be.balance));let at=st.flatMap(Be=>{let Sr=[{...Be,isErc20Quote:!1,isTestnet:!!D.testnet,input:ug({amount:Q.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Be.chain.id})}];return G&&z&&(Be.erc20Balance??0n)>=Q&&Sr.push({...Be,isErc20Quote:!0,isTestnet:!!D.testnet,input:ug({amount:Q.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Be.chain.id,originCurrency:Be.erc20Address})}),Sr}),Pe=(await Promise.allSettled(at.map(async Be=>({...Be,quote:await pv(Be)})))).filter(Be=>Be.status==="fulfilled").map(Be=>Be.value);if(Pe.length<1)return void w(new J(`Wallet ${pi(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let dt=Pe.map(Be=>({bridgeTx:A6(Be.quote),balance:Be.balance,chain:Be.chain,erc20Balance:Be.erc20Balance,isErc20Quote:Be.isErc20Quote})).filter(Be=>!!Be.bridgeTx);if(dt.length>1)return void C(dt);let Et=dt[0];Et?(L(!0),be({data:Et.bridgeTx.data,to:Et.bridgeTx.to,value:Et.bridgeTx.value,chain:Et.chain})):w(new J(`Wallet ${pi(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),HP({transactionHash:_,wallet:K,isTestnet:!!D.testnet,bridgingStatus:O,setBridgingStatus:P,onSuccess({transactionHash:fe,wallet:Ve}){L(!1),A(!0),n({eventName:yl,payload:{provider:"external",status:"success",txHash:fe,address:Ve.address,chainId:xe.chain.id,chainType:"ethereum",value:xe.value?Ln(BigInt(xe.value),(N==null?void 0:N.decimals)??18):void 0,token:(N==null?void 0:N.symbol)??z??"ETH",destinationAddress:k,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Q?Ln(Q,(N==null?void 0:N.decimals)??18):void 0,destinationToken:(N==null?void 0:N.symbol)??z??D.nativeCurrency.name}})},onFailure({error:fe}){L(!1),w(fe)}}),E.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:Wm}}),i(qr,!1))},[m]);let se=!G&&ie?mie(V??"0",ie):void 0,we=G?h:IP([h,Q]),vt=we&&ie?kf(we,ie):void 0,ce=we?nl(we,($t=a==null?void 0:a.funding)!=null&&$t.erc20Address?((it=(ht=a==null?void 0:a.funding)==null?void 0:ht.erc20ContractInfo)==null?void 0:it.symbol)||"ETH":((ke=a==null?void 0:a.funding)==null?void 0:ke.chain.nativeCurrency.symbol)||"ETH"):void 0,Ie=h&&ie?kf(h,ie):void 0,Fe=h?nl(h,((Te=D==null?void 0:D.nativeCurrency)==null?void 0:Te.symbol)||"ETH"):void 0;if(E.useEffect(()=>{if(!M)return;let fe=setTimeout(r,Kx);return()=>clearTimeout(fe)},[M]),M)return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(bl,{}),d.jsxs(g2,{children:[d.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Success!",description:`Youve successfully added ${V} ${G?N.symbol:D.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]});let tt=G?`${$6({amount:he,decimals:N.decimals})}  ${N.symbol}`:nl(ye,D.nativeCurrency.symbol,3,!0),Qe=v[x];return v.length>1&&Qe?d.jsx(Xse,{displayName:le,configuredFundingChain:D,erc20ContractInfo:N,formattedBalance:tt,fundingAmount:V,fundingCurrency:G?N.symbol:D.nativeCurrency.symbol,fundingAmountInUsd:se,options:v,selectedOption:Qe,isPreparing:$,isSubmitting:U,addressToFund:k,fundingWalletAddress:(K==null?void 0:K.address)||"",errorMessage:y,onSubmit:()=>{var fe;((fe=a.funding)==null?void 0:fe.amount)!==V?async function(){if(K&&Qe)try{let Ve=await pv({isTestnet:!!D.testnet,input:ug({amount:Q.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Qe.chain.id})}),st=A6(Ve);if(!st)throw Error("Invalid transaction request");L(!0),be({data:st.data,to:st.to,value:st.value,chain:Qe.chain})}catch(Ve){console.error(Ve),w(new J("Unable to fetch quotes for bridging",Ve,ee.INSUFFICIENT_BALANCE))}}().catch(console.error):be({to:Qe.bridgeTx.to,data:Qe.bridgeTx.data,value:Qe.bridgeTx.value,chain:Qe.chain})},onSelect:fe=>{fe!==x&&(b(null),I(fe))},onAmountChange:j}):c&&h&&K&&(a!=null&&a.funding)?d.jsx(y8,{wallet:K,displayName:le,addressToFund:k,isBridging:T,isErc20Flow:G,totalPriceInUsd:vt,totalPriceInNativeCurrency:ce,gasPriceInUsd:Ie,gasPriceInNativeCurrency:Fe,chainId:D.id,chainName:D.name}):d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ap,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Jt,{})]})}},toe={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=Ne(),{navigate:r,setModalData:n,app:i,data:s}=De(),{wallets:o}=E2(),a=E.useRef(!1),l=Um(),[c,u]=E.useState(!1),[h,f]=E.useState(!1),[p,g]=E.useState(null),[m,w]=E.useState(),[y,b]=E.useState();if(!(s!=null&&s.funding)||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:C,chain:x,cluster:I,isUSDC:$}=s.funding,R=s.funding.address,T=s.funding.erc20Address,L=s.funding.isUSDC?"USDC":x.nativeCurrency.symbol,U=I??{name:"mainnet-beta"},W=C?o.find(({address:_})=>_===C):o[0],M=Du((W==null?void 0:W.walletClientType)||"unknown"),A=(M==null?void 0:M.name)||"wallet";return E.useEffect(()=>{(async function(){var N;if(!W||!x||a.current)return;let _=l(x2);if(!_)return void g(new J("Unable to solana plugin"));a.current=!0,x!=null&&x.testnet&&console.warn("Solana testnets are not supported for bridging");let S=$?1e6*parseFloat(v):WG(v),O=await pv({isTestnet:!!x.testnet,input:ug({amount:S.toString(),user:W.address,recipient:R,destinationChainId:x.id,originChainId:Wk,originCurrency:$?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":Hk,destinationCurrency:$?T:void 0})}).catch(console.error);if(!O)return void g(new J(`Unable to fetch quotes for bridging. Wallet ${f_(W.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let P=await _.createBridgeTransactionFromRelayQuote({quote:O,from:W.address,cluster:U});if(P)try{u(!0);let{connection:D,transaction:F}=P,k=await D.simulateTransaction(F);if(k.value.err)return(N=k.value.logs)!=null&&N.find(j=>/insufficient (lamports|funds)/gi.test(j))?void g(new J(`Wallet ${f_(W==null?void 0:W.address)} does not have enough funds. ${O.details.currencyIn.amountFormatted} ${L} are needed to complete the transaction.`,void 0,ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",k.value.err),void g(new J("Something went wrong",void 0,ee.TRANSACTION_FAILURE)));let z=await W.sendTransaction(F,D),V=await D.confirmTransaction(z);if(V.value.err)return console.error("Transaction failed:",V.value.err),void g(new J("Something went wrong",void 0,ee.TRANSACTION_FAILURE));w(z),b("pending")}catch(D){if(console.error(D),/user rejected the request/gi.test(D.message||""))return void g(new J("Transaction was rejected by the user",void 0,ee.TRANSACTION_FAILURE));g(new J("Something went wrong",void 0,ee.TRANSACTION_FAILURE))}else g(new J(`Unable to select bridge option from quotes. Wallet ${f_(W.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),HP({transactionHash:m,wallet:W,isTestnet:!1,bridgingStatus:y,setBridgingStatus:b,onSuccess({transactionHash:_,wallet:S}){u(!1),f(!0),e({eventName:yl,payload:{provider:"external",status:"success",txHash:_,address:S.address,chainType:"solana",clusterName:U.name,token:"SOL",destinationAddress:R,destinationChainId:x.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:$?"USDC":"ETH"}})},onFailure({error:_}){u(!1),g(_)}}),E.useEffect(()=>{if(!h)return;let _=setTimeout(t,Kx);return()=>clearTimeout(_)},[h]),E.useEffect(()=>{p&&(n({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:p,previousScreen:Wm}}),r(qr,!1))},[p]),h?d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(bl,{}),d.jsxs(g2,{children:[d.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Success!",description:`Youve successfully added ${v} ${L} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]}):c&&W?d.jsx(y8,{wallet:W,displayName:A,addressToFund:R,isBridging:c,isErc20Flow:!1,chainId:x.id,chainName:x.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ap,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Jt,{})]})}},LB={component:()=>{var f;let{data:t,setModalData:e}=De(),r=t==null?void 0:t.funding,n=r.chainType==="solana",i=E.useRef(null),{tokenPrice:s}=Lm(n?"solana":r.chain.id),o=n?void 0:r,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?(f=r.erc20ContractInfo)==null?void 0:f.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),u=!isNaN(c)&&c>0,h=s?mie(r.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ou,{children:"Confirm or edit amount"}),d.jsxs(t8,{style:{marginTop:"32px"},children:[d.jsx(Kse,{children:a?d.jsx(Ap,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs(Yse,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(wit,{ref:i,value:r.amount,onChange:p=>{let g=p.target.value;/^[0-9.]*$/.test(g)&&g.split(".").length-1<=1&&e({...t,funding:{...r,amount:g},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:g}:void 0})}}),d.jsx(Zse,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(Jse,{children:h&&u?`${h} USD`:""})]})}),d.jsx(v6,{style:{marginTop:"1rem"},disabled:!u,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(Jt,{})]})}},Wm={component:()=>{var x,I,$,R;let t,{connectors:e}=Ne(),{app:r,setModalData:n,data:i,navigate:s}=De(),{wallets:o}=xl(),{wallets:a}=E2(),[l,c]=E.useState("default"),u=((x=i==null?void 0:i.funding)==null?void 0:x.chainType)==="solana",h=!!((I=i==null?void 0:i.funding)!=null&&I.crossChainBridgingEnabled);t=(($=i==null?void 0:i.funding)==null?void 0:$.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let f=o.filter(T=>T.walletClientType!=="privy"),p=f.map(T=>T.walletClientType),g=a.filter(T=>T.walletClientType!=="privy"),m=g.map(T=>T.walletClientType),w=[],y={...i.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let b=({address:T,walletChainType:L,walletClientType:U})=>{n({...i,funding:{...y,connectedWalletAddress:T,onContinueWithExternalWallet:()=>s(C({destChainType:u?"solana":"ethereum",sourceChainType:L}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:T,walletClientType:U}}:void 0}),s(LB)};t!=="solana-only"&&w.push(...f.map((T,L)=>d.jsx(FB,{onClick:()=>b({address:T.address,walletChainType:"ethereum",walletClientType:T.walletClientType}),icon:T.meta.icon,name:T.meta.name,chainType:T.type},L))),t!=="ethereum-only"&&w.push(...g.map((T,L)=>d.jsx(FB,{onClick:()=>b({address:T.address,walletChainType:"solana",walletClientType:T.walletClientType}),icon:T.meta.icon,name:T.meta.name,chainType:T.type},L))),w.push(...Mse({walletList:r.appearance.walletList.filter(T=>!f.some(L=>L.walletClientType===T)&&!g.some(L=>L.walletClientType===T)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...p,...m],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let v=d.jsx(kse,{text:"More wallets",onClick:()=>c("overflow")}),C=({sourceChainType:T,destChainType:L})=>T==="ethereum"&&L==="solana"?moe:T==="ethereum"&&L==="ethereum"?eoe:T==="solana"&&L==="ethereum"?toe:y.externalSolanaFundingScreen;return E.useEffect(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:T,walletClientType:L,walletChainType:U})=>(n({...i,funding:{...y,onContinueWithExternalWallet:()=>{s(C({destChainType:u?"solana":"ethereum",sourceChainType:U??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:T||"",walletClientType:L||""}}:void 0}),LB)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(Ot,{backFn:()=>c("default")},"header"),d.jsxs(qk,{children:[d.jsx(fh,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),d.jsx(Jt,{})]}:{children:[d.jsx(Gs,{}),d.jsx(Ao,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(qk,{children:[w.length>4?w.slice(0,3):w,w.length>4&&v]}),d.jsx(Jt,{})]})}};let FB=({onClick:t,icon:e,name:r,chainType:n})=>d.jsxs(Kr,{onClick:t,children:[d.jsx(ty,{style:{width:20},children:d.jsx("img",{src:e})}),r,d.jsx(bc,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&d.jsx(bc,{color:"gray",children:"Solana"})]});const GP={component:()=>{var _,S;let{closePrivyModal:t,createAnalyticsEvent:e}=Ne(),{navigate:r,setModalData:n,app:i,data:s}=De(),{wallets:o}=E2(),a=Um(),[l,c]=E.useState(0n),[u,h]=E.useState(null),[f,p]=E.useState(!1),[g,m]=E.useState(!1),w=E.useRef(!1);if(!(s!=null&&s.funding)||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:y,amount:b,cluster:v,connectedWalletAddress:C}=s.funding,x=function({name:O,rpcUrl:P}){if(P)return P;switch(O){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(v),{tokenPrice:I}=Lm("solana"),{fundingAmountInBaseUnit:$,totalPriceInUsd:R,totalPriceInNativeCurrency:T,feePriceInNativeCurrency:L,feePriceInUsd:U}=wie({amount:b,fee:l,tokenPrice:I,isUsdc:s.funding.isUSDC}),W=C?o.find(({address:O})=>O===C):o[0],M=Du((W==null?void 0:W.walletClientType)||"unknown"),A=(M==null?void 0:M.name)||"wallet";return E.useEffect(()=>{(async()=>{var O,P,N,D;if((W==null?void 0:W.type)==="solana"&&W.sendTransaction&&!f&&!w.current){w.current=!0;try{let F=a(x2);if(!F)throw new J("Unable to load solana plugin");let{connection:k,transaction:z}=(O=s.funding)!=null&&O.isUSDC?await F.createSplTransferTransaction({from:W.address,to:y,amount:$,mintAddress:f3[v.name],cluster:v}):await F.createTransferTransaction({from:W.address,to:y,amount:$,cluster:v}),V=await z.getEstimatedFee(k);V!=null&&c(BigInt(V)),p(!0);let j=await k.simulateTransaction(z);if(j.value.err){let re=(P=j.value.logs)==null?void 0:P.find(ne=>/insufficient funds/gi.test(ne)),le=(N=j.value.logs)==null?void 0:N.find(ne=>/insufficient lamports/gi.test(ne));return re?void h(new J(`Wallet ${pi(W.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE)):le?void h(new J(`Wallet ${pi(W.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",j.value.err),void h(new J("Something went wrong",void 0,ee.TRANSACTION_FAILURE)))}let G=await W.sendTransaction(z,k),{value:Q,token:K}=(D=s.funding)!=null&&D.isUSDC?{value:Ln($,6),token:"USDC"}:{value:Ln($,9),token:"SOL"};e({eventName:yl,payload:{provider:"external",status:"success",txHash:G,rpcEndpoint:x,address:W.address,value:Q,chainType:"solana",clusterName:v.name,token:K,destinationAddress:y,destinationValue:Q,destinationChainType:"solana",destinationClusterName:v.name,destinationToken:K}}),p(!1),m(!0)}catch(F){if(console.error(F),p(!1),/user rejected the request/gi.test(F.message||""))return void h(new J("Transaction was rejected by the user",void 0,ee.TRANSACTION_FAILURE));h(new J("Something went wrong",void 0,ee.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>w.current=!1)},[]),E.useEffect(()=>{u&&(n({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:u,previousScreen:Wm}}),r(qr,!1))},[u]),E.useEffect(()=>{if(!g)return;let O=setTimeout(t,Kx);return()=>clearTimeout(O)},[g]),g?d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(bl,{}),d.jsxs(g2,{children:[d.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Success!",description:`Youve successfully added ${b} ${(_=s.funding)!=null&&_.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]}):W&&f?d.jsx(y8,{wallet:W,displayName:A,addressToFund:y,isBridging:!1,isErc20Flow:!!((S=s.funding)!=null&&S.isUSDC),totalPriceInUsd:R,totalPriceInNativeCurrency:T,gasPriceInUsd:U,gasPriceInNativeCurrency:L,chainId:"solana",chainName:v.name}):d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ap,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Jt,{})]})}},roe=({children:t,theme:e})=>d.jsxs(Eit,{$theme:e,children:[d.jsx(oP,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(_it,{$theme:e,children:t})]});let Eit=q.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),_it=q.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const Cit=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Ait=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),UB=t=>{let[e,r]=E.useState();return E.useEffect(()=>{t().then(n=>{r(n)}).catch(()=>{})},[]),e},noe=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=Cu({chain:e,transport:fc(Tu(e,r,n))}),[s,o]=await Promise.all([i.readContract({abi:BB,address:t,functionName:"symbol"}),i.readContract({abi:BB,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let BB=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const kit={component:()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=De(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Ne(),[a,l]=E.useState("pending-in-flow"),c=E.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return E.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(h)try{let{status:g}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(g==="success")return void l("success");if(g==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void r(Hs);f!=null&&f.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(g){console.error(g),l("error"),s({eventName:yl,payload:{status:"failure",provider:"coinbase-onramp",error:g.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(Hs)}},1500);return()=>clearInterval(p)}},[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(Ot,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),n()}},"header"),d.jsx(Sit,{status:a,onClickCta:i}),d.jsx(Jt,{})]})}};let Sit=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=E.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(Tit,{children:[d.jsx($it,{isSucccess:t==="success"}),d.jsxs(NP,{children:[d.jsx("h3",{children:r}),d.jsx(Iit,{children:n})]})]}),i&&d.jsx(fr,{onClick:e,children:i})]})},$it=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ya,{color:n,style:{position:"absolute"}}),d.jsx(kP,{color:n}),d.jsx(UZe,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(n=>n?dv:()=>d.jsx(hP,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),r=(n=>n?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Iit=q.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Tit=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),Pit={[Ea.id]:"ethereum",[xa.id]:"base",[xc.id]:"optimism",[Qs.id]:"polygon",[ba.id]:"arbitrum"};const zB=(t,e,r,n,i,s)=>new Promise(async(o,a)=>{let l=n8();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?function(g){let m=Pit[g];if(!m)throw new J(`Unsupported chainId: ${g} for Coinbase Onramp`);return m}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?w8e(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=m8e({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),n(kit),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout(()=>{r({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})},5e3),o()}),Nit=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),ioe={component:()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=De(),{closePrivyModal:i}=Ne(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=function(a,l=!1){let[c,u]=E.useState(null),{createAnalyticsEvent:h}=Ne(),{data:f,navigate:p,setModalData:g}=De(),m=f==null?void 0:f.funding,w=E.useRef(0);return E.useEffect(()=>{let y=setInterval(async()=>{var b,v;if(a)try{let[C]=await async function(I,$){return IQ(`${$?IZe:$Ze}/transactions/ext/${I}`,{query:{apiKey:$?PZe:TZe}})}(a,l),x=C.status==="waitingAuthorization"&&C.paymentMethod==="credit_debit_card"?"pending":C.status;if(["failed","completed","awaitingAuthorization"].includes(x)&&(h({eventName:yl,payload:{status:x,provider:WB,paymentMethod:C.paymentMethod,cardPaymentType:C.cardPaymentType,currency:(b=C.currency)==null?void 0:b.code,baseCurrencyAmount:C.baseCurrencyAmount,quoteCurrencyAmount:C.quoteCurrencyAmount,feeAmount:C.feeAmount,extraFeeAmount:C.extraFeeAmount,networkFeeAmount:C.networkFeeAmount,isSandbox:l}}),clearInterval(y)),x==="failed"||x==="serviceFailure")return g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f==null?void 0:f.solanaFundingData}),void p(Hs);u(x)}catch(C){((v=C.response)==null?void 0:v.status)!==404&&(w.current+=1),w.current>=3&&(h({eventName:yl,payload:{status:"serviceFailure",provider:WB}}),clearInterval(y),g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f==null?void 0:f.solanaFundingData}),p(Hs))}},3e3);return()=>clearInterval(y)},[a,w]),c}(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),r({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),n()}}),d.jsx(Oit,{status:o,onClickCta:i}),d.jsx(Jt,{})]})}};let Oit=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=E.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(jit,{children:[d.jsx(Mit,{status:t}),d.jsxs(NP,{children:[d.jsx("h3",{children:r}),d.jsx(Rit,{children:n})]})]}),i&&d.jsx(fr,{onClick:e,children:i})]})},Mit=({status:t})=>{if(!t||t==="pending"){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ya,{color:n,style:{position:"absolute"}}),d.jsx(kP,{color:n}),d.jsx(Nit,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(n=>{switch(n){case"completed":return dv;case"waitingAuthorization":return()=>d.jsx(hP,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),r=(n=>n?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Rit=q.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),jit=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Dit=async(t,e,r,n,i,s,o,a)=>{var p,g;let l=n8();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?((p=e.moonpayConfigOverride)==null?void 0:p.currencyCode)??qxe(e.chain.id,n):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:c,quoteCurrencyAmount:((g=e.moonpayConfigOverride)==null?void 0:g.quoteCurrencyAmount)??Uit(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=u;let f={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(ioe),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let soe=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const Lit=()=>soe("https://apple.com/apple-pay"),Fit=()=>soe("https://google.com/pay"),Hs={component:()=>{var v,C,x,I;let{wallets:t}=xl(),{wallets:e}=E2(),{navigate:r,data:n,setModalData:i}=De(),{client:s}=Ne(),o=rr(),a=n==null?void 0:n.funding,l=UB(Lit),c=UB(Fit),u=a.chainType==="solana",h=u?void 0:a,f=E.useMemo(()=>(($,R,T,L,U,W)=>{var F;let M,A,_=T.chainType==="solana",S=_?void 0:T,O=T.isUSDC?"USDC":S!=null&&S.erc20Address?void 0:"native-currency",P=!!_||O&&Hxe(Number(T.chain.id),O),N=!!_||O&&y8e(Number(T.chain.id),O),D=[];for(let k of(T.preferredCardProvider&&T.supportedOptions.sort(z=>z.provider===T.preferredCardProvider?-1:1),T.supportedOptions))k.method==="card"&&k.provider==="coinbase"&&N&&D.push(()=>zB(R,T,L,U,W,"buy")),k.method==="card"&&k.provider==="moonpay"&&P&&O&&D.push(()=>Dit(R,T,$,O,L,U,W,"credit_debit_card"));for(let k of T.supportedOptions)k.method==="exchange"&&k.provider==="coinbase"&&N&&(M=()=>zB(R,T,L,U,W,"buy"));for(let k of((F=W==null?void 0:W.funding)==null?void 0:F.supportedOptions)??[])k.method==="wallets"&&(A=()=>U(Wm));return{onFundWithCard:D,onFundWithExchange:M,onFundWithWallet:A}})(o,s,a,i,r,n),[o,s,a,n,i,r]),p=u?e.find(({address:$})=>$===a.address):t.find(({address:$})=>Ur($)===Ur(a.address)),g=Du((p==null?void 0:p.walletClientType)||"unknown"),m=(g==null?void 0:g.name)||"wallet",w=p&&p.walletClientType!=="privy"?m:o.name,y=E.useMemo(()=>{var $,R,T,L;return(R=($=a.uiConfig)==null?void 0:$.landing)!=null&&R.title?(L=(T=a.uiConfig)==null?void 0:T.landing)==null?void 0:L.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(C=(v=a.uiConfig)==null?void 0:v.landing)==null?void 0:C.title,w]);E.useEffect(()=>{if(a!=null&&a.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1},solanaFundingData:n==null?void 0:n.solanaFundingData}),a==null?void 0:a.defaultFundingMethod){case"card":f.onFundWithCard[0]&&f.onFundWithCard[0]();break;case"exchange":f.onFundWithExchange&&f.onFundWithExchange();break;case"wallet":f.onFundWithWallet&&f.onFundWithWallet();break;case"manual":r(I6)}},[]),E.useEffect(()=>{h!=null&&h.erc20Address&&!h.erc20ContractInfo&&noe({address:h.erc20Address,chain:h.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then($=>{i({...n,funding:{...h,erc20ContractInfo:$?{symbol:$.symbol,decimals:$.decimals}:void 0}})}).catch(console.error)},[h==null?void 0:h.erc20Address,h==null?void 0:h.chain]);let b=!(!(h!=null&&h.erc20Address)||h!=null&&h.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx("h3",{children:y}),d.jsxs(yit,{children:[a.errorMessage&&d.jsx(roe,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),((x=f.onFundWithCard)==null?void 0:x[0])&&d.jsxs(Kr,{disabled:b,onClick:f.onFundWithCard[0],children:[d.jsx(ty,{children:d.jsx(cQe,{style:{width:24}})}),"Pay with card",l?d.jsx(Cit,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?d.jsx(Ait,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),f.onFundWithExchange&&d.jsxs(Kr,{disabled:b,onClick:f.onFundWithExchange,children:[d.jsx(ty,{children:d.jsx(hP,{style:{width:24}})}),"Transfer from an exchange"]}),f.onFundWithWallet&&d.jsxs(Kr,{disabled:b,onClick:f.onFundWithWallet,children:[d.jsx(ty,{children:d.jsx(hse,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Kr,{disabled:b,onClick:()=>r(I6),children:[d.jsx(ty,{children:d.jsx($Qe,{style:{width:24}})}),"Receive funds"]}),(a==null?void 0:a.showAlternateFundingMethod)&&((I=f.onFundWithCard)==null?void 0:I[1])&&d.jsx(Use,{theme:o.appearance.palette.colorScheme,children:d.jsxs(vit,{children:["Having trouble or facing location restrictions?"," ",d.jsx(bit,{onClick:f.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(Jt,{})]})}},WB="moonpay";function Uit(t){return parseFloat(t)}function Bit(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function N_(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const HB={[Ea.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vI.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[xc.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[M4.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Qs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Bv.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[xa.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[N4.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[ym.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[wI.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ba.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[P4.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},qB=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=VP(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(N_(r)&&r.chain?r.chain.id:Lie(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(m=>m.id===o);if(!c)throw new J(`Funding chain ${o} is not in PrivyProvider chains list`);let u=N_(r)&&r.amount?r.amount:e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let m=HB[o];l.find(w=>w.method==="wallets")&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,h=!0}N_(r)&&"asset"in r?r.asset==="USDC"?f():typeof r.asset!="string"&&"erc20"in r.asset&&(h=((m,w)=>m===HB[w.id])(a=r.asset.erc20,c)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let p=r==null?void 0:r.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:(g=r==null?void 0:r.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...Bit(r)?{moonpayConfigOverride:r.config}:{},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0,externalSolanaFundingScreen:GP}};function zit({address:t,fundWalletConfig:e,appConfig:r,comingFromSendTransactionScreen:n,externalSolanaFundingScreen:i,methodScreen:s}){var c,u,h,f;if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let o=VP(r.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if((e==null?void 0:e.asset)==="USDC"&&((c=e==null?void 0:e.cluster)==null?void 0:c.name)==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let a=(e==null?void 0:e.amount)??r.fundingConfig.defaultRecommendedAmount,l=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:(e==null?void 0:e.asset)==="USDC",methodScreen:s,comingFromSendTransactionScreen:n,cluster:{name:((u=e==null?void 0:e.cluster)==null?void 0:u.name)??"mainnet-beta",rpcUrl:r.solanaClusters[((h=e==null?void 0:e.cluster)==null?void 0:h.name)??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:l,preferredCardProvider:(f=e==null?void 0:e.card)==null?void 0:f.preferredProvider,usingDefaultFundingMethod:!!l,uiConfig:e==null?void 0:e.uiConfig,externalSolanaFundingScreen:i}}const ooe=({children:t,theme:e})=>d.jsxs(Wit,{$theme:e,children:[d.jsx(fp,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Hit,{$theme:e,children:t})]});let Wit=q.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Hit=q.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const qit=({address:t,accessToken:e,appConfigTheme:r,onClose:n,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Gt,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:n,watermark:!0,children:d.jsxs(Vit,{children:[d.jsx(ooe,{theme:r,children:"Never share your private key or seed phrase with anyone."}),d.jsx(m8,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(Git,{}):e&&s&&d.jsx(Qit,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let Vit=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),Git=()=>d.jsx(Kit,{children:d.jsx(Yit,{children:"Loading..."})}),Kit=q.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),Yit=q.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Qit(t){let[e,r]=E.useState(t.dimensions.width),[n,i]=E.useState(void 0),s=E.useRef(null);E.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(Zit,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:Wne(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n},{token:t.accessToken})}),d.jsx(VB,{children:"Loading..."}),o&&d.jsx(VB,{children:"Loading..."})]})})}const hS={component:()=>{let[t,e]=E.useState(null),{authenticated:r,user:n}=Ut(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=Ne(),l=rr(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=De(),{onFailure:h,onSuccess:f,origin:p,appId:g,appClientId:m,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,chainType:C,address:x,isUnifiedWallet:I,imported:$}=c.keyExport,R=L=>{i({shouldCallAuthOnSuccess:!1}),h(typeof L=="string"?Error(L):L)},T=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:x}})};return E.useEffect(()=>{if(!r)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[r,n]),u.current=T,d.jsx(qit,{address:x,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:T,isLoading:!t,exportButtonProps:t?{origin:p,appId:g,appClientId:m,clientAnalyticsId:o,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,isUnifiedWallet:I,imported:$,chainType:C}:void 0})}};let Zit=q.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),VB=q.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const Jit=({connectionFailed:t,onClose:e})=>d.jsx(Gt,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:bx,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),yd={component:()=>{let{authenticated:t,user:e}=Ut(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=Ne(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=De(),u=E.useMemo(()=>Date.now(),[]),[h,f]=E.useState(!1),{onCompleteNavigateTo:p,onFailure:g,shouldForceMFA:m,entropyId:w,entropyIdVerifier:y,recoveryMethod:b,connectingWalletAddress:v,isUnifiedWallet:C=!1}=a==null?void 0:a.connectWallet,x=I=>{h||(f(!0),g(typeof I=="string"?Error(I):I))};return E.useEffect(()=>{let I;return t?s?((async()=>{let $=await r.getAccessToken();if(!$)return x("User must be authenticated and have a Privy wallet before it can be connected");try{C||await s.connect({accessToken:$,entropyId:w,entropyIdVerifier:y}),m&&await s.verifyMfa({accessToken:$});let R=(Date.now()-u)/1e3;p===hS&&R<1?I=setTimeout(()=>{o(p,!1)},1e3*(1-R)):o(p,!1)}catch(R){if(fv(R)&&b==="privy"){let T=await r.getAccessToken();if(!T)return x("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:v}});let L=await(s==null?void 0:s.recover({accessToken:T,entropyId:w,entropyIdVerifier:y}));L!=null&&L.entropyId||x(Error("Unable to recover wallet")),p?o(p):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:v}}),o(p)}catch{x("An error has occurred, please try again.")}}else fv(R)&&b!=="privy"&&b!=="privy-v2"?(l({...a,recoverWallet:{entropyId:w,entropyIdVerifier:y,onCompleteNavigateTo:p,onFailure:g},recoveryOAuthStatus:{provider:b,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(Fse(b))):x(R)}})(),()=>clearTimeout(I)):void 0:x("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),c.current=()=>{x("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})},d.jsx(Jit,{connectionFailed:h,onClose:()=>n({shouldCallAuthOnSuccess:!1})})}},aoe=q(qe).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var GB=({iconUrl:t,value:e,symbol:r,usdValue:n,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(KB,{$isLoading:a});let l=e&&n&&o?function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let g=Math.ceil(-Math.log10(.01/(p/f))),m=Math.pow(10,g=Math.max(g=Math.min(g,u),1)),w=+(Math.floor(f*m)/m).toFixed(g).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(w)}(e,o,n):e;return d.jsxs("div",{children:[d.jsxs(KB,{$isLoading:a,children:[t&&d.jsx(est,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",r]}),n&&d.jsxs(Xit,{$isLoading:a,children:["$",n]})]})};let KB=q.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],f8);const Xit=q.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],f8);let est=q.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const tst=t=>{var a,l,c,u,h,f,p,g;let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:o}=r;return d.jsx(g8,{children:d.jsxs(zm,{children:[s!=="transaction"&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Action"}),d.jsx(et,{children:o})]}),o==="mint"&&"args"in r&&r.args.filter(m=>m).map((m,w)=>{var y,b;return d.jsxs(Re,{children:[d.jsx(qe,{children:`Param ${w}`}),d.jsx(et,{children:typeof m=="string"&&wn(m)?d.jsx(Dt,{address:m,url:(b=(y=e==null?void 0:e.blockExplorers)==null?void 0:y.default)==null?void 0:b.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},w)}),o==="setApprovalForAll"&&r.operator&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Operator"}),d.jsx(et,{children:d.jsx(Dt,{address:r.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&r.approved!==void 0&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Set approval to"}),d.jsx(et,{children:r.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount"}),d.jsxs(et,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token ID"}),d.jsx(et,{children:r.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in r&&r.amounts&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Amounts"}),d.jsx(et,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token IDs"}),d.jsx(et,{children:r.tokenIds.join(", ")})]})]}),o==="approve"&&r.spender&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Spender"}),d.jsx(et,{children:d.jsx(Dt,{address:r.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferFrom&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Transferring from"}),d.jsx(et,{children:d.jsx(Dt,{address:r.transferFrom,url:(f=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:f.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferTo&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Transferring to"}),d.jsx(et,{children:d.jsx(Dt,{address:r.transferTo,url:(g=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:g.url,showCopyIcon:!1})})]})]})})},rst=({variant:t,setPreventMaliciousTransaction:e,colorScheme:r="light",preventMaliciousTransaction:n})=>t==="warn"?d.jsx(YB,{children:d.jsxs(ooe,{theme:r,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(YB,{children:[d.jsx(roe,{theme:r,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(nst,{children:[d.jsx(Gie,{color:"var(--privy-color-error)",checked:!n,readOnly:!0,onClick:()=>e(!n)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let YB=q.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),nst=q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const ist=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,sst=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:g,chain:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,isTokenContractInfoLoading:v,isSponsored:C,symbol:x,balance:I,onClick:$,transactionDetails:R,transactionIndex:T,maxIndex:L,onBack:U,chainName:W,validation:M,hasScanDetails:A,setIsScanDetailsOpen:_,preventMaliciousTransaction:S,setPreventMaliciousTransaction:O,tokensSent:P,tokensReceived:N,isScanning:D,isCancellable:F,functionName:k})=>{var re,le,ne,ae,ye,de;let{showTransactionDetails:z,setShowTransactionDetails:V,hasMoreDetails:j,isErc20Ish:G}=(he=>{let[Xe,ie]=E.useState(!1),xe=!0,be=!1;return(!he||he.isErc20Ish||he.action==="transaction")&&(xe=!1),xe&&(be=Object.entries(he||{}).some(([se,we])=>we&&!["action","isErc20Ish","isNFTIsh"].includes(se))),{showTransactionDetails:Xe,setShowTransactionDetails:ie,hasMoreDetails:xe&&be,isErc20Ish:he==null?void 0:he.isErc20Ish}})(R),Q=rr(),K=G&&v||y||b||D;return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:n,backFn:U}),t&&d.jsx(uoe,{children:t}),d.jsxs(Ou,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(ist,{maxIndex:L,transactionIndex:T})]}),d.jsx(fh,{children:o}),d.jsxs(zm,{style:{marginTop:"2rem"},children:[(!!P[0]||K)&&d.jsxs(Re,{children:[N.length>0?d.jsx(qe,{children:"Send"}):d.jsx(qe,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:P.map((he,Xe)=>d.jsx(GB,{iconUrl:he.iconUrl,value:k==="setApprovalForAll"?"All":he.value,usdValue:he.usdValue,symbol:he.symbol,nftName:he.nftName,nftCount:he.nftCount,decimals:he.decimals},Xe))})]}),N.length>0&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:N.map((he,Xe)=>d.jsx(GB,{iconUrl:he.iconUrl,value:he.value,usdValue:he.usdValue,symbol:he.symbol,nftName:he.nftName,nftCount:he.nftCount,decimals:he.decimals},Xe))})]}),R&&"spender"in R&&(R!=null&&R.spender)?d.jsxs(Re,{children:[d.jsx(qe,{children:"Spender"}),d.jsx(et,{children:d.jsx(Dt,{address:R.spender,url:(le=(re=m==null?void 0:m.blockExplorers)==null?void 0:re.default)==null?void 0:le.url})})]}):null,a&&d.jsxs(Re,{children:[d.jsx(qe,{children:"To"}),d.jsx(et,{children:d.jsx(Dt,{address:a,url:(ae=(ne=m==null?void 0:m.blockExplorers)==null?void 0:ne.default)==null?void 0:ae.url,showCopyIcon:!0})})]}),l&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token address"}),d.jsx(et,{children:d.jsx(Dt,{address:l,url:(de=(ye=m==null?void 0:m.blockExplorers)==null?void 0:ye.default)==null?void 0:de.url})})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Network"}),d.jsx(et,{children:c})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Estimated fee"}),d.jsx(et,{$isLoading:y||b||C===void 0,children:C?d.jsxs(ast,{children:[d.jsxs(lst,{children:["Sponsored by ",Q.name]}),d.jsx(ZYe,{height:16,width:16})]}):h})]}),j&&!A&&d.jsxs(d.Fragment,{children:[d.jsx(Re,{className:"cursor-pointer",onClick:()=>V(!z),children:d.jsxs(Vnt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(sx,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&R&&d.jsx(tst,{action:i,chain:m,transactionDetails:R,isTokenContractInfoLoading:v,symbol:x})]}),A&&d.jsx(Re,{children:d.jsxs(aoe,{onClick:()=>_(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(U7e,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(dh,{}),e?d.jsx(Pu,{style:{marginTop:"2rem"},children:e.message}):r&&T===0?d.jsx(Pu,{style:{marginTop:"2rem"},children:r.shortMessage??coe}):null,d.jsx(rst,{variant:M,preventMaliciousTransaction:S,setPreventMaliciousTransaction:O}),d.jsx(loe,{$useSmallMargins:!(!r&&!e&&M!=="warn"&&M!=="error"),address:f,balance:I,errMsg:y||r||e||!u?void 0:`Add funds on ${(m==null?void 0:m.name)??W} to complete transaction.`}),d.jsx(fr,{style:{marginTop:"1rem"},loading:w,disabled:g||y,onClick:$,children:p}),F&&d.jsx(Xx,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),d.jsx(Jt,{})]})},ost=({img:t,title:e,subtitle:r,cta:n,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:l,parseError:c,total:u,swap:h,transactingWalletAddress:f,fee:p,balance:g,disabled:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,onClick:v,onClose:C,onBack:x})=>{let I=y||b,[$,R]=E.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:C,backFn:x}),t&&d.jsx(uoe,{children:t}),d.jsx(Ou,{style:{marginTop:t?"1.5rem":0},children:e}),d.jsx(fh,{children:r}),d.jsxs(zm,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||I)&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount"}),d.jsx(et,{$isLoading:I,children:u})]}),h&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Swap"}),d.jsx(et,{children:h})]}),s&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Network"}),d.jsx(et,{children:s})]}),(p||I)&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Estimated fee"}),d.jsx(et,{$isLoading:I,children:p})]})]}),d.jsx(Re,{children:d.jsxs(aoe,{onClick:()=>R(T=>!T),children:[d.jsx("span",{children:"Advanced"}),d.jsx(sx,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:$?"rotate(180deg)":void 0}})]})}),$&&d.jsx(d.Fragment,{children:i.map((T,L)=>T.type==="sol-transfer"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Transfer ",T.withSeed?"with seed":""]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount"}),d.jsxs(et,{children:[Xi({amount:T.value,decimals:T.token.decimals})," ",T.token.symbol]})]}),!!T.toAccount&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Destination"}),d.jsx(et,{children:d.jsx(Dt,{address:T.toAccount,url:o})})]})]},L):T.type==="spl-transfer"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Transfer ",T.token.symbol]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount"}),d.jsx(et,{children:T.value.toString()})]}),!!T.fromAta&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Source"}),d.jsx(et,{children:d.jsx(Dt,{address:T.fromAta,url:o})})]}),!!T.toAta&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Destination"}),d.jsx(et,{children:d.jsx(Dt,{address:T.toAta,url:o})})]}),!!T.token.address&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token"}),d.jsx(et,{children:d.jsx(Dt,{address:T.token.address,url:o})})]})]},L):T.type==="ata-creation"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsx(Ss,{children:"Create token account"})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Program ID"}),d.jsx(et,{children:d.jsx(Dt,{address:T.program,url:o})})]}),!!T.owner&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Owner"}),d.jsx(et,{children:d.jsx(Dt,{address:T.owner,url:o})})]})]},L):T.type==="create-account"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Create account ",T.withSeed?"with seed":""]})}),!!T.account&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Account"}),d.jsx(et,{children:d.jsx(Dt,{address:T.account,url:o})})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount"}),d.jsxs(et,{children:[Xi({amount:T.value,decimals:9})," SOL"]})]})]},L):T.type==="spl-init-account"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsx(Ss,{children:"Initialize token account"})}),!!T.account&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Account"}),d.jsx(et,{children:d.jsx(Dt,{address:T.account,url:o})})]}),!!T.mint&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Mint"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mint,url:o})})]}),!!T.owner&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Owner"}),d.jsx(et,{children:d.jsx(Dt,{address:T.owner,url:o})})]})]},L):T.type==="spl-close-account"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsx(Ss,{children:"Close token account"})}),!!T.source&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Source"}),d.jsx(et,{children:d.jsx(Dt,{address:T.source,url:o})})]}),!!T.destination&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Destination"}),d.jsx(et,{children:d.jsx(Dt,{address:T.destination,url:o})})]}),!!T.owner&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Owner"}),d.jsx(et,{children:d.jsx(Dt,{address:T.owner,url:o})})]})]},L):T.type==="spl-sync-native"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsx(Ss,{children:"Sync native"})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Program ID"}),d.jsx(et,{children:d.jsx(Dt,{address:T.program,url:o})})]})]},L):T.type==="raydium-swap-base-input"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Raydium swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount in"}),d.jsx(et,{children:T.amountIn.toString()})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Minimum amount out"}),d.jsx(et,{children:T.minimumAmountOut.toString()})]}),T.mintIn&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token in"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token out"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintOut,url:o})})]})]},L):T.type==="raydium-swap-base-output"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Raydium swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Max amount in"}),d.jsx(et,{children:T.maxAmountIn.toString()})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount out"}),d.jsx(et,{children:T.amountOut.toString()})]}),T.mintIn&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token in"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token out"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintOut,url:o})})]})]},L):T.type==="jupiter-swap-shared-accounts-route"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Jupiter swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"In amount"}),d.jsx(et,{children:T.inAmount.toString()})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Quoted out amount"}),d.jsx(et,{children:T.quotedOutAmount.toString()})]}),T.mintIn&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token in"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token out"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintOut,url:o})})]})]},L):T.type==="jupiter-swap-exact-out-route"?d.jsxs(Wo,{children:[d.jsx(Re,{children:d.jsxs(Ss,{children:["Jupiter swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Quoted in amount"}),d.jsx(et,{children:T.quotedInAmount.toString()})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Amount out"}),d.jsx(et,{children:T.outAmount.toString()})]}),T.mintIn&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token in"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Token out"}),d.jsx(et,{children:d.jsx(Dt,{address:T.mintOut,url:o})})]})]},L):d.jsxs(Wo,{children:[d.jsxs(Re,{children:[d.jsx(qe,{children:"Program ID"}),d.jsx(et,{children:d.jsx(Dt,{address:T.program,url:o})})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Data"}),d.jsx(et,{children:T.discriminator})]})]},L))}),d.jsx(dh,{}),l?d.jsx(Pu,{style:{marginTop:"2rem"},children:l.message}):c?d.jsx(Pu,{style:{marginTop:"2rem"},children:coe}):null,d.jsx(loe,{$useSmallMargins:!(!c&&!l),title:"Your wallet",address:f,balance:g,errMsg:y||c||l||!a?void 0:"Add funds on Solana to complete transaction."}),d.jsx(fr,{style:{marginTop:"1rem"},loading:w,disabled:m||y,onClick:v,children:n}),d.jsx(Jt,{})]})};let loe=q(m8).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),Wo=q(zm).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),coe="There was an error preparing your transaction. Your transaction request will likely fail.",uoe=q.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),ast=q.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),lst=q.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),cst=()=>d.jsxs(fst,{children:[d.jsx(gst,{}),d.jsx(pst,{})]});const doe=({transactionError:t,chainId:e,onClose:r,onRetry:n,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=Ne(),[l,c]=E.useState(!1),{errorCode:u,errorMessage:h}=((p,g)=>{if(g==="ethereum")return{errorCode:p.details??p.message,errorMessage:p.shortMessage};let m=p.txSignature,w=(p==null?void 0:p.transactionMessage)||"Something went wrong.";if(Array.isArray(p.logs)){let y=p.logs.find(b=>/insufficient (lamports|funds)/gi.test(b));y&&(w=y)}return{transactionHash:m,errorMessage:w}})(t,i),f=(({chains:p,chainId:g,network:m,rpcEndpoint:w,transactionHash:y})=>{var b,v;return m==="ethereum"?((v=(b=p.find(C=>C.id===g))==null?void 0:b.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":function(C,x){return`https://explorer.solana.com/tx/${C}?cluster=${x}`}(y||"",Dm(w||""))})({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:r}),d.jsxs(ust,{children:[d.jsx(cst,{}),d.jsx(dst,{children:u}),d.jsx(hst,{children:"Please try again."}),d.jsxs(ZB,{children:[d.jsx(QB,{children:"Error message"}),d.jsx(JB,{$clickable:!1,children:h})]}),o&&d.jsxs(ZB,{children:[d.jsx(QB,{children:"Transaction hash"}),d.jsxs(yst,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:f,children:"block explorer"})}),"."]}),d.jsxs(JB,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),c(!0)},children:[o,d.jsx(bst,{clicked:l})]})]}),d.jsx(mst,{onClick:()=>n({resetNonce:!!o}),children:"Retry transaction"})]}),d.jsx(mn,{})]})};let ust=q.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),dst=q.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),hst=q.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),fst=q.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),pst=q(oP).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),gst=q.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),mst=q(fr).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),QB=q.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),ZB=q.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),yst=q.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),JB=q.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),wst=q(sQe).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),vst=q(ene).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),bst=({clicked:t})=>d.jsx(t?vst:wst,{});const xst=q.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),Est=({instruction:t,fees:e,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>d.jsxs(zm,{children:[(r==null?void 0:r.action)&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Action"}),d.jsx(et,{children:r.action})]}),(t==null?void 0:t.total)!=null&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Total"}),d.jsx(et,{children:t.total})]}),!(t!=null&&t.total)&&(t==null?void 0:t.amount)!=null&&d.jsxs(Re,{children:[d.jsx(qe,{children:"Total"}),d.jsx(et,{children:d.jsx(pB,{quantities:[t.amount,e],tokenPrice:n})})]}),d.jsxs(Re,{children:[d.jsx(qe,{children:"Fees"}),d.jsx(et,{children:d.jsx(pB,{quantities:[e],tokenPrice:n})})]}),(t==null?void 0:t.to)&&d.jsxs(Re,{children:[d.jsx(qe,{children:"To"}),d.jsx(et,{children:d.jsx(Gk,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),_st=({fees:t,onClose:e,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:l})=>d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:e}),d.jsx(OP,{style:{marginBottom:"16px"},children:d.jsxs("div",{children:[d.jsx(xst,{color:"var(--privy-color-success-light)"}),d.jsx(jm,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),d.jsx(Ao,{title:r??`Transaction ${a?"signed":"complete"}!`,description:n??"You're all set."}),d.jsx(Est,{solPrice:s,instruction:l,fees:t,transactionInfo:i,rpcEndpoint:o}),d.jsx(dh,{}),d.jsx(Cst,{loading:!1,onClick:e,children:"Close"}),d.jsx(Mo,{}),d.jsx(Jt,{})]});let Cst=q(fr).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Ast={component:()=>{var F,k,z,V,j,G,Q,K,re,le,ne,ae,ye,de,he,Xe,ie,xe;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=De(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=Ne(),l=rr(),{user:c}=Ut(),[u,h]=E.useState((F=t==null?void 0:t.sendSolanaTransaction)==null?void 0:F.transactionRequest),[f,p]=E.useState(),[g,m]=E.useState(),[w,y]=E.useState({value:0n,isLoading:!1}),[b,v]=E.useState(!1),[C,x]=E.useState(),[I,$]=E.useState(),R=(k=t==null?void 0:t.sendSolanaTransaction)==null?void 0:k.connection,T=(z=t==null?void 0:t.sendSolanaTransaction)==null?void 0:z.transactingWallet,L=!!((V=t==null?void 0:t.sendSolanaTransaction)!=null&&V.signOnly),U=T!=null&&T.imported?V4(c):fa(c),W=Dm((R==null?void 0:R.rpcEndpoint)||""),{solPrice:M,isSolPriceLoading:A}=Iie({enabled:a}),_=E.useMemo(()=>{if(!f)return;let be=f.spender,se=eh(f.fee),we=eh(w.value,3,!0),vt=f.instructions.filter(Ie=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(Ie.type)),ce=vt.at(0);return!ce||vt.length>1?{fee:se,spender:be,balance:we}:ce.type==="sol-transfer"?{fee:se,spender:be,balance:we,total:eh(ce.value)}:ce.type==="spl-transfer"?{fee:se,spender:be,balance:we,total:`${Xi({amount:ce.value,decimals:ce.token.decimals})} ${ce.token.symbol}`}:ce.type==="raydium-swap-base-input"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:be,balance:we,swap:`${`${Xi({amount:ce.amountIn,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Xi({amount:ce.minimumAmountOut,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="raydium-swap-base-output"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:be,balance:we,swap:`${`${Xi({amount:ce.maxAmountIn,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Xi({amount:ce.amountOut,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="jupiter-swap-shared-accounts-route"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:be,balance:we,swap:`${`${Xi({amount:ce.inAmount,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Xi({amount:ce.quotedOutAmount,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="jupiter-swap-exact-out-route"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:be,balance:we,swap:`${`${Xi({amount:ce.quotedInAmount,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Xi({amount:ce.outAmount,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:{fee:se,spender:be,balance:we}},[f,T==null?void 0:T.address,w]),S=E.useMemo(()=>{let be;if(!f||!a||!M||A)return;function se(...ce){return Dy(ce.reduce((Ie,Fe)=>Ie+Fe,0n),M??0)}(T==null?void 0:T.address)===f.spender&&(be=se(f.fee));let we=se(w.value),vt=f.instructions.filter(ce=>ce.type==="sol-transfer"||ce.type==="spl-transfer").at(0);return!vt||f.instructions.length>1?{fee:be,balance:we}:vt.type==="sol-transfer"?{fee:be,balance:we,total:se(vt.value,(T==null?void 0:T.address)===f.spender?f.fee:0n)}:vt.type==="spl-transfer"?{fee:be,balance:we,total:`${Xi({amount:vt.value,decimals:vt.token.decimals})} ${vt.token.symbol}`}:{fee:be,balance:we}},[f,a,M,A,T==null?void 0:T.address,w]);if(E.useEffect(()=>{(async function(){if(u&&R&&i)try{m(void 0);let be=await CXe({tx:u,connection:R,client:i,checkFunds:!L});p(be)}catch(be){console.error("Failed to prepare transaction",be),m(be)}})()},[u,R,i,L]),E.useEffect(()=>{(async function(){if(!T||!R)return;y({value:w.value,isLoading:!0});let be=new v8e({name:"mainnet-beta",rpcUrl:R.rpcEndpoint});y({value:await be.getBalance(T.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[f,R]),!(u&&(t!=null&&t.sendSolanaTransaction)&&T&&R)){let be=Error("Invalid transaction request");return d.jsx(w2,{error:be,allowlistConfig:l.allowlistConfig,onRetry:()=>{var se;(se=t==null?void 0:t.sendSolanaTransaction)==null||se.onFailure(be),s({shouldCallAuthOnSuccess:!1})}})}let O=()=>{var be,se;if(!b)return C?(be=t==null?void 0:t.sendSolanaTransaction)==null||be.onSuccess(C):(se=t==null?void 0:t.sendSolanaTransaction)==null||se.onFailure(I??g??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=O;let P=(K=(Q=(G=(j=t.sendSolanaTransaction)==null?void 0:j.uiOptions)==null?void 0:G.transactionInfo)==null?void 0:Q.contractInfo)!=null&&K.imgUrl?d.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,N=!!(t.funding&&t.funding.supportedOptions.length>0),D=!(f!=null&&f.hasFunds)&&N;if(C){let be=f==null?void 0:f.instructions.filter(we=>we.type==="sol-transfer"||we.type==="spl-transfer"),se=(be==null?void 0:be.length)===1?be==null?void 0:be.at(0):void 0;return d.jsx(_st,{fees:C.fees,onClose:O,transactionInfo:(re=t.sendSolanaTransaction)==null?void 0:re.uiOptions.transactionInfo,solPrice:M,receiptHeader:(le=t.sendSolanaTransaction)==null?void 0:le.uiOptions.successHeader,receiptDescription:(ne=t.sendSolanaTransaction)==null?void 0:ne.uiOptions.successDescription,rpcEndpoint:R.rpcEndpoint,signOnly:L,instruction:(se==null?void 0:se.type)==="sol-transfer"?{to:se.toAccount,amount:se.value}:{to:(se==null?void 0:se.toAccount)||(se==null?void 0:se.toAta),total:_==null?void 0:_.total}})}return I?d.jsx(doe,{transactionError:I,rpcEndpoint:R.rpcEndpoint,onClose:O,network:"solana",onRetry:async()=>{$(void 0);let{blockhash:be}=await R.getLatestBlockhash();hh(u)?u.message.recentBlockhash=be:u.recentBlockhash=be,h(u)}}):d.jsx(ost,{img:P,title:((de=(ye=(ae=t.sendSolanaTransaction)==null?void 0:ae.uiOptions)==null?void 0:ye.transactionInfo)==null?void 0:de.title)||"Confirm transaction",subtitle:((Xe=(he=t.sendSolanaTransaction)==null?void 0:he.uiOptions)==null?void 0:Xe.description)||`${l.name} wants your permission to approve the following transaction.`,cta:D?"Add funds":((xe=(ie=t.sendSolanaTransaction)==null?void 0:ie.uiOptions)==null?void 0:xe.buttonText)||"Approve",instructions:(f==null?void 0:f.instructions)??[],network:W=="mainnet-beta"?"Solana":W,blockExplorerUrl:l.solanaClusters[W].blockExplorerUrl,total:a?S==null?void 0:S.total:_==null?void 0:_.total,fee:a?S==null?void 0:S.fee:_==null?void 0:_.fee,balance:a?S==null?void 0:S.balance:_==null?void 0:_.balance,swap:_==null?void 0:_.swap,transactingWalletAddress:T.address,disabled:!(f!=null&&f.hasFunds)&&!N,isSubmitting:b,isPreparing:!f||w.isLoading,isTokenPriceLoading:a&&A,isMissingFunds:!(f!=null&&f.hasFunds),submitError:I??void 0,parseError:g,onClick:D?async()=>{if(T){if(!N)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Hs},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(Hs)}}:async()=>{try{if(v(!0),b||!T||!o||!c||!U)return;let be=await t.sendSolanaTransaction.onConfirm();x(be)}catch(be){console.warn({transaction:u,error:be}),$(be)}finally{v(!1)}},onClose:O})}},kst=({privy:t,appConfig:e,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:l,signWithUserSigner:c,recoverEmbeddedWallet:u,connectedExternalWallet:h},{transaction:f,connection:p,transactionOptions:g,fundWalletConfig:m,uiOptions:w,address:y,signOnly:b})=>new Promise(async(v,C)=>{let{requesterAppId:x}=w||{},I="sendSolanaTransaction",$=y?Zo(l,y):dp(l);if(!$&&y&&h)try{{let L=await h.sendTransaction(f,p,g),U=await p.getParsedTransaction(L,{maxSupportedTransactionVersion:0}),W=fB(L,f,U??null);return i(I,"onSuccess",{response:W}),void v(W)}}catch(L){throw i(I,"onError",ee.TRANSACTION_FAILURE),C(L),L}if(!$)return i(I,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void C(new J("No wallet found for address",ee.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(I,"onError",ee.MUST_BE_AUTHENTICATED),void C(new J("User must be authenticated before signing with a Privy wallet",ee.MUST_BE_AUTHENTICATED));let R=Hn($);if(!await u({address:$.address}).catch(()=>!1))throw i(I,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),new J(`Cannot sendSolanaTransaction before embedded wallet ${$.address} is connected`,ee.EMBEDDED_WALLET_NOT_FOUND);let T=async()=>{let L=await r();if(!L||!a)throw i(I,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),C(new J("Must have valid access token and Privy wallet to send transaction",ee.EMBEDDED_WALLET_NOT_FOUND)),new J("Must have valid access token and Privy wallet to send transaction",ee.EMBEDDED_WALLET_NOT_FOUND);try{let U,W;if(!await u({address:$.address}))throw i(I,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),C(new J("Unable to connect to wallet",ee.UNKNOWN_CONNECT_WALLET_ERROR)),new J("Unable to connect to wallet",ee.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:w==null?void 0:w.showWalletUIs})&&!b)try{if(!await vie(f,p))throw i(I,"onError",ee.INSUFFICIENT_BALANCE),C(new J("Solana wallet has insufficient funds for this transaction.",ee.INSUFFICIENT_BALANCE)),new J("Solana wallet has insufficient funds for this transaction.",ee.INSUFFICIENT_BALANCE)}catch(_){throw console.error(_),i(I,"onError",ee.TRANSACTION_FAILURE),C(new J(_ instanceof Error?_.message:"Transaction failed.",ee.TRANSACTION_FAILURE)),new J(_ instanceof Error?_.message:"Transaction failed.",ee.TRANSACTION_FAILURE)}let{entropyId:M,entropyIdVerifier:A}=di(l);if(R){let _=hh(f)?Wi(f.message.serialize()):f.serializeMessage(),S=await ss(t,c,{chain_type:"solana",method:"signMessage",params:{message:_.toString("base64"),encoding:"base64"},wallet_id:$.id});if(!S.data||!("signature"in S.data))throw Error("Failed to sign transaction");f.addSignature(b6(f,$.address),Wi(S.data.signature,"base64")),U=f}else U=await lS({accessToken:L,tx:f,walletProxy:a,entropyId:M,entropyIdVerifier:A,transactingWalletAddress:$.address,transactingWalletIndex:$.walletIndex??0});{let{signature:_,receipt:S}=await async function({tx:O,connection:P,transactionOptions:N}){let D;try{let F=O.serialize();D=await P.sendRawTransaction(F,N);let k=await P.confirmTransaction(D);if(k.value.err||k.value.err){let z=k.value.err||k.value.err;throw typeof z=="string"?Error(z):z}return{signature:D,signedTransaction:O,receipt:await P.getParsedTransaction(D,{maxSupportedTransactionVersion:0})}}catch(F){throw F.txSignature=D,F}}({tx:U,connection:p,transactionOptions:g});W=fB(_,f,S),i("sendSolanaTransaction","onSuccess",{response:W})}return v(W),W}catch(U){throw i(I,"onError",ee.TRANSACTION_FAILURE),C(U),U}};if(n({showWalletUIs:w==null?void 0:w.showWalletUIs}))T();else{let{entropyId:L,entropyIdVerifier:U}=di(l,$),W={recoveryMethod:$.recoveryMethod,connectingWalletAddress:$.address,entropyId:L,entropyIdVerifier:U,isUnifiedWallet:R,onCompleteNavigateTo:Ast,onFailure:A=>{i(I,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),C(A)}},M=Hse(e)?zit({address:$.address,appConfig:e,methodScreen:Hs,fundWalletConfig:m,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:GP}):void 0;s({connectWallet:W,sendSolanaTransaction:{transactionRequest:f,connection:p,transactionOptions:g,transactingWallet:$,onConfirm:T,onSuccess:A=>{i("sendSolanaTransaction","onSuccess",{response:A}),v(A)},onFailure:A=>{i(I,"onError",ee.TRANSACTION_FAILURE),C(A)},uiOptions:w||{},requesterAppId:x,signOnly:b},funding:M}),o(yd)}});function Sst(t){let e=rr(),{user:r}=Bm(),{setModalData:n}=De(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:l,privy:c,solanaWallets:u}=Ne(),h=Lu(),{signWithUserSigner:f}=UI();return Cp("sendSolanaTransaction",t),{sendTransaction:async({transaction:p,connection:g,uiOptions:m,transactionOptions:w,fundWalletConfig:y,address:b})=>{let v=b?u.find(C=>C.address===b&&C.walletClientType!=="privy"):void 0;return await kst({privy:c,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:h,setModalData:n,openModal:o,walletProxy:a,user:r,signWithUserSigner:f,recoverEmbeddedWallet:l,connectedExternalWallet:v},{transaction:p,connection:g,transactionOptions:w,uiOptions:m,fundWalletConfig:y,address:b,signOnly:!1})}}}const $st=({style:t,color:e,...r})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),KP=t=>{let[e,r]=E.useState(!1);return d.jsxs(Ist,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>r(!1),1500)},$justCopied:e,children:[e?d.jsx($st,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(lse,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Ist=q.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const Tst=q.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let Pst=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?d.jsx(Nst,{children:Object.entries(r).map(([n,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[n,":"]})," ",e(i)]},n))}):d.jsx("span",{children:String(r)});return d.jsx("div",{children:e(t)})};const hoe=q.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let Nst=q.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const foe=({data:t,className:e})=>d.jsx(hoe,{className:e,children:d.jsx(Pst,{data:t})});let Ost=t=>{if(!qi(t))return t;try{let e=Bde(t);return e.includes("")?t:e}catch{return t}},Mst=t=>JSON.stringify(t,null,2),Rst=t=>{let{types:e,primaryType:r,...n}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(Fst,{data:n}),d.jsx(KP,{text:Mst(t.typedData),itemName:"full payload to clipboard"})," "]})};const jst=({method:t,messageData:e,copy:r,iconUrl:n,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Gt,{title:r.title,subtitle:r.description,showClose:!0,onClose:h,icon:iTe,iconVariant:"subtle",helpText:a?d.jsx(Lst,{children:a}):void 0,primaryCta:{label:r.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(NP,{children:[n?d.jsx(Tst,{style:{alignSelf:"center"},size:"sm",src:n,alt:"app image"}):null,d.jsxs(Dst,{children:[t==="personal_sign"&&d.jsx(XB,{children:Ost(e)}),t==="eth_signTypedData_v4"&&d.jsx(Rst,{typedData:e}),t==="solana_signMessage"&&d.jsx(XB,{children:e})]})]})}),fS={component:()=>{let{authenticated:t}=Ut(),{initializeWalletProxy:e,closePrivyModal:r}=Ne(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=De(),[o,a]=E.useState(!0),[l,c]=E.useState(""),[u,h]=E.useState(),[f,p]=E.useState(null),[g,m]=E.useState(!1);E.useEffect(()=>{t||n(Qi)},[t]),E.useEffect(()=>{e(kne).then(R=>{a(!1),R||(c("An error has occurred, please try again."),h(new ji(new lg(l,Ka.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:w,data:y,confirmAndSign:b,onSuccess:v,onFailure:C,uiOptions:x}=i.signMessage,I={title:(x==null?void 0:x.title)||"Sign message",description:(x==null?void 0:x.description)||"Signing this message will not cost you any fees.",buttonText:(x==null?void 0:x.buttonText)||"Sign and continue"},$=R=>{R?v(R):C(u||new ji(new lg("The user rejected the request.",Ka.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),h(void 0)},200)};return s.current=()=>{$(f)},d.jsx(jst,{method:w,messageData:y,copy:I,iconUrl:x!=null&&x.iconUrl&&typeof x.iconUrl=="string"?x.iconUrl:void 0,isLoading:g,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:x==null?void 0:x.isCancellable,onSign:async()=>{m(!0),c("");try{let R=await b();p(R),m(!1),setTimeout(()=>{$(R)},Hr)}catch(R){console.error(R),c("An error has occurred, please try again."),h(new ji(new lg(l,Ka.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},onCancel:()=>$(null),onClose:()=>$(f)})}};let Dst=q.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Lst=q.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),Fst=q(foe).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),XB=q(hoe).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Ust(t){let{isHeadlessSigning:e,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:l}=Ne(),{user:c}=Bm(),u=Lu(),{setModalData:h}=De(),{signWithUserSigner:f}=UI();return Cp("signSolanaMessage",t),{signMessage:({message:p,options:g})=>new Promise(async(m,w)=>{var $;let y=g!=null&&g.address?Zo(c,g.address):dp(c);if(!y&&(g!=null&&g.address)){let R=a.find(T=>T.address===g.address&&T.walletClientType!=="privy");if(R)try{let T=await R.signMessage(p);u("signSolanaMessage","onSuccess",{signature:T}),m(T)}catch(T){u("signSolanaMessage","onError",ee.UNABLE_TO_SIGN),w(T)}}if(!y)return u("signSolanaMessage","onError",ee.UNABLE_TO_SIGN),void w(Error("No embedded or connected wallet found for address."));if(!c)return u("signSolanaMessage","onError",ee.MUST_BE_AUTHENTICATED),void w(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:b,entropyIdVerifier:v}=di(c,y),C=Hn(y),x=Wi(p).toString("base64");if(x.length<1)return u("signMessage","onError",ee.INVALID_MESSAGE),void w(Error("Message must be a non-empty string"));let I=async()=>{let R;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let T=await l.getAccessToken();if(!T)throw Error("User must be authenticated to use their embedded wallet.");let L=r??await n(15e3);if(!L)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:y.address}))throw Error("Unable to connect to wallet");if(C){let U=await ss(o,f,{chain_type:"solana",method:"signMessage",params:{message:x,encoding:"base64"},wallet_id:y.id});if(!U.data||!("signature"in U.data))throw Error("Failed to sign message");R=U.data.signature}else{let{response:U}=await L.rpc({accessToken:T,entropyId:b,entropyIdVerifier:v,chainType:"solana",hdWalletIndex:y.walletIndex??0,request:{method:"signMessage",params:{message:x}}});R=U.data.signature}return R};if(e({showWalletUIs:($=g==null?void 0:g.uiOptions)==null?void 0:$.showWalletUIs}))try{let R=await I(),T=new Uint8Array(Wi(R,"base64"));u("signSolanaMessage","onSuccess",{signature:T}),m(T)}catch(R){w(R)}else h({signMessage:{method:"solana_signMessage",data:x,confirmAndSign:I,onSuccess:R=>{let T=new Uint8Array(Wi(R,"base64"));u("signSolanaMessage","onSuccess",{signature:T}),m(T)},onFailure:R=>{w(R)},uiOptions:g==null?void 0:g.uiOptions},connectWallet:{recoveryMethod:y.recoveryMethod,connectingWalletAddress:y.address,entropyId:b,entropyIdVerifier:v,isUnifiedWallet:C,onCompleteNavigateTo:fS,onFailure:R=>{u("signSolanaMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),w(R)}}}),s(yd)})}}const E2=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:r,walletProxy:n,recoverEmbeddedWallet:i,privy:s}=Ne(),{sendTransaction:o}=Sst(),{signMessage:a}=Ust(),{create:l}=Wse(),{signWithUserSigner:c}=UI(),{user:u}=Bm(),{ready:h}=xl(),f=E.useMemo(()=>{if(!n)return r;let p=[...FQ(u),V4(u)].filter(g=>!!g).map(g=>({type:"solana",imported:g.imported,address:g.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:g.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new J("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new J("Cannot unlink an embedded Solana wallet")},async getProvider(){return new Bnt(n,g.address,this.signMessage)},signMessage:async m=>await a({message:m,options:{address:g.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(m,w,y){let{signature:b}=await o({transaction:m,connection:w,transactionOptions:y,address:g.address});return b},async signTransaction(m){let w=await t.getAccessToken();if(!w||!n)throw new J("Must have valid access token and Privy wallet to send transaction",ee.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new J("Wallet couldn't be connected",ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=di(u,g);if(Hn(g)){let v=hh(m)?Wi(m.message.serialize()):m.serializeMessage(),C=await ss(s,c,{chain_type:"solana",method:"signMessage",params:{message:v.toString("base64"),encoding:"base64"},wallet_id:g.id});if(C.data&&"signature"in C.data)return m.addSignature(b6(m,g.address),Wi(C.data.signature,"base64")),m;throw Error("Failed to sign transaction")}return await lS({tx:m,accessToken:w,walletProxy:n,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0})},async signAllTransactions(m){let w=await t.getAccessToken();if(!w||!n)throw new J("Must have valid access token and Privy wallet to send transaction",ee.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new J("Wallet couldn't be connected",ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=di(u,g);if(Hn(g))return await Promise.all(m.map(async v=>{let C=hh(v)?Wi(v.message.serialize()):v.serializeMessage(),x=await ss(s,c,{chain_type:"solana",method:"signMessage",params:{message:C.toString("base64"),encoding:"base64"},wallet_id:g.id});if(x.data&&"signature"in x.data)return v.addSignature(b6(v,g.address),Wi(x.data.signature,"base64")),v;throw Error("Failed to sign transaction")}));for(let v of m)await lS({tx:v,accessToken:w,walletProxy:n,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0});return m},loginOrLink:async()=>{throw new J("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return r.concat(p)},[u,n,t,r]);return{ready:!(!h||!n),createWallet:async p=>{p&&"target"in p&&p&&(p=void 0);let{account:g}=await l({chainType:"solana",options:p});return g},exportWallet:e,wallets:f}},I6={component:()=>{var L,U,W;let{wallets:t}=xl(),{wallets:e}=E2(),{data:r,setModalData:n,navigate:i,lastScreen:s}=De(),{rpcConfig:o,appId:a,createAnalyticsEvent:l,closePrivyModal:c}=Ne(),u=rr(),[h,f]=E.useState(void 0),[p,g]=E.useState(!1),m=Um(),w=r==null?void 0:r.funding,{reloadBalance:y}=zse({rpcConfig:o,appId:a,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),b=w.chainType==="solana",v=b?w.isUSDC?"USDC":"SOL":w.erc20Address?(L=w.erc20ContractInfo)==null?void 0:L.symbol:w.chain.nativeCurrency.symbol,C=b?e.find(({address:M})=>M===w.address):t.find(({address:M})=>pi(M)===pi(w.address));if(!w)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||Hs},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),i(qr),d.jsx(d.Fragment,{});E.useEffect(()=>{let M=b?async function(){if(w.chainType!=="solana")return;let _=m(x2);_?(w.isUSDC?_.getTokenBalance({address:w.address,cluster:w.cluster,mintAddress:f3[w.cluster.name]}).then(({amount:S})=>S):_.getBalance({address:w.address,cluster:w.cluster})).then(S=>{let O=BigInt(S);h&&O>h&&(g(!0),l({eventName:yl,payload:{provider:"manual",status:"success",chainType:"solana",address:C==null?void 0:C.address,value:w.isUSDC?Ln(O-h,6):Ln(O-h,9),token:w.isUSDC?"USDC":"SOL"}})),f(O)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await y()??BigInt(0);{let{balance:_}=await qP({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:a});return _}})().then(_=>{var S,O;h&&_>h&&(g(!0),l({eventName:yl,payload:{provider:"manual",status:"success",chainType:"ethereum",address:C==null?void 0:C.address,chainId:w.chain.id,value:Ln(_-h,((S=w.erc20ContractInfo)==null?void 0:S.decimals)??18),token:((O=w.erc20ContractInfo)==null?void 0:O.symbol)??w.erc20Address??"ETH"}})),f(_)}).catch(()=>f(void 0))},A=setInterval(M,2e3);return M(),()=>clearInterval(A)},[h]);let x=E.useMemo(()=>{var M;return h==null?"":w.isUSDC?Xi({amount:h,decimals:6}):b?eh(h,3,!0,!0):((M=w.erc20ContractInfo)==null?void 0:M.decimals)!=null?Xi({amount:h,decimals:w.erc20ContractInfo.decimals}):b8e({wei:h})},[h,b,w]),I=w.chainType==="ethereum"?w.chain.name:zst[w.cluster.name],$=E.useMemo(()=>{var M,A;return((M=w.uiConfig)==null?void 0:M.receiveFundsTitle)===""?null:d.jsx(Ou,{children:((A=w.uiConfig)==null?void 0:A.receiveFundsTitle)??`Receive ${w.amount} ${v??""}`.trim()})},[(U=w.uiConfig)==null?void 0:U.receiveFundsTitle,w.amount,v]),R=E.useMemo(()=>{var M,A;return((M=w.uiConfig)==null?void 0:M.receiveFundsSubtitle)===""?null:d.jsx(fh,{children:((A=w.uiConfig)==null?void 0:A.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${I}.`})},[(W=w.uiConfig)==null?void 0:W.receiveFundsSubtitle,I]),T=w.chainType==="solana"&&w.isUSDC&&f3[w.cluster.name]?`?spl-token=${f3[w.cluster.name]}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),$,R,d.jsxs(t8,{style:{gap:"1rem",margin:$||R?"1rem 0":"0"},children:[d.jsx(v2,{url:`${w.chainType}:${w.address}${T}`,size:200,squareLogoElement:Bst}),d.jsxs(Use,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",I,"."]}),d.jsx(m8,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${x} ${v}`,address:w.address}),p&&d.jsx(fr,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(Jt,{})]})}};let Bst=({...t})=>d.jsx(Qne,{color:"black",...t}),zst={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},Wst=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Hst=q.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var qst=({onBack:t,details:e})=>d.jsxs(Hst,{children:[d.jsx(Ot,{backFn:t}),d.jsx(foe,{data:e}),d.jsx(Jt,{})]});let Vst=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return Pr(t*e)}catch{return}};const Gst=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:n}),d.jsx(Oet,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx($ie,{tokenPrice:i,from:e.from,to:e.to,gas:Vst(e),txn:t,transactionInfo:r,tokenSymbol:s}),d.jsx(dh,{}),d.jsx(Kst,{loading:!1,onClick:n,children:"All Done"}),d.jsx(Mo,{}),d.jsx(Jt,{})]});let Kst=q(fr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Yst=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Qst=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],Zst=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Jst=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],Xst=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],eot=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],tot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],rot=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],not=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],poe=(t,e)=>{let r=Lc(Zst,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=Lc(cS,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Lc(Yst,t);if(i&&typeof i.args[1]=="string"){let h=iot(i.args[1]);if(h&&h[4].encodedInitData)return poe(h[4].encodedInitData,e)}let s=Lc(eot,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=Lc(tot,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=Lc(Xst,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=Lc(not,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=Lc(rot,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=Lc(Jst,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Lc=(t,e)=>{try{let r=IV({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},iot=t=>{try{if(typeof t=="string")return hm(Qst,`0x${t.slice(10)}`)}catch{return null}},O_=t=>`${parseFloat(t).toFixed(2)}`;const sot=(t,e,r,n)=>{let[i,s]=E.useState(null),{walletProxy:o}=Ne();return E.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await x6(t,r,e,n).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)},[t]),i};let ez=new ji(new lg("There was an issue preparing your transaction",Ka.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),tz=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const goe={component:()=>{var bt,Be,Sr,Ge,Bt,Zi,nr,er,B,H,Y,Z,X,te,me,pe,ze,xt;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=De(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=Ne(),{user:u}=Ut(),h=rr(),[f,p]=E.useState(0),[g,m]=E.useState(0),[w,y]=E.useState(tz(t,f)),[b,v]=E.useState(null),[C,x]=E.useState(),[I,$]=E.useState(!1),[R,T]=E.useState(null),[L,U]=E.useState(null),[W,M]=E.useState(null),[A,_]=E.useState(void 0),[S,O]=E.useState(void 0),[P,N]=E.useState(!1),[D,F]=E.useState(!1),[k,z]=E.useState([]),[V,j]=E.useState([]),[G,Q]=E.useState("uninitiated"),[K,re]=E.useState(void 0);if(!w||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return d.jsx(w2,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var _e;(_e=t==null?void 0:t.sendTransaction)==null||_e.onFailure(ez),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:le}=t.sendTransaction,ne=E.useMemo(()=>o.find(_e=>Number(_e.id)===Number(w.chainId)),[w.chainId]),ae=(ne==null?void 0:ne.nativeCurrency.symbol)??"ETH",ye=E.useMemo(()=>poe(w.data,!!h.embeddedWallets.extendedCalldataDecoding),[w.data]),{action:de,isErc20Ish:he,isNFTIsh:Xe,functionName:ie}=ye,{toAddress:xe,tokenAddress:be}=E.useMemo(()=>({toAddress:ye.isErc20Ish?ye.transferTo:w.to??void 0,tokenAddress:ye.isErc20Ish?w.to:void 0}),[ye]);E.useEffect(()=>{w.to&&ne&&he&&noe({address:w.to,chain:ne,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(v).catch(console.error)},[w.to,ne]);let{tokenPrice:se,isTokenPriceLoading:we}=Lm(w.chainId),{balance:vt}=zse({rpcConfig:h.rpcConfig,appId:h.id,address:le,chain:ne}),ce=function({rpcConfig:_e,appId:Le,address:lt,chain:Ue,tokenInfo:Ee}){let{chains:pt}=Ne(),[At,Lt]=E.useState(null),[Kt,tr]=E.useState(!1),Yt=E.useMemo(()=>{let rt=Ue||pt[0];if(rt)return Cu({chain:Ue,transport:fc(Y4e(rt,_e,Le))})},[Ue,_e,Le]),pr=E.useCallback(async()=>{if(lt&&Yt&&Ee.address)try{return tr(!0),await Yt.readContract({address:Ee.address,abi:Wst,functionName:"balanceOf",args:[lt]})}catch(rt){console.error(rt)}finally{tr(!1)}},[Yt,lt,Ee==null?void 0:Ee.address,Ue]);return E.useEffect(()=>{pr().then(rt=>rt!=null&&Lt(rt))},[pr]),{balance:At,isLoading:Kt&&At==null,formattedBalance:Xi({amount:At??BigInt(0),decimals:Ee.decimals})}}({rpcConfig:h.rpcConfig,appId:h.id,address:le,tokenInfo:{address:be||"",decimals:(b==null?void 0:b.decimals)??18},chain:ne}),Ie=E.useMemo(()=>em(Number(w.chainId),o,s,{appId:h.id}),[w.chainId,s]),Fe=sot(w,le,Ie,(bt=t==null?void 0:t.sendTransaction)==null?void 0:bt.prepareTransactionRequest);E.useEffect(()=>{y(tz(t,f))},[f]),E.useEffect(()=>{var _e;(_e=t.sendTransaction)!=null&&_e.getIsSponsored?t.sendTransaction.getIsSponsored().then(x).catch(console.error):x(!1)},[t.sendTransaction.getIsSponsored]);let tt=()=>{var _e,Le,lt;if(!I)return R?(_e=t==null?void 0:t.sendTransaction)==null||_e.onSuccess({hash:R}):W||Fe!=null&&Fe.errors[0]?(Le=t==null?void 0:t.sendTransaction)==null||Le.onFailure(W??(Fe==null?void 0:Fe.errors[0])??ez):(lt=t==null?void 0:t.sendTransaction)==null||lt.onFailure(new ji(new lg("The user rejected the request",Ka.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=tt;let Qe=!!(t.funding&&t.funding.supportedOptions.length>0),$t=nl(BigInt((Fe==null?void 0:Fe.totalGasEstimate)??0n),ae),ht=c&&se?kf(BigInt((Fe==null?void 0:Fe.totalGasEstimate)??0n),se):void 0,it=nl(vt??0n,ae,void 0,!0),ke=c&&se?kf(vt??0n,se):void 0,Te=b&&!ce.isLoading&&he&&de!=="approve"?`${ce.formattedBalance} ${b.symbol}`:void 0,fe=(Ge=(Sr=(Be=t.sendTransaction)==null?void 0:Be.uiOptions)==null?void 0:Sr.transactionInfo)==null?void 0:Ge.title;fe||(fe=de==="approve"?he?"Confirm address":"Confirm action":`Approve ${de}`);let Ve=E.useMemo(()=>{var _e,Le,lt,Ue,Ee,pt,At,Lt;if((Le=(_e=t.sendTransaction)==null?void 0:_e.uiOptions)!=null&&Le.description)return(Ue=(lt=t.sendTransaction)==null?void 0:lt.uiOptions)==null?void 0:Ue.description;if(de==="approve"&&ie==="setApprovalForAll"&&ye.approved){let Kt=d.jsx(Dt,{address:ye.operator||"",url:(pt=(Ee=ne==null?void 0:ne.blockExplorers)==null?void 0:Ee.default)==null?void 0:pt.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",Kt," to transfer tokens on your behalf."]})}if(de==="approve"&&ie==="setApprovalForAll"&&!ye.approved){let Kt=d.jsx(Dt,{address:ye.operator||"",url:(Lt=(At=ne==null?void 0:ne.blockExplorers)==null?void 0:At.default)==null?void 0:Lt.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Kt," from transferring tokens on your behalf."]})}return he&&de==="approve"||he&&de==="approve"?`${h.name} would like your permission for ${pi(ye.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`},[h.name,he,ye,(Bt=t.sendSolanaTransaction)==null?void 0:Bt.uiOptions.description,ie]),st=(B=(er=(nr=(Zi=t.sendTransaction)==null?void 0:Zi.uiOptions)==null?void 0:nr.transactionInfo)==null?void 0:er.contractInfo)!=null&&B.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Ke=!(!Fe||Fe.errors[0]||Fe.hasFunds||C!==!1),at=Ke&&Qe,Pe=at?"Add funds":((Y=(H=t.sendTransaction)==null?void 0:H.uiOptions)==null?void 0:Y.buttonText)||(f<g?"Continue":"Approve"),dt=_e=>{if(!_e)throw Error("Transaction scan failed");if(_e.validation.status==="Success"&&(_e.validation.result_type==="Benign"?O("safe"):_e.validation.result_type==="Warning"?O("warn"):_e.validation.result_type==="Malicious"&&(O("error"),F(!0))),_e.simulation.status!=="Success")throw Error("Simulation failed");{_(_e.simulation.params);let{assetsIn:Le,assetsOut:lt}=function(Ue,Ee){var Lt,Kt,tr,Yt,pr;let pt=[],At=new Map;if(Ue){for(let rt of Ue)if(rt.in[0]){let tn;tn=rt.asset.type==="ERC721"||rt.in[0].value==="approve_for_all"?{id:`nft:${rt.asset.name}`,nftName:rt.asset.name,nftCount:rt.in.length}:{id:`token:${rt.asset.type}:${rt.asset.symbol}:${rt.asset.name}`,iconUrl:rt.asset.logo_url,value:rt.in[0].value,symbol:rt.asset.symbol,usdValue:rt.in[0].usd_price?O_(rt.in[0].usd_price):void 0,decimals:rt.asset.decimals},pt.push(tn)}else if((Lt=rt.out[0])!=null&&Lt.value){let tn;tn=rt.asset.type==="ERC721"||rt.out[0].value==="approve_for_all"?{id:`nft:${rt.asset.name}`,nftName:rt.asset.name}:{id:`token:${rt.asset.type}:${rt.asset.symbol}:${rt.asset.name}`,iconUrl:rt.asset.logo_url,value:rt.out[0].value,symbol:rt.asset.symbol,usdValue:rt.out[0].usd_price?O_(rt.out[0].usd_price):void 0,decimals:rt.asset.decimals},At.has(tn.id)||At.set(tn.id,tn)}}for(let rt of Ee)for(let tn of Object.keys(rt.spenders)){let kt;kt=rt.asset.type==="ERC721"||((Kt=rt.spenders[tn])==null?void 0:Kt.value)==="approve_for_all"?{id:`nft:${rt.asset.name}`,nftName:rt.asset.name}:{id:`token:${rt.asset.type}:${rt.asset.symbol}:${rt.asset.name}`,iconUrl:rt.asset.logo_url,value:(tr=rt.spenders[tn])==null?void 0:tr.value,symbol:rt.asset.symbol,usdValue:(Yt=rt.spenders[tn])!=null&&Yt.usd_price?O_((pr=rt.spenders[tn])==null?void 0:pr.usd_price):void 0,decimals:rt.asset.decimals},At.has(kt.id)||At.set(kt.id,kt)}return{assetsIn:pt,assetsOut:Array.from(At.values())}}(_e.simulation.assets_diffs,_e.simulation.exposures);if(lt.length===0&&Le.length===0)throw Error("No tokens found");z(lt),j(Le)}};if(E.useEffect(()=>{var _e;(_e=t.sendTransaction)!=null&&_e.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&G==="uninitiated"&&(Q("in progress"),t.sendTransaction.scanTransaction().then(Le=>{dt(Le),Q("completed")}).catch(()=>Q("failed")))},[!!((Z=t.sendTransaction)!=null&&Z.scanTransaction)]),E.useEffect(()=>{var _e;(_e=t.sendTransaction)!=null&&_e.scanTransaction&&G!=="failed"||((Le,lt,Ue)=>{if(m((Ee=>Ee!=null&&Ee.sendTransaction?"transactionRequest"in Ee.sendTransaction?0:Ee.sendTransaction.transactionRequests.length-1:0)(t)),lt.isErc20Ish&&lt.amount&&Ue){let Ee=$6({amount:lt.amount,decimals:Ue.decimals});re(Ee),z([{value:Ee,symbol:Ue==null?void 0:Ue.symbol,decimals:Ue==null?void 0:Ue.decimals}])}else if(Le.value){let Ee=BigInt(Le.value),pt=se?kf(Ee,se):void 0;z(c&&pt?[{value:pt}]:[{value:yie(Ee),symbol:ae,decimals:18,usdValue:pt}])}else z(c?[{value:"$0"}]:[{value:"0",symbol:ae,decimals:18}])})((Fe==null?void 0:Fe.tx)??w,ye,b)},[w,Fe==null?void 0:Fe.tx,ye,b,G]),L)return d.jsx(Gst,{txn:(Fe==null?void 0:Fe.tx)??w,onClose:tt,receipt:L,transactionInfo:(X=t.sendTransaction)==null?void 0:X.uiOptions.transactionInfo,tokenPrice:se,tokenSymbol:ae,receiptHeader:(te=t.sendTransaction)==null?void 0:te.uiOptions.successHeader,receiptDescription:(me=t.sendTransaction)==null?void 0:me.uiOptions.successDescription});if(W)return d.jsx(doe,{transactionError:W,transactionHash:R??void 0,network:"ethereum",chainId:(Fe==null?void 0:Fe.tx.chainId)??w.chainId,onClose:tt,onRetry:({resetNonce:_e})=>{M(null);let Le={...(Fe==null?void 0:Fe.tx)??w};_e&&(Le.nonce=void 0),y(Le)}});let Et=g!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return P&&A?d.jsx(qst,{details:A,onBack:()=>N(!1)}):d.jsx(sst,{transactionIndex:f,onBack:Et,maxIndex:g,disabled:Ke&&!Qe||D,isSubmitting:I,submitError:W,isPreparing:!Fe,isTokenPriceLoading:we,isTokenContractInfoLoading:!Xe&&!b,prepareError:Fe==null?void 0:Fe.errors[0],symbol:b==null?void 0:b.symbol,chain:ne,img:st,title:fe,subtitle:Ve,txValue:w.value,fee:ht??$t,isSponsored:C,from:le??"",to:xe,tokenAddress:be??void 0,network:((pe=h.chains.find(_e=>_e.id===w.chainId))==null?void 0:pe.name)??"",transactionDetails:{...ye,formattedAmount:K},cta:Pe,missingFunds:Ke,action:de,balance:Te??ke??it,onClose:tt,onClick:at?async()=>{var _e;if(le){if(!Qe)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Hs,chainType:"ethereum",amount:ap(BigInt((Fe==null?void 0:Fe.tx.value)??0)+BigInt(((_e=Fe==null?void 0:Fe.totalGasEstimate)==null?void 0:_e.toString())??0)),chain:ne},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(Hs)}}:async()=>{var _e,Le;if(f<g)p(f+1);else{$(!0);try{let lt=await i.getAccessToken();if(I||!lt||!l||!u)return;let Ue=await t.sendTransaction.onConfirm({transactionRequest:(Fe==null?void 0:Fe.tx)??w});if(T(Ue),(_e=t.sendTransaction)==null?void 0:_e.signOnly)return await new Promise(pt=>setTimeout(pt,Hr)),(Le=t==null?void 0:t.sendTransaction)==null||Le.onSuccess({hash:Ue}),a({shouldCallAuthOnSuccess:!1});let Ee=await Ie.waitForTransactionReceipt({hash:Ue});if(Ee.status==="reverted")throw Error("Transaction failed");U(Ee)}catch(lt){console.warn({transaction:(Fe==null?void 0:Fe.tx)??w,error:lt}),M(lt)}finally{$(!1)}}},validation:S,hasScanDetails:!!A,setIsScanDetailsOpen:N,preventMaliciousTransaction:D,setPreventMaliciousTransaction:F,tokensSent:k,tokensReceived:V,isScanning:G==="in progress",isCancellable:((xt=(ze=t.sendTransaction)==null?void 0:ze.uiOptions)==null?void 0:xt.isCancellable)??!1,functionName:ie})}};function Gs({title:t}){var o,a;let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=De();return d.jsx(Ot,{title:t,backFn:e===I6?r:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>n(goe):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),n(l.methodScreen)}:void 0})}const moe={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Ne(),{navigate:i,setModalData:s,app:o,data:a}=De(),{wallets:l}=xl(),c=Um(),[u,h]=E.useState(null),[f,p]=E.useState(null),[g,m]=E.useState([]),[w,y]=E.useState(0),[b,v]=E.useState(!1),[C,x]=E.useState(!1),[I,$]=E.useState(!1),[R,T]=E.useState(!1),[L,U]=E.useState(),[W,M]=E.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:A,cluster:_,connectedWalletAddress:S}=a.funding,[O,P]=E.useState(a.funding.amount),N=S?l.find(({address:ye})=>ye===S):l[0],D=Du((N==null?void 0:N.walletClientType)||"unknown"),F=(D==null?void 0:D.name)||"wallet",[k,z]=E.useState(null);E.useEffect(()=>{(async()=>{if(!N)return;let ye=await N.getEthereumProvider();z(GK({account:N.address,transport:YK(ye)}).extend(T4))})().catch(console.error)},[N]);let[V,j]=E.useState(0n),G=eh(V);E.useEffect(()=>{let ye=c(x2);ye?ye.getBalance({address:A,cluster:_}).then(de=>j(BigInt(de))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[Q,K]=E.useState(),{tokenPrice:re}=Lm("solana"),{fundingAmountInBaseUnit:le,fundingAmountInUsd:ne}=wie({amount:O,fee:0n,tokenPrice:re,isUsdc:a.funding.isUSDC});if(E.useEffect(()=>{(async()=>{if(!k||!N)return;let ye=["testnet","devnet"].includes(_.name);ye&&console.warn("Solana testnets are not supported for bridging");let de=xI(o.chains).filter(({testnet:be})=>!!be===ye),he=(await qse({chains:de,address:N.address,appId:e,rpcConfig:t})).filter(be=>be.balance>0n);if(he.length<1)return void h(new J(`Wallet ${pi(N.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));he.sort((be,se)=>Number(se.balance-be.balance));let Xe=(await Promise.allSettled(he.map(async be=>({...be,quote:await pv({isTestnet:!1,input:ug({amount:le.toString(),user:N.address,recipient:A,destinationChainId:Wk,destinationCurrency:Hk,originChainId:be.chain.id})})})))).filter(be=>be.status==="fulfilled").map(be=>be.value);if(Xe.length<1)return void h(new J(`Unable to fetch quotes for bridging. Wallet ${pi(N.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let ie=Xe.map(({quote:be,balance:se,chain:we})=>({bridgeTx:A6(be),balance:se,chain:we,isErc20Quote:!1})).filter(({bridgeTx:be})=>!!be);if(ie.length>1)return void m(ie);let xe=ie.at(0);xe?(x(!0),K({data:xe.bridgeTx.data,to:xe.bridgeTx.to,value:xe.bridgeTx.value,chain:xe.chain})):h(new J(`Unable to select bridge option from quotes. Wallet ${pi(N.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[k]),E.useEffect(()=>{(async()=>{let ye,de;if(!k||!N||b||I||!Q)return;v(!0);let he=Cu({chain:Q.chain,transport:fc(Tu(Q.chain,t,e))});try{ye=await he.prepareTransactionRequest({account:N.address,to:Q.to,chain:Q.chain,data:Q.data,value:BigInt(Q.value??0)})}catch(Xe){console.error(Xe),g.length>1&&p(Xe.shortMessage??"Something went wrong")}if(ye){v(!1),$(!0);try{await k.switchChain({id:Q.chain.id})}catch{await k.addChain({chain:Q.chain}),await k.switchChain({id:Q.chain.id})}try{de=await k.sendTransaction(ye)}catch(Xe){console.error(Xe),Xe.name==="TransactionExecutionError"&&(g.length<1?h(new J(Xe.shortMessage,void 0,ee.TRANSACTION_FAILURE)):p(Xe.shortMessage??"Something went wrong"))}if(de)return await k.waitForTransactionReceipt({hash:de}),C?(M("pending"),void U(de)):($(!1),T(!0),void n({eventName:yl,payload:{provider:"external",status:"success",txHash:de,address:N.address,chainId:Q.chain.id,chainType:"ethereum",value:Q.value?Ln(BigInt(Q.value),18):void 0,token:"ETH",destination:A,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ln(le,9),destinationToken:"SOL"}}));$(!1)}else v(!1)})().catch(console.error)},[k,Q]),HP({transactionHash:L,wallet:N,isTestnet:!1,bridgingStatus:W,setBridgingStatus:M,onSuccess({transactionHash:ye,wallet:de}){x(!1),T(!0),n({eventName:yl,payload:{provider:"external",status:"success",txHash:ye,address:de.address,chainId:Q==null?void 0:Q.chain.id,chainType:"ethereum",value:Q!=null&&Q.value?Ln(BigInt(Q.value),18):void 0,token:"ETH",destination:A,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ln(le,9),destinationToken:"SOL"}})},onFailure({error:ye}){x(!1),h(ye)}}),E.useEffect(()=>{u&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:u,previousScreen:Wm}}),i(qr,!1))},[u]),E.useEffect(()=>{if(!R)return;let ye=setTimeout(r,Kx);return()=>clearTimeout(ye)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(bl,{}),d.jsxs(g2,{children:[d.jsx(jm,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Ao,{title:"Success!",description:`Youve successfully added ${O} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Mo,{}),d.jsx(Jt,{})]});let ae=g[w];return g.length>1&&ae?d.jsx(Xse,{displayName:F,configuredFundingChain:_,formattedBalance:G,fundingAmount:O,fundingCurrency:"SOL",fundingAmountInUsd:ne,options:g,selectedOption:ae,isPreparing:b,isSubmitting:I,addressToFund:A,fundingWalletAddress:(N==null?void 0:N.address)||"",errorMessage:f,onSubmit:()=>{var ye;((ye=a.funding)==null?void 0:ye.amount)!==O?async function(){if(N&&ae)try{let de=await pv({isTestnet:!1,input:ug({amount:le.toString(),user:N.address,recipient:A,destinationChainId:Wk,destinationCurrency:Hk,originChainId:ae.chain.id})}),he=A6(de);if(!he)throw Error("Invalid transaction request");x(!0),K({data:he.data,to:he.to,value:he.value,chain:ae.chain})}catch(de){console.error(de),h(new J("Unable to fetch quotes for bridging",de,ee.INSUFFICIENT_BALANCE))}}().catch(console.error):K({to:ae.bridgeTx.to,data:ae.bridgeTx.data,value:ae.bridgeTx.value,chain:ae.chain})},onSelect:ye=>{ye!==w&&(p(null),y(ye))},onAmountChange:P}):I&&N?d.jsx(y8,{wallet:N,displayName:F,addressToFund:A,isBridging:C,isErc20Flow:!1,chainId:"solana",chainName:_.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(Gs,{}),d.jsx(Ap,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Jt,{})]})}},M_=new Map([[Hs,null],[Wm,"external"],[eoe,"external"],[GP,"external"],[moe,"external"],[toe,"external"],[I6,"manual"],[ioe,"moonpay"]]),oot=()=>{let t=rr(),{user:e}=Ut(),{client:r,refreshSessionAndUser:n,walletProxy:i}=Ne();return{migrate:E.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new J("User must be authenticated before migrating wallets",ee.MUST_BE_AUTHENTICATED);let s=fa(e);if(!s||Hn(s)||!rm(s))return{success:!0};if(!i)throw new J("Cannot connect to wallet proxy");let o=await r.getAccessToken();if(!o)throw new J("User must be authenticated before migrating wallets",ee.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(rm),{entropyId:l,entropyIdVerifier:c}=di(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!fv(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await n(),{success:!0}},[t.embeddedWallets.mode,e,i,r,n])}},aot=({disabled:t})=>{let{migrate:e}=oot(),{user:r}=Ut(),{walletProxy:n}=Ne();return E.useEffect(()=>{!t&&r&&n&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[r,n,t,e]),null},lot=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function cot(t){let{logout:e}=E.useContext(hp);return Cp("logout",t),{logout:e}}const uot=({providerApp:t,success:e,error:r,onClose:n})=>{let{title:i,subtitle:s}=E.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:r?{title:"Authentication failed",subtitle:r.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,r,t.name]);return d.jsx(Gt,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},onBack:n,watermark:!0})},dot={component:()=>{let t=rr(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=De(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=Ne(),{logout:c}=cot(),[u,h]=E.useState({}),f=e==null?void 0:e.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},g=new J(`There was an issue connecting your ${p.name} account. Please try again.`),m=new us(async y=>{var b,v,C,x,I,$,R,T,L,U,W,M,A,_,S;if(f.popup)try{let O=await s({appId:y,popup:f.popup,action:f.action});h({data:O})}catch(O){if(O instanceof J)h({error:O});else if(O instanceof ho){if(O.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED&&((v=(b=O.data)==null?void 0:b.data)!=null&&v.nonce))return n({accountTransfer:{nonce:(x=(C=O.data)==null?void 0:C.data)==null?void 0:x.nonce,account:($=(I=O.data)==null?void 0:I.data)==null?void 0:$.subject,displayName:(L=(T=(R=O.data)==null?void 0:R.data)==null?void 0:T.account)==null?void 0:L.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:(M=(W=(U=O.data)==null?void 0:U.data)==null?void 0:W.otherUser)==null?void 0:M.embeddedWalletAddress,oAuthUserInfo:(S=(_=(A=O.data)==null?void 0:A.data)==null?void 0:_.otherUser)==null?void 0:S.oAuthUserInfo}}),void r(kp);f.popup&&f.popup.close(),h({error:g})}else h({error:g})}else h({error:g})}),w=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new J("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=w,E.useEffect(()=>{p.id.length&&m.execute(p.id)},[p.id]),E.useEffect(()=>{if(!u.data)return;let y=u.data;if(t.legal.requireUsersAcceptTerms&&!y.hasAcceptedTerms){let v=setTimeout(()=>{r(Sp)},Hr);return()=>clearTimeout(v)}if(Ih(y,t.embeddedWallets)){let v=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(Fu)},Hr);return()=>clearTimeout(v)}let b=setTimeout(w,Hr);return()=>clearTimeout(b)},[u.data]),d.jsx(uot,{providerApp:p,success:!!u.data,error:u.error,onClose:w})}},hot=({appName:t,address:e,success:r,error:n,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Gt,r||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:n?FX:e2,iconVariant:n?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:tTe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(m8,{address:e,title:"Wallet"})}),fot={component:()=>{let{app:t,data:e}=De(),{closePrivyModal:r}=Ne(),[n,i]=E.useState(!1),[s,o]=E.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{n?c():u(s??new J("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return E.useEffect(()=>{if(!n&&!s)return;let f=setTimeout(h,pP);return()=>clearTimeout(f)},[n,s]),d.jsx(hot,{appName:t.name,address:a,success:n,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},pot=({appName:t,success:e,error:r,onRevoke:n,onDeny:i,onClose:s})=>d.jsx(Gt,e||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":"You've successfully revoked permissions.",icon:r?FX:e2,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:JIe,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),got={component:()=>{let{app:t,data:e}=De(),{closePrivyModal:r}=Ne(),[n,i]=E.useState(!1),[s,o]=E.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{n?l():c(s??new J("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return E.useEffect(()=>{if(!n&&!s)return;let h=setTimeout(u,pP);return()=>clearTimeout(h)},[n,s]),d.jsx(pot,{appName:t.name,success:n,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let rz="#8a63d2";const mot=({appName:t,loading:e,success:r,errorMessage:n,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Gt,Tr||e?E$?{title:n?n.message:"Add a signer to Farcaster",subtitle:n?n.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:Sf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:n?n.message:"Requesting signer from Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Sf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:s,onClose:o,watermark:!0,children:i&&Tr&&d.jsx(yot,{children:d.jsx(vse,{text:"Take me to Farcaster",url:i,color:rz})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(wot,{children:[d.jsx(vot,{children:i?d.jsx(v2,{url:i,size:275,squareLogoElement:Sf}):d.jsx(Eot,{children:d.jsx(ya,{})})}),d.jsxs(bot,{children:[d.jsx(xot,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(KP,{text:i,itemName:"link",color:rz})]})]})});let yot=q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),wot=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),vot=q.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),bot=q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),xot=q.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Eot=q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const _ot={component:()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=De(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Ne(),[o,a]=E.useState(void 0),[l,c]=E.useState(!1),[u,h]=E.useState(!1),f=E.useRef([]),p=r==null?void 0:r.farcasterSigner;E.useEffect(()=>{let m=Date.now(),w=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(w),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Hr)));let y=await i(p==null?void 0:p.public_key),b=Date.now()-m;y.status==="approved"?(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Hr))):b>3e5?(clearInterval(w),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):y.status==="revoked"&&(clearInterval(w),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(w),f.current.forEach(y=>clearTimeout(y))}},[]);let g=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(mot,{appName:n.name,loading:l,success:u,errorMessage:o,connectUri:g,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{g&&(window.location.href=g)}})}},Cot=({onClose:t})=>d.jsx(Gt,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:SA,primaryCta:{label:"Close",onClick:t},watermark:!0}),nz={component:()=>{let{closePrivyModal:t}=Ne();return d.jsx(Cot,{onClose:()=>t()})}},Aot=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Gt,{title:t,subtitle:e,icon:zx,watermark:!0,children:d.jsx(_ie,{children:d.jsx(Tse,{stacked:!0})})}),kot={component:()=>{let{app:t}=De();return d.jsx(Aot,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},Sot=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=E.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)};return d.jsx(Gt,{title:t,subtitle:e,icon:ah,primaryCta:{label:n?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:d.jsx(p8,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},YP={component:()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=De(),{initLoginWithSms:s}=Ne(),[o,a]=E.useState(!1);return d.jsx(Sot,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var c;a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(Nu)}catch(u){i({errorModalData:{error:u,previousScreen:((c=r==null?void 0:r.errorModalData)==null?void 0:c.previousScreen)||e||YP}}),n(qr)}finally{a(!1)}},isSubmitting:o})}},$ot=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:r="Try again",secondaryCtaText:n="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Gt,{title:t,subtitle:e,icon:bx,iconVariant:"error",primaryCta:{label:r,onClick:i},secondaryCta:{label:n,onClick:s},watermark:!0}),Iot={component:()=>{let{closePrivyModal:t}=Ne(),{navigate:e}=De();return d.jsx($ot,{onTryAgain:()=>{e(Qi)},onCancel:async()=>{await t()}})}};function yoe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=E.useContext(hp);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const Tot=t=>d.jsxs(Pot,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Pot=q.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const Not=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce((p,g)=>({...p,[g]:!0}),{}),f=r.reduce((p,g)=>({...p,[g]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(qf,{})}),d.jsx(Ms,{children:"Choose a verification method"}),e.length>0?d.jsx(ra,{children:"To add or delete verification methods, verification is required."}):d.jsx(ra,{children:"How would you like to verify your identity?"}),o&&d.jsx(fie,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(die,{children:[(f.passkey||h.passkey)&&d.jsxs(E_,{children:[d.jsx(Kr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(ya,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(A_,{children:[d.jsxs(C_,{children:[d.jsx(sT,{}),"Passkey"]}),h.passkey?d.jsx(R_,{color:"green",children:"Enabled"}):d.jsx(hB,{$isAccent:!0,children:d.jsx(rQe,{})})]})}),h.passkey&&d.jsx(__,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(r_,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(E_,{children:[d.jsx(Kr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(ya,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(A_,{children:[d.jsxs(C_,{children:[d.jsx(ix,{}),"Authenticator app"]}),h.totp&&d.jsx(R_,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(__,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(r_,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(E_,{children:[d.jsx(Kr,{disabled:h.sms||n,onClick:()=>c("sms"),children:d.jsxs(A_,{children:[d.jsxs(C_,{children:[d.jsx(ah,{}),"SMS"]}),h.sms&&d.jsx(R_,{color:"green",children:"Enabled"}),n&&d.jsx(hB,{children:"Disabled"})]})}),h.sms&&d.jsx(__,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(r_,{})})]},"sms")]}),d.jsx(Oot,{children:"You can always change your selection later"}),d.jsx(mn,{})]})};let R_=q(bc).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),Oot=q(hie).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const woe=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),Mot=({onClose:t,onReset:e,submitEnrollmentWithPasskey:r})=>{let{user:n}=Ut(),{initLinkWithPasskey:i,linkWithPasskey:s}=Ne(),{app:o}=De(),[a,l]=E.useState(!1),[c,u]=E.useState(!1),[h,f]=E.useState(null),p=E.useMemo(()=>(n==null?void 0:n.linkedAccounts.filter(w=>w.type==="passkey"))??[],[n]),g=async w=>{l(!0);try{await r(w)}catch(y){f(y)}finally{l(!1)}},m=async()=>{u(!0),f(null);try{await i();let w=await s(),y=(w==null?void 0:w.linkedAccounts.filter(b=>b.type==="passkey").map(b=>b.credentialId))??[];await g(y)}catch(w){f(w)}finally{u(!1)}};return p.length===0||c?d.jsx(Rot,{onReset:e,onClose:t,onClick:m,isCreating:c}):h?d.jsx(w2,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(jot,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>g(p.map(w=>w.credentialId)),onAddPasskey:m})};let Rot=({onReset:t,onClose:e,onClick:r,isCreating:n})=>d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:t,onClose:e},"header"),d.jsx($P,{children:d.jsxs(Gse,{children:[d.jsx(MP,{}),d.jsx(woe,{})]})}),d.jsx(Ms,{children:"Set up passkey verification"}),d.jsxs(e8,{children:[d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(qf,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(aQe,{})}),"Takes seconds to set up and use"]}),d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(YYe,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(fr,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),d.jsx(mn,{})]}),jot=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=E.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx($P,{children:d.jsxs(Gse,{children:[d.jsx(MP,{}),d.jsx(woe,{})]})}),d.jsx(Ms,{children:"Enable your passkeys for verification"}),d.jsxs(e8,{children:[i.slice(0,c).map(u=>{var h;return d.jsxs(Dot,{children:[d.jsx(Lot,{children:Uot(u)}),d.jsxs(Fot,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx(iz,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(fr,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(iz,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?d.jsx(ya,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(mn,{})]})},Dot=q.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),Lot=q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Fot=q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Uot=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const iz=q.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),Bot=({appName:t,onComplete:e,onReset:r,onClose:n})=>{let[i,s]=E.useState(""),[o,a]=E.useState(!1),[l,c]=E.useState(null),[u,h]=E.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=yoe(),{app:g,data:m}=De();function w(){var y;(y=m==null?void 0:m.mfaEnrollmentFlow)==null||y.onSuccess(),e()}return l?d.jsx(w2,{allowlistConfig:g.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(Ot,{backFn:r,onClose:n},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(ah,{})}),d.jsx(Ms,{children:"Set up SMS verification"}),d.jsxs(ra,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(ep,{children:[d.jsx(p8,{onSubmit:async function({qualifiedPhoneNumber:y}){try{await f({phoneNumber:y}),s(y),h("verify")}catch(b){c(b)}},hideRecent:!0}),d.jsxs(hie,{children:["By providing your mobile number, you agree to receive text messages from ",g==null?void 0:g.name,". Some carrier charges may apply"]})]}),d.jsx(mn,{})]}:o?{children:[d.jsx(Ot,{onClose:w},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(jm,{})}),d.jsx(Ms,{children:"SMS verification added"}),d.jsxs(ra,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(p0,{children:d.jsx(fr,{onClick:w,children:"Done"})}),d.jsx(mn,{})]}:{children:[d.jsx(Ot,{backFn:function(){u==="verify"?h("enroll"):r()},onClose:n},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(ah,{})}),d.jsx(Ms,{children:"Enter enrollment code"}),d.jsxs(ep,{children:[d.jsx(E6,{onChange:async function(y){try{if(!y)return;await p({phoneNumber:i,mfaCode:y}),a(!0)}catch(b){throw Oie(b)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):jP(b)?Error("The code you entered is not valid"):RP(b)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Mie(b)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(ra,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:s8e(i)})]})]}),d.jsx(mn,{})]})},zot=q.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Wot=({size:t,authUrl:e})=>d.jsx(v2,{url:e,squareLogoElement:AZe,size:t,fgColor:"#1F1F1F"}),Hot=({onClose:t,onReset:e,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[s,o]=E.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(Ot,{backFn:e,onClose:t},"header"),d.jsx(Ou,{children:"Scan QR code"}),d.jsx(fh,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(NXe,{children:d.jsx(Wot,{authUrl:r.authUrl,size:240})}),d.jsx(Ss,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(g8,{style:{marginTop:"0.25rem"},children:[d.jsx(zot,{children:"".repeat(16)}),d.jsx(KP,{itemName:" ",text:r.secret})]}),d.jsx(fr,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(mn,{})]}:{children:[d.jsx(Ot,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(ix,{})}),d.jsx(Ou,{children:"Enter enrollment code"}),d.jsx(fh,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(ep,{children:d.jsx(E6,{onChange:async function(a){try{if(!a)return;await n({mfaCode:a})}catch(l){throw Oie(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):jP(l)?Error("The code you entered is not valid"):RP(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Mie(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),d.jsx(mn,{})]})},qot={component:()=>{var F;let{user:t,enrollInMfa:e,ready:r}=Ut(),[n,i]=E.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=yoe(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:g}=De(),{closePrivyModal:m}=Ne(),{promptMfa:w}=Rie(),[y,b]=E.useState(!1),[v,C]=E.useState(null),[x,I]=E.useState(null),$=()=>{m({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),C(null)},500)},[R,T]=E.useState(!1),[L,U]=E.useState();g.current=$;let W=t==null?void 0:t.mfaMethods.includes("sms"),M=!!(t!=null&&t.phone),A=t==null?void 0:t.mfaMethods.includes("totp"),_=t==null?void 0:t.mfaMethods.includes("passkey"),S=W||A||_,O=(t==null?void 0:t.linkedAccounts.filter(k=>k.type==="passkey").map(k=>k.credentialId))??[];function P(){i(null),C(null)}async function N(k=O){var z,V;T(!0);try{return await c(),await u({credentialIds:k},{removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa}),(V=p==null?void 0:p.mfaEnrollmentFlow)==null||V.onSuccess(),$()}catch(j){U(j)}finally{T(!1)}}if(E.useEffect(()=>{S&&b(!0)},[S]),!r||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:$},"header"),d.jsx($P,{children:d.jsx(Tot,{})}),d.jsx(ep,{children:d.jsx(ya,{})}),d.jsx(mn,{})]});if(n==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:P,onClose:$},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(rg,{})}),d.jsx(Ms,{children:"Remove SMS verification?"}),d.jsxs(ra,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(p0,{children:d.jsx(fr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(mn,{})]});if(n==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:P,onClose:$},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(rg,{})}),d.jsx(Ms,{children:"Remove authenticator app verification?"}),d.jsxs(ra,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(p0,{children:d.jsx(fr,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(mn,{})]});if(n==="passkey"){let k=((F=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:F.shouldUnlinkOnUnenrollMfa)??!0;return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{backFn:P,onClose:$},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(rg,{})}),d.jsx(Ms,{children:"Are you sure you want to remove this passkey?"}),d.jsx(ra,{children:k?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(p0,{children:d.jsx(fr,{$warn:!0,onClick:async function(){var z;i(null);try{await a({removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(mn,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!S)return d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:$},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(qf,{})}),d.jsx(Ms,{children:"Add more security"}),d.jsxs(ra,{children:[f==null?void 0:f.name," does not have any verification methods enabled."]}),d.jsx(p0,{children:d.jsx(fr,{onClick:$,children:"Close"})}),d.jsx(mn,{})]});let D=!S&&!y;return D?d.jsxs(d.Fragment,{children:[d.jsx(Ot,{onClose:$},"header"),d.jsx(na,{style:{marginBottom:"1.5rem"},children:d.jsx(qf,{})}),d.jsx(Ms,{children:"Transaction Protection"}),d.jsx(ra,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(e8,{children:[d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(xZe,{})}),"Enable 2-Step verification for your ",f==null?void 0:f.name," wallet."]}),d.jsxs(Af,{children:[d.jsx(Cf,{children:d.jsx(_Ze,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(p0,{children:[d.jsx(fr,{onClick:()=>b(!0),children:"Continue"}),d.jsx(gl,{onClick:$,children:"Not now"})]}),d.jsx(mn,{})]}):v==="sms"?d.jsx(Bot,{appName:(f==null?void 0:f.name)||"Privy",onComplete:$,onReset:P,onClose:$}):v==="totp"&&x?d.jsx(Hot,{onClose:$,onReset:P,submitEnrollmentWithTotp:({mfaCode:k})=>async function(z){var V;try{return U(void 0),await l({mfaCode:z}),(V=p==null?void 0:p.mfaEnrollmentFlow)==null||V.onSuccess(),$()}catch(j){U(j)}finally{i(null)}}(k),totpInfo:{...x,appName:(f==null?void 0:f.name)||"Privy"}}):v==="passkey"?d.jsx(Mot,{onReset:P,onClose:$,submitEnrollmentWithPasskey:N}):d.jsx(Not,{showIntro:D,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:M,onBackToIntro:function(){b(!1)},handleSelectMethod:async function(k){try{await w()}catch(z){return void U(z)}return k==="totp"?(C(k),I(null),void h().then(z=>{I(z)}).catch(()=>{I(null),P()})):k==="passkey"&&O.length===1?await N():void C(k)},isTotpLoading:v==="totp"&&!x,isPasskeyLoading:R,error:L,onClose:$,setRemovingMfaMethod:async k=>{try{await w()}catch(z){return void U(z)}i(k)}})}},Vot=({providerName:t,ProviderLogo:e,success:r,errorMessage:n,onRetry:i})=>{let s=r?`Successfully connected with ${t}`:n?n.message:`Verifying connection to ${t}`;return d.jsx(Gt,{title:s,subtitle:r?"You're good to go!":n?n.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},secondaryCta:n!=null&&n.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},sz={component:()=>{var I;let{authenticated:t,logout:e,ready:r,user:n}=Ut(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=De(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:g}=Ne(),[m,w]=E.useState(!1),[y,b]=E.useState(void 0),v=((I=l())==null?void 0:I.provider)||"google",{name:C,component:x}=h_(v);return E.useEffect(()=>{u(v).then(()=>{w(!0),f(!0)}).catch($=>{var L,U,W,M,A,_,S,O,P,N,D,F,k,z,V,j;if(f(!1),($==null?void 0:$.privyErrorCode)===ee.ALLOWLIST_REJECTED)return b(void 0),a(),void o(h8);if(($==null?void 0:$.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new qv($).toString()),b(void 0),a(),void o(b2);if(($==null?void 0:$.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(y2);if(($==null?void 0:$.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((U=(L=$.data)==null?void 0:L.data)!=null&&U.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(M=(W=$.data)==null?void 0:W.data)==null?void 0:M.nonce,account:(_=(A=$.data)==null?void 0:A.data)==null?void 0:_.subject,displayName:(P=(O=(S=$.data)==null?void 0:S.data)==null?void 0:O.account)==null?void 0:P.displayName,linkMethod:(N=l())==null?void 0:N.provider,embeddedWalletAddress:(k=(F=(D=$.data)==null?void 0:D.data)==null?void 0:F.otherUser)==null?void 0:k.embeddedWalletAddress,oAuthUserInfo:(j=(V=(z=$.data)==null?void 0:z.data)==null?void 0:V.otherUser)==null?void 0:j.oAuthUserInfo}}),void o(kp);let{retryable:R,detail:T}=function(G,Q){let K={detail:"",retryable:!1},re=$ne(Q);if((G==null?void 0:G.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER&&(K.detail="This account has already been linked to another user."),(G==null?void 0:G.privyErrorCode)===ee.INVALID_CREDENTIALS&&(K.retryable=!0,K.detail="Something went wrong. Try again."),G.privyErrorCode===ee.OAUTH_USER_DENIED&&(K.detail=`Retry and check ${re} to finish connecting your account.`,K.retryable=!0),(G==null?void 0:G.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(K.detail="Too many requests. Please wait before trying again."),(G==null?void 0:G.privyErrorCode)===ee.TOO_MANY_REQUESTS&&G.message.includes("provider rate limit")){let le=h_(Q).name;K.detail=`Request limit reached for ${le}. Please wait a moment and try again.`}if((G==null?void 0:G.privyErrorCode)===ee.OAUTH_ACCOUNT_SUSPENDED){let le=h_(Q).name;K.detail=`Your ${le} account is suspended. Please try another login method.`}return(G==null?void 0:G.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE&&(K.detail="You cannot authorize more than one account for this user."),(G==null?void 0:G.privyErrorCode)===ee.OAUTH_UNEXPECTED&&Q.startsWith("privy:")&&(K.detail="Something went wrong. Please try again."),K}($,v);b({retryable:R,detail:T,message:"Authentication failed"})}).finally(()=>{Dk()})},[C,v]),E.useEffect(()=>{if(r&&t&&m&&n){if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let $=setTimeout(()=>{o(Sp)},Hr);return()=>clearTimeout($)}if(Ih(n,i.embeddedWallets)){let $=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:v,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(Fu)},Hr);return()=>clearTimeout($)}{let $=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return h(),()=>clearTimeout($)}}},[r,t,m,n]),d.jsx(Vot,{providerName:C,ProviderLogo:x,success:m,errorMessage:y,onRetry:y!=null&&y.retryable?()=>{Dk(),c(v),b(void 0)}:void 0})}},Got=E.forwardRef((t,e)=>{let[r,n]=E.useState(""),[i,s]=E.useState(""),[o,a]=E.useState(!1),{authenticated:l,user:c}=Ut(),{initUpdateEmail:u}=Ne(),{navigate:h,setModalData:f,currentScreen:p}=De(),{enabled:g,token:m}=Xs(),w=rr(),y=zne(r)&&(w.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),b=o||!y,v=()=>{!g||m||l?(async C=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:r,captchaToken:C}),h(Nu)}catch(x){f({errorModalData:{error:x,previousScreen:p||Qi}})}a(!1)})(m):(f({captchaModalData:{callback:C=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:r,captchaToken:C})},userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:qr}}),h(ml))};return d.jsxs(d.Fragment,{children:[d.jsxs(Kot,{children:[i&&d.jsx(Pu,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(Yot,{$error:!!i,children:[d.jsx(zx,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:C=>n(C.target.value),onKeyUp:C=>{C.key==="Enter"&&v()},value:r,autoComplete:"email"}),t.stacked?null:d.jsx(Xx,{isSubmitting:o,onClick:v,disabled:b,children:"Submit"})]})]}),t.stacked?d.jsx(fr,{loadingText:null,loading:o,disabled:b,onClick:v,style:{width:"100%"},children:"Submit"}):null]})});let Kot=dse,Yot=use;const Qot=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Gt,{title:t,subtitle:e,icon:zx,watermark:!0,children:d.jsx(_ie,{children:d.jsx(Got,{stacked:!0})})}),Zot={component:()=>d.jsx(Qot,{})},Jot=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=E.useState(null);return d.jsx(Gt,{title:t,subtitle:e,icon:ah,primaryCta:{label:n?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)},disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:d.jsx(p8,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},Xot={component:()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=De(),{user:i}=Ut(),{initUpdatePhone:s}=Ne(),[o,a]=E.useState(!1);return d.jsx(Jot,{onSubmit:async l=>{var c,u,h;a(!0);try{if(!((c=i==null?void 0:i.phone)!=null&&c.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),r(Nu)}catch(f){n({errorModalData:{error:f,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||YP}}),r(qr)}finally{a(!1)}},isSubmitting:o})}};function eat({subscribe:t,getExternalJwt:e,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=Ne(),{logout:l,authenticated:c,ready:u}=Bm();if(!o)throw new J("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=E.useState({status:"initial"}),p=E.useRef(),g=E.useRef(!1),m=E.useRef(e);E.useEffect(()=>{m.current=e},[e]);let w=E.useRef(n);E.useEffect(()=>{w.current=n},[n]);let y=E.useRef(i);E.useEffect(()=>{y.current=i},[i]);let b=E.useRef(s);return E.useEffect(()=>{b.current=s},[s]),E.useEffect(()=>{if(!r||!u)return;let v=async()=>{var C,x,I,$;if(!g.current){g.current=!0;try{f({status:"loading"});let R=await m.current();if(p.current!==void 0&&p.current===R)return void f({status:"done"});if(!R)return c&&(await l(),(C=y.current)==null||C.call(y)),p.current=R,void f({status:"done"});o.startAuthFlow(new oie(R));let{user:T,isNewUser:L=!1}=await o.authenticate();if(!T)throw new J("Failed to sync with custom auth provider");(x=w.current)==null||x.call(w,{user:T,isNewUser:L}),a(T,L),p.current=R,f({status:"done"})}catch(R){if(console.warn(R),await l().catch(()=>{}),(I=y.current)==null||I.call(y),R instanceof ho&&R.privyErrorCode===ee.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout(()=>{v()},0);($=b.current)==null||$.call(b,R),f({status:"error",error:R})}finally{g.current=!1}}};return v(),t(v)},[t,o,a,c,l,r,u]),r?{state:h}:{state:{status:"not-enabled"}}}let tat=Cm(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function rat({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:r}){let n=Lu(),i=E.useRef(),s=E.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),o=(r==null?void 0:r.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=eat({enabled:(r==null?void 0:r.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{n("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),n("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{n("customAuth","onUnauthenticated")},onError:l=>{n("login","onError",l.privyErrorCode||ee.UNKNOWN_AUTH_ERROR)}});return E.useEffect(()=>{(async()=>{var l;r&&!r.isLoading&&((l=i.current)==null||l.call(i))})()},[r==null?void 0:r.enabled,r==null?void 0:r.getCustomAccessToken,r==null?void 0:r.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return E.useEffect(()=>{tat.setState({jwtAuthFlowState:e})},[e]),null}const voe=E.createContext(!1);let U0,boe,xoe,Eoe,_oe,Coe,Aoe;async function yr(){return U0?U0.getAccessToken():Promise.resolve(ot.get(M3)||ot.get(X1)||null)}const nat=(t,e)=>boe(t,e),iat=(t,e)=>xoe(t,e),sat=(t,e)=>Eoe(t,e),oat=(t,e)=>_oe(t,e),aat=t=>Coe(t),lat=t=>Aoe(t),cat=({config:t,...e})=>{var r;if((()=>{if(E.useContext(voe))throw new J("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new J("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new J("Cannot initialize the Privy provider with an invalid Privy app ID");U0||(U0=new mJe({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t),i=E.useMemo(()=>new e8e({appId:e.appId,clientId:e.clientId,storage:ot,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"}),[]);return d.jsx(nJe,{client:i,legacyClient:U0,clientConfig:n,children:d.jsx(nrt,{children:d.jsx(uat,{...e,client:U0,privy:i})})})};let uat=t=>{var er;let e=t.client,r=t.privy,n=Um();Iet();let[i,s]=E.useState(!1),[o,a]=E.useState(!1),[l,c]=E.useState(!1),[u,h]=E.useState(null),[f,p]=E.useState([]),[g,m]=E.useState([]),[w,y]=E.useState(void 0),[b,v]=E.useState(!1),[C,x]=E.useState(null),[I,$]=E.useState(!1),[R,T]=E.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:oe}),[L,U]=E.useState({status:"initial"}),[W,M]=E.useState({status:"initial"}),[A,_]=E.useState({status:"initial"}),[S,O]=E.useState({status:"initial"}),[P,N]=E.useState({status:"initial"}),[D,F]=E.useState({status:"initial"}),[k,z]=E.useState(null),V=rr(),j=nie(),[G,Q]=E.useState({}),[K,re]=E.useState(null),le=E.useRef(null),[ne,ae]=E.useState(!1),[ye,de]=E.useState(!1),he=E.useRef(null),Xe=E.useRef(null),ie=E.useRef(bJe),[xe,be]=E.useState(!1);e.onStoreCustomerAccessToken=B=>{B&&Ae(ie,"accessToken","onAccessTokenGranted",{accessToken:B})},e.onDeleteCustomerAccessToken=()=>{h(null),c(!1),Ae(ie,"accessToken","onAccessTokenRemoved")};let se=E.useRef(null),we=E.useRef(null),vt=E.useRef(!1),ce=({showWalletUIs:B})=>vt.current?vt.current:B!==void 0?!B:!V.embeddedWallets.showWalletUIs,Ie=B=>{x(B),setTimeout(()=>{s(!0)},15)};E.useEffect(()=>{var Z,X,te;if(!u)return void((Z=e.connectors)==null?void 0:Z.removeEmbeddedWalletConnectors());let B=ql(u),H=DQ(u),Y=G7(u);B&&H.length||((X=e.connectors)==null||X.removeEmbeddedWalletConnectors()),Y||((te=e.connectors)==null||te.removeImportedWalletConnector()),e.connectors?k?(B&&e.connectors.addEmbeddedWalletConnectors({walletProxy:k,user:u,embeddedWallets:H,defaultChain:V.defaultChain,appId:t.appId,privyClient:r}),Y&&e.connectors.addImportedWalletConnector(k,Y.address,V.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[k,u]),E.useEffect(()=>{var B;k&&((B=le.current)==null||B.call(le,k))},[k]);let Fe=E.useCallback((B,H)=>{h(B),v(H),c(!0),de(!0)},[]);E.useEffect(()=>{ye&&k&&u&&(async()=>{var Z;let B=zP(u,V.embeddedWallets.ethereum.createOnLogin),H=WP(u,V.embeddedWallets.solana.createOnLogin),Y=await yr();if(Y){if(B&&H){let X=await k.create({accessToken:Y});return await k.createSolana({accessToken:Y,ethereumAddress:X==null?void 0:X.address}),void de(!1)}if(H)return await k.createSolana({accessToken:Y,ethereumAddress:(Z=ql(u))==null?void 0:Z.address}),await Ge.refreshSessionAndUser(),void de(!1);if(B)return await k.create({accessToken:Y}),void de(!1)}})().catch(console.error)},[ye&&k&&u]),E.useEffect(()=>{if(V.externalWallets.solana.connectors)return V.externalWallets.solana.connectors.onMount(),()=>{var B;return(B=V.externalWallets.solana.connectors)==null?void 0:B.onUnmount()}},[V.externalWallets.solana.connectors]),E.useEffect(()=>{!o&&j&&async function(){var me,pe,ze;let B,H=tt(),Y=Qe(),Z=qH();e.initializeConnectorManager({walletConnectCloudProjectId:V.walletConnectCloudProjectId,rpcConfig:V.rpcConfig,chains:V.chains,defaultChain:V.defaultChain,store:Z,walletList:V.appearance.walletList,shouldEnforceDefaultChainOnConnect:V.shouldEnforceDefaultChainOnConnect,externalWalletConfig:V.externalWallets,appName:V.name??"Privy",walletChainType:V.appearance.walletChainType,appKit:V.externalWallets.walletConnect.appKit,setBaseAccountSdk:y}),(me=e.connectors)==null||me.on("connectorInitialized",()=>{B&&clearTimeout(B);let xt=e.connectors.walletConnectors.length,_e=e.connectors.walletConnectors.reduce((Le,lt)=>Le+(lt.initialized?1:0),0);_e===xt?be(!0):B=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:_e,expected:xt}),be(!0)},1500)}),(pe=e.connectors)==null||pe.initialize().then(()=>{Te()});let X=await e.getAuthenticatedUser(),te=!!X;V.legal.requireUsersAcceptTerms&&X&&!X.hasAcceptedTerms?(await e.logout(),Ge.setReadyToTrue(!0),Ae(ie,"logout","onSuccess")):((ze=V.customAuth)!=null&&ze.enabled||(c(!!X),X&&Ae(ie,"login","onComplete",{user:X,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),h(X)),H?we.current=te?"link":"login":Y&&!te?(we.current="login",Q({telegramAuthModalData:{seamlessAuth:!0}}),Ie(U3)):Ge.setReadyToTrue(!!X))}()},[e,K,o,j]),E.useEffect(()=>{if(o){if(!u||!u.linkedAccounts.find(B=>B.type==="wallet"&&B.walletClientType==="privy"))return void ae(!!k);if([...f].some(B=>B.walletClientType==="privy"))return void ae(!0);ae(!!k)}},[o,u,f,k]),E.useEffect(()=>{var B;(B=e.connectors)==null||B.setWalletList(V.appearance.walletList)},[V.appearance.walletList.join()]);let tt=()=>{let B=OZe();return B.inProgress&&B.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):B.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:B.stateCode,authorizationCode:B.authorizationCode}):(B.inProgress&&function(H){return H.startsWith("privy:")}(B.provider)&&!B.popupFlow&&(new BroadcastChannel(bB).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:B.stateCode,authorizationCode:B.authorizationCode}),window.close()),!!B.inProgress&&!!B.withPrivyUi&&(e.startAuthFlow(new f0({...B,customOAuthRedirectUrl:V.customOAuthRedirectUrl})),Ie(sz),!0))},Qe=()=>{var Y;let B=function(){let Z;return(Z=function(){let X=new URLSearchParams(window.location.search),te=Number(X.get("id")||""),me=X.get("hash"),pe=Number(X.get("auth_date")||""),ze=X.get("first_name");if(te&&ze&&pe&&me)return Object.fromEntries(X.entries())}())?(eB(),{flowType:"login-url",authData:Z}):(Z=function(){let X=window.location.hash;if(!X||!X.startsWith("#tgWebAppData"))return;let te=XU(X.replace("#tgWebAppData=","")),{user:me,auth_date:pe,hash:ze}=te;return me&&pe&&ze?te:void 0}())?(eB(),{flowType:"web-app",authData:Z}):void 0}();if(!B||!V.loginMethods.telegram||!((Y=V.loginConfig.telegramAuthConfiguration)!=null&&Y.seamlessAuthEnabled))return;let H=new $1;return e.startAuthFlow(H),B.flowType==="login-url"&&(H.meta.telegramWebAppData=void 0,H.meta.telegramAuthResult=B.authData),B.flowType==="web-app"&&(H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=B.authData),!0},$t=async(B,H,Y,Z)=>{var X,te;if(B!=="solana_adapter")ht(await((X=e.connectors)==null?void 0:X.createEthereumWalletConnector({connectorType:B,walletClientType:H}))||null,H,Y,Z);else{let me=(te=e.connectors)==null?void 0:te.findSolanaWalletConnector(H);if(!me)return;ht(me,H,Y,Z)}};async function ht(B,H,Y,Z){if(!B)return T({status:"disconnected",connectedWallet:null,connectError:new kr("Unable to connect to wallet."),connector:null,connectRetry:oe}),Z==null?void 0:Z(null,Y);T({status:"disconnected",connectedWallet:null,connectError:null,connector:B,connectRetry:oe}),B instanceof cg&&H&&await B.resetConnection(H),T({connector:B,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>ht(B,H,Y,Z)});try{let X=await B.connect({showPrompt:!0});if((!X||Xc(X))&&V.shouldEnforceDefaultChainOnConnect&&!V.chains.find(te=>te.id===Number(X==null?void 0:X.chainId.replace("eip155:","")))&&((X==null?void 0:X.connectorType)!=="wallet_connect_v2"||(X==null?void 0:X.walletClientType)!=="metamask")){T(te=>({...te,connector:B,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:oe}));try{await(X==null?void 0:X.switchChain(V.defaultChain.id)),X&&(X.chainId=jy(Pr(V.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${V.defaultChain.id}`)}}return T(te=>({...te,status:"connected",connectedWallet:X,connectError:null,connectRetry:oe})),X&&Ae(ie,"connectWallet","onSuccess",{wallet:X}),Z==null?void 0:Z(X,Y)}catch(X){return X instanceof Ki?(console.warn(X.cause?X.cause:X.message),Ae(ie,"connectWallet","onError",X.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(X),Ae(ie,"connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR)),T(te=>({...te,status:"disconnected",connectedWallet:null,connectError:X})),Z==null?void 0:Z(null,Y)}}let it=async(B,H,Y)=>{if(B===null||!Xc(B))return;let Z=new ag(e,B,H,Y);e.startAuthFlow(Z)},ke=async(B,H,Y,Z="plain")=>{let X=n(yse);if(Z==="transaction"&&!X)throw new J("useSolanaLedger plugin hook must be mounted");if(B===null||!iB(B))return;let te=new m6(B,e,H,Y,Z,X?{deserializeTransactionFromB64String:X.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:X.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(te)},Te=()=>{let B=new URLSearchParams(window.location.search),H=B.get("privy_connector"),Y=B.get("privy_wallet_client"),Z=B.get("privy_connect_only")==="true";if(!H||!Y)return;let X=Xne({connectorType:H,walletClientType:Y});if(!X||!X.isInstalled)return Ie(Iot);if(!e.connectors)throw new J("Connector not initialized");Ie(Z?aS:pu);let te=new URL(window.location.href);te.searchParams.delete("privy_connector"),te.searchParams.delete("privy_wallet_client"),te.searchParams.delete("privy_connect_only"),window.history.pushState({},"",te),$t(H,Y,void 0,Z?void 0:H==="solana_adapter"?ke:it)};E.useEffect(()=>{o&&l&&u===null&&e.getAuthenticatedUser().then(h)},[o,l,u,e]);let fe=B=>{if(!l)throw Ae(ie,"linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:B}),new J("User must be authenticated before linking an account.")},Ve=B=>{if(!l||!u)return!1;if(B.walletClientType==="privy")return!0;for(let H of u.linkedAccounts)if(H.type==="wallet"&&H.address===B.address&&H.walletClientType!=="privy")return!0;return!1},st=async B=>{let H;if(!e.connectors)throw new J("Connector not initialized");H=B.type==="ethereum"?e.connectors.findWalletConnector(B.connectorType,B.walletClientType)||null:e.connectors.findSolanaWalletConnector(B.walletClientType)||null,T(Y=>({...Y,connector:H,status:"connected",connectedWallet:B,connectError:null,connectRetry:oe})),V.captchaEnabled&&!l?(Q({captchaModalData:{callback:Y=>Xc(B)?it(B,Y):ke(B,Y),userIntentRequired:!1,onSuccessNavigateTo:pu,onErrorNavigateTo:qr}}),Ie(ml)):(Xc(B)?await it(B):await ke(B),Ie(pu))},Ke=()=>{p(B=>{var Y;let H=((Y=e.connectors)==null?void 0:Y.wallets.filter(Xc).map(Z=>({...Z,linked:Ve(Z),loginOrLink:async()=>{if(!await Z.isConnected())throw new J("Wallet is not connected");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new J("Cannot link or login with embedded wallet");st(Z)},fund:async X=>{await Ge.fundWallet(Z.address,X)},unlink:async()=>{if(!l)throw new J("User is not authenticated.");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new J("Cannot unlink an embedded wallet");h(await e.unlinkEthereumWallet(Z.address))}})))||[];return Bk(B,H)?B:H}),m(B=>{var Y;let H=(((Y=e.connectors)==null?void 0:Y.wallets)??[]).filter(iB).map(Z=>({...Z,linked:Ve(Z),loginOrLink:async()=>{if(!await Z.isConnected())throw new J("Wallet is not connected");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new J("Cannot link or login with embedded wallet");st(Z)},fund:async()=>{throw new J("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!l)throw new J("User is not authenticated.");if(Z.connectorType==="embedded"&&Z.walletClientType==="privy")throw new J("Cannot unlink an embedded wallet");h(await e.unlinkSolanaWallet(Z.address))}}));return Bk(B,H)?B:H})};E.useEffect(()=>{Ke()},[u==null?void 0:u.linkedAccounts,l,o]),E.useEffect(()=>{if(o){if(!e.connectors)throw new J("Connector not initialized");Ke(),e.connectors.on("walletsUpdated",Ke)}},[o]),E.useEffect(()=>{var B,H;[...((B=V.loginMethodsAndOrder)==null?void 0:B.primary)??[],...((H=V.loginMethodsAndOrder)==null?void 0:H.overflow)??[]].filter(Y=>Y.startsWith("privy:")).forEach(Y=>e.getCrossAppProviderDetails(Y.replace("privy:","")))},[!!e]);let at=({transaction:B,sponsor:H,uiOptions:Y,fundWalletConfig:Z,address:X,signOnly:te})=>new Promise(async(me,pe)=>{let{requesterAppId:ze}=Y||{},xt=te?"signTransaction":"sendTransaction",_e=X?Zo(u,X):ql(u);if(!_e&&X){let kt=Y9(f,X);if(kt){if(H)throw new J("Cannot sponsor transactions for externally connected wallet.");try{let gr=await kt.getEthereumProvider(),ct={...B,from:X,chainId:B.chainId||Number(kt.chainId.replace("eip155:","")),value:B.value!==void 0?Pr(B.value):void 0},It=await gr.request({method:xt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[ct]});return Ae(ie,xt,"onSuccess",{hash:It}),void me({hash:It})}catch(gr){return Ae(ie,xt,"onError",ee.TRANSACTION_FAILURE),void pe(gr??new ji("Unable to "+xt+gr))}}}if(!_e)return Ae(ie,xt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void pe(new J("No embedded or connected wallet found for address."));if(!l||!u)return Ae(ie,xt,"onError",ee.MUST_BE_AUTHENTICATED),void pe(Error("User must be authenticated before signing with a Privy wallet"));let Le=_e.address,lt=_e.walletIndex??0,{entropyId:Ue,entropyIdVerifier:Ee}=di(u,_e),pt=Bt.wallets.find(kt=>kt.walletClientType==="privy"&&Ur(kt.address)===Ur(Le));if(!pt)return Ae(ie,xt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void pe(Error("Must have a Privy wallet before signing"));let At=await pt.getEthereumProvider(),Lt=await At.request({method:"eth_chainId"}),Kt=B.chainId?Number(B.chainId):Lie(Lt);(kt=>{if(!V.chains.map(gr=>gr.id).includes(kt))throw new kr(`Chain ID ${kt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ee.UNSUPPORTED_CHAIN_ID)})(Kt);let tr={...B,from:B.from??Le,chainId:Kt},Yt=await yr();if(!Yt||!k)return Ae(ie,xt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void pe(Error("Must have valid access token and Privy wallet to send transaction"));let pr=em(tr.chainId,V.chains,V.rpcConfig,{appId:t.appId}),rt=Hn(_e),tn=async({transactionRequest:kt})=>{try{let gr;if(!await Ge.recoverEmbeddedWallet({address:Le}))throw Ae(ie,xt,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),pe(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(H){let ct=await(async({transactionRequest:It})=>{if(!rt)throw new J("Sponsoring is only supported for wallets on the TEE stack");if(te)throw new J("Cannot sponsor a sign transaction request");let br=_i=>_i==null?void 0:Pr(_i),Mr=await ss(r,async({message:_i})=>await k.signWithUserSigner({accessToken:Yt,requesterAppId:ze,message:_i}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:jy(Pr(It.chainId)),sponsor:!0,params:{transaction:{from:It.from,to:It.to,chain_id:br(It.chainId),data:qi(It.data)?It.data?It.data:Pr(Uint8Array.from(It.data)):void 0,value:br(It.value)}},wallet_id:_e.id});if(Mr.data&&"hash"in Mr.data)return Mr.data.hash;throw new ji("Unable to sign transaction")})({transactionRequest:kt});return Ae(ie,"sendTransaction","onSuccess",{hash:ct}),ct}if(rt){let ct=br=>br==null?void 0:Pr(br),It=await ss(r,async({message:br})=>await k.signWithUserSigner({accessToken:Yt,requesterAppId:ze,message:br}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:kt.from,to:kt.to,nonce:ct(kt.nonce),chain_id:ct(kt.chainId),data:qi(kt.data)?kt.data?kt.data:Pr(Uint8Array.from(kt.data)):void 0,value:ct(kt.value),type:kt.type,gas_limit:ct(kt.gasLimit??kt.gas),gas_price:ct(kt.gasPrice??kt.gas),max_fee_per_gas:ct(kt.maxFeePerGas),max_priority_fee_per_gas:ct(kt.maxPriorityFeePerGas)}},wallet_id:_e.id});if(!It.data||!("signed_transaction"in It.data))throw new ji("Unable to sign transaction");gr=It.data.signed_transaction}else gr=await async function({accessToken:ct,entropyId:It,entropyIdVerifier:br,transactingWalletIndex:Mr,walletProxy:_i,transactionRequest:Th,requesterAppId:Hm}){return(await _i.rpc({entropyId:It,entropyIdVerifier:br,hdWalletIndex:Mr??0,chainType:"ethereum",accessToken:ct,requesterAppId:Hm,request:{method:"eth_signTransaction",params:[Th]}})).response.data}({accessToken:Yt,entropyId:Ue,entropyIdVerifier:Ee,transactingWalletIndex:lt,walletProxy:k,transactionRequest:kt,requesterAppId:ze});if(te)return Ae(ie,"signTransaction","onSuccess",{signature:gr}),gr;{let ct=await pr.sendRawTransaction({serializedTransaction:gr});return Ae(ie,"sendTransaction","onSuccess",{hash:ct}),ct}}catch(gr){throw Ae(ie,xt,"onError",ee.TRANSACTION_FAILURE),gr}};if(ce({showWalletUIs:Y==null?void 0:Y.showWalletUIs})){let kt=te||H?tr:await x6(tr,pr,tr.from);try{let gr=await tn({transactionRequest:kt});te?Ae(ie,"signTransaction","onSuccess",{signature:gr}):Ae(ie,"sendTransaction","onSuccess",{hash:gr}),me({hash:gr})}catch(gr){Ae(ie,xt,"onError",ee.TRANSACTION_FAILURE),pe(gr)}}else{let kt={connectingWalletAddress:Le,recoveryMethod:_e.recoveryMethod,entropyId:Ue,entropyIdVerifier:Ee,onCompleteNavigateTo:goe,isUnifiedWallet:rt,onFailure:ct=>{Ae(ie,xt,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),pe(ct)}},gr=Hse(V)?qB({address:Le,appConfig:V,fundWalletConfig:Z,methodScreen:Hs,chainIdOverride:tr.chainId,comingFromSendTransactionScreen:!0}):void 0;Q({connectWallet:kt,sendTransaction:{transactionRequest:tr,transactingWalletIndex:lt,transactingWalletAddress:Le,entropyId:Ue,entropyIdVerifier:Ee,signOnly:te,scanTransaction:async()=>{var It,br,Mr,_i;let ct=await x6(tr,pr,tr.from);return await e.scanTransaction({metadata:{domain:V.embeddedWallets.transactionScanning.domain},chain_id:ct.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:ct.from,to:ct.to,value:(It=ct.value)==null?void 0:It.toString(),gas:(br=ct.gas)==null?void 0:br.toString(),gasPrice:(Mr=ct.gasPrice)==null?void 0:Mr.toString(),nonce:(_i=ct.nonce)==null?void 0:_i.toString(),data:ct.data}]}})},getIsSponsored:async()=>!!H,onConfirm:({transactionRequest:ct})=>tn({transactionRequest:ct}),onSuccess:ct=>{te?Ae(ie,"signTransaction","onSuccess",{signature:ct.hash}):Ae(ie,"sendTransaction","onSuccess",{hash:ct.hash}),me(ct)},onFailure:ct=>{Ae(ie,xt,"onError",ee.TRANSACTION_FAILURE),pe(ct)},uiOptions:Y||{},fundWalletConfig:Z,requesterAppId:ze},funding:gr}),Ie(yd)}});function Pe(){return new Promise(async(B,H)=>{let Y=await yr();if(!Y||!k)throw Error("Must have valid access token to enroll in MFA");try{await k.verifyMfa({accessToken:Y}),B()}catch(Z){H(Z)}})}let dt=B=>B==null?void 0:B.linkedAccounts.filter(H=>H.latestVerifiedAt!==null&&!(H.type==="wallet"&&H.walletClientType==="privy")).sort((H,Y)=>Y.latestVerifiedAt.getTime()-H.latestVerifiedAt.getTime())[0],Et=B=>{let H=(u==null?void 0:u.linkedAccounts.filter(X=>X.type===B).length)??0,{displayName:Y,loginMethod:Z}=d8(B);if(B==="passkey"&&H>=5||B!=="passkey"&&H>=1)throw Ae(ie,"linkAccount","onError",ee.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:Z}),new J(`User already has an account of type ${Y} linked.`)};async function bt({showAutomaticRecovery:B=!1,legacySetWalletPasswordFlow:H=!1}){x(null);let Y=H?"setWalletPassword":"setWalletRecovery";if(!l||!u)throw Ae(ie,Y,"onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let Z=fa(u);if(!Z||!k)throw Ae(ie,Y,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let X=Hn(Z);if(X)throw Ae(ie,Y,"onError",ee.UNSUPPORTED_WALLET_TYPE),new J("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Pe()}catch(te){throw Ae(ie,Y,"onError",ee.MISSING_MFA_CREDENTIALS),te}return new Promise((te,me)=>{let pe=Z.recoveryMethod==="user-passcode",ze=Lse({walletAction:"update",availableRecoveryMethods:V.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:H,isResettingPassword:pe,showAutomaticRecovery:B}),{entropyId:xt,entropyIdVerifier:_e}=di(u),Le={recoveryMethod:Z.recoveryMethod,connectingWalletAddress:Z.address,onCompleteNavigateTo:ze,shouldForceMFA:!1,entropyId:xt,isUnifiedWallet:X,entropyIdVerifier:_e,onFailure:lt=>{Ae(ie,Y,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),me(lt)}};Q({setWalletPassword:{onSuccess:lt=>{Ae(ie,Y,"onSuccess",{method:"user-passcode",wallet:lt}),te(lt)},onFailure:lt=>{Ae(ie,Y,"onError",ee.USER_EXITED_SET_PASSWORD_FLOW),me(lt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:xt,entropyIdVerifier:_e,onFailure:me},connectWallet:Le,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:pe,shouldCreateEth:!1,shouldCreateSol:!1}}),Ie(yd)})}async function Be({appId:B,action:H}){let Y=await yr();if(H==="link"&&!Y)throw Ae(ie,"linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${B}`}),new J("User must be authenticated before linking an account.");if(H==="login"&&Y)throw Ae(ie,"login","onError",ee.UNKNOWN_AUTH_ERROR),new J("Attempted to log in, but user is already logged in. Use a `link` helper instead.");se.current=`privy:${B}`,we.current=H;let Z=n8();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:B}}),new Promise(async(X,te)=>{let{name:me,logoUrl:pe}=await Fie({api:e.api,providerAppId:B,requesterAppId:V.id});Q({crossAppAuth:{appId:B,name:me,logoUrl:pe,action:H,popup:Z,onSuccess:X,onError:te}}),Ie(dot)})}let Sr={ready:o,authenticated:l,user:u,walletConnectors:e.connectors||null,connectWallet:B=>{B&&"target"in B&&B&&(B=void 0),Q({externalConnectWallet:{walletList:B!=null&&B.walletList&&(B==null?void 0:B.walletList.length)>0?B.walletList:void 0,suggestedAddress:B==null?void 0:B.suggestedAddress,walletChainType:B==null?void 0:B.walletChainType,description:B==null?void 0:B.description}}),Ie(iS)},linkWallet:B=>{B&&"target"in B&&B&&(B=void 0),fe("siwe"),se.current="siwe",we.current="link",Q({...G,externalConnectWallet:{...G.externalConnectWallet,suggestedAddress:B==null?void 0:B.suggestedAddress,walletList:B==null?void 0:B.walletList,walletChainType:B==null?void 0:B.walletChainType,description:B!=null&&B.suggestedAddress?d.jsxs("span",{children:["Link the wallet with address"," ",d.jsx(Dt,{showCopyIcon:!1,address:B==null?void 0:B.suggestedAddress})," ",V!=null&&V.name?`to ${V.name}.`:"."]}):`Link a wallet to your ${V==null?void 0:V.name} account`}}),Ie(F3)},startCrossAppAuthFlow:Be,linkEmail:()=>{fe("email"),Et("email"),se.current="email",we.current="link",Ie(kot)},linkPhone:()=>{fe("sms"),Et("phone"),se.current="sms",we.current="link",Ie(YP)},linkGoogle:async()=>{fe("google"),Et("google_oauth"),we.current="link",await Ge.initLoginWithOAuth("google")},linkTwitter:async()=>{fe("twitter"),Et("twitter_oauth"),we.current="link",await Ge.initLoginWithOAuth("twitter")},linkDiscord:async()=>{fe("discord"),Et("discord_oauth"),we.current="link",await Ge.initLoginWithOAuth("discord")},linkGithub:async()=>{fe("github"),Et("github_oauth"),we.current="link",await Ge.initLoginWithOAuth("github")},linkSpotify:async()=>{fe("spotify"),Et("spotify_oauth"),we.current="link",await Ge.initLoginWithOAuth("spotify")},linkInstagram:async()=>{fe("instagram"),Et("instagram_oauth"),we.current="link",await Ge.initLoginWithOAuth("instagram")},linkTiktok:async()=>{fe("tiktok"),Et("tiktok_oauth"),we.current="link",await Ge.initLoginWithOAuth("tiktok")},linkLine:async()=>{fe("line"),Et("line_oauth"),we.current="link",await Ge.initLoginWithOAuth("line")},linkLinkedIn:async()=>{fe("linkedin"),Et("linkedin_oauth"),we.current="link",await Ge.initLoginWithOAuth("linkedin")},linkApple:async()=>{fe("apple"),Et("apple_oauth"),we.current="link",await Ge.initLoginWithOAuth("apple")},linkPasskey:async()=>{fe("passkey"),Et("passkey"),await Ge.initLinkWithPasskey(),Ie(ait)},linkTelegram:async B=>{if(fe("telegram"),Et("telegram"),we.current="link",se.current="telegram",B==null?void 0:B.launchParams)if(B.launchParams.initDataRaw){let H=new $1;e.startAuthFlow(H),H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=XU(B.launchParams.initDataRaw),Q({telegramAuthModalData:{seamlessAuth:!0}}),Ie(U3)}else Ae(ie,"linkAccount","onError",ee.INVALID_DATA,{linkMethod:"telegram"});else await Ge.initLoginWithTelegram();Ie(U3)},linkFarcaster:async()=>{fe("farcaster"),Et("farcaster"),await Ge.initLoginWithFarcaster(),we.current="link",se.current="farcaster",Ie(sS)},updateEmail:()=>{if(fe("email"),!(u!=null&&u.email))throw new J("User does not have an email linked to their account.");we.current="update",se.current="email",Ie(Zot)},updatePhone:()=>{if(fe("sms"),!(u!=null&&u.phone))throw new J("User does not have a phone number linked to their account.");we.current="update",se.current="sms",Ie(Xot)},login:async B=>{B&&"target"in B&&B&&(B=void 0);let H="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let Y=await new Promise(Z=>{re(X=>Z.bind(X))});if(re(null),Y)return void console.warn(H)}!u||u.isGuest?(we.current="login",Q({login:B}),Ie(Qi)):console.warn(H)},connectOrCreateWallet:async()=>{o||(await new Promise(B=>{re(()=>B)}),re(null)),l?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(we.current="connect-or-create",Ie(Ise))},logout:async()=>{if(we.current=null,se.current=null,u&&e.clearProviderAcccessTokens(u),x(null),await e.logout(),u&&k)try{await k.clearMfa({userId:u.id})}catch{}h(null),c(!1),Ae(ie,"logout","onSuccess"),s(!1),ot.del(Mk),ot.del(Cne(V.id))},getAccessToken:E.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async B=>{let H;return h(H=B.startsWith("0x")?await e.unlinkEthereumWallet(B):await e.unlinkSolanaWallet(B)),H},unlinkEmail:async B=>{let H=await e.unlinkEmail(B);return h(H),H},unlinkPhone:async B=>{let H=await e.unlinkPhone(B);return h(H),H},unlinkGoogle:async B=>{let H=await e.unlinkOAuth("google",B);return h(H),H},unlinkTwitter:async B=>{let H=await e.unlinkOAuth("twitter",B);return h(H),H},unlinkDiscord:async B=>{let H=await e.unlinkOAuth("discord",B);return h(H),H},unlinkGithub:async B=>{let H=await e.unlinkOAuth("github",B);return h(H),H},unlinkSpotify:async B=>{let H=await e.unlinkOAuth("spotify",B);return h(H),H},unlinkInstagram:async B=>{let H=await e.unlinkOAuth("instagram",B);return h(H),H},unlinkTiktok:async B=>{let H=await e.unlinkOAuth("tiktok",B);return h(H),H},unlinkLine:async B=>{let H=await e.unlinkOAuth("line",B);return h(H),H},unlinkLinkedIn:async B=>{let H=await e.unlinkOAuth("linkedin",B);return h(H),H},unlinkApple:async B=>{let H=await e.unlinkOAuth("apple",B);return h(H),H},unlinkFarcaster:async B=>{let H=await e.unlinkFarcaster(B);return h(H),H},unlinkTelegram:async B=>{let H=await e.unlinkTelegram(B);return h(H),H},unlinkPasskey:async B=>{let H=await yr();if(!H)throw Error("Must have valid access token to enroll in MFA");if(!k)throw Error("Wallet proxy not initialized.");let Y=V.passkeys.shouldUnenrollMfaOnUnlink;await k.unlinkPasskeyAccount({credentialId:B,accessToken:H,removeAsMfa:Y});let Z=await e.getAuthenticatedUser();return h(Z),Z},unlinkCrossAppAccount:async({subject:B})=>{var Z;let H=(Z=u==null?void 0:u.linkedAccounts.find(X=>X.type==="cross_app"&&X.subject===B))==null?void 0:Z.providerApp;if(!H)throw new J("Invalid subject");e.storeProviderAccessToken(H.id,null);let Y=await e.unlinkOAuth(`privy:${H.id}`,B);return h(Y),Y},setWalletRecovery:async B=>bt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(B==null?void 0:B.showAutomaticRecovery)??!1}),setWalletPassword:async()=>bt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(B,H)=>new Promise(async(Y,Z)=>{var Ue;let{requesterAppId:X}=(H==null?void 0:H.uiOptions)||{},te=B.message,me=H!=null&&H.address?Zo(u,H.address):ql(u);if(!me&&(H==null?void 0:H.address)!==void 0){let Ee=Y9(f,H.address);if(Ee)try{let pt=await Ee.getEthereumProvider(),At=await pt.request({method:"personal_sign",params:[te,Ee.address]});return Ae(ie,"signMessage","onSuccess",{signature:At}),void Y({signature:At})}catch(pt){return Ae(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),void Z(pt??new ji("Unable to sign message"))}}if(!me)throw new J("No embedded or connected wallet found for address.");if(!l||!u)return Ae(ie,"signMessage","onError",ee.MUST_BE_AUTHENTICATED),void Z(Error("User must be authenticated before signing with a Privy wallet"));let pe=me.address,ze=me.walletIndex??0,{entropyId:xt,entropyIdVerifier:_e}=di(u,me),Le=Hn(me);if(typeof te!="string"||te.length<1)return Ae(ie,"signMessage","onError",ee.INVALID_MESSAGE),void Z(Error("Message must be a non-empty string"));let lt=async()=>{let Ee;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let pt=await yr();if(!k||!pt||!await Ge.recoverEmbeddedWallet({address:pe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:pe,requesterAppId:X}}),Le){let At=qi(B.message,{strict:!0}),Lt=await ss(r,async({message:Kt})=>await k.signWithUserSigner({accessToken:pt,requesterAppId:X,message:Kt}),{chain_type:"ethereum",method:"personal_sign",params:At?{message:te.slice(2),encoding:"hex"}:{message:te,encoding:"utf-8"},wallet_id:me.id});if(!Lt.data||!("signature"in Lt.data))throw new ji("Unable to sign message");Ee=Lt.data.signature}else{let{response:At}=await k.rpc({accessToken:pt,entropyId:xt,entropyIdVerifier:_e,chainType:"ethereum",hdWalletIndex:ze,requesterAppId:X,request:{method:"personal_sign",params:[te,pe]}});Ee=At.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:pe,requesterAppId:X}}),Ee};if(ce({showWalletUIs:(Ue=H==null?void 0:H.uiOptions)==null?void 0:Ue.showWalletUIs}))try{let Ee=await lt();Ae(ie,"signMessage","onSuccess",{signature:Ee}),Y({signature:Ee})}catch(Ee){Ae(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),Z(Ee??new ji("Unable to sign message"))}else Q({signMessage:{method:"personal_sign",data:te,confirmAndSign:lt,onSuccess:Ee=>{Ae(ie,"signMessage","onSuccess",{signature:Ee}),Y({signature:Ee})},onFailure:Ee=>{Ae(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),Z(Ee)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:me.recoveryMethod,connectingWalletAddress:pe,entropyId:xt,entropyIdVerifier:_e,onCompleteNavigateTo:fS,isUnifiedWallet:Le,onFailure:Ee=>{Ae(ie,"signMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),Z(Ee)}}}),Ie(yd)}),signTypedData:(B,H)=>new Promise(async(Y,Z)=>{var Ue;let{requesterAppId:X}=(H==null?void 0:H.uiOptions)||{},te=H!=null&&H.address?Zo(u,H.address):ql(u);if(!te&&(H!=null&&H.address)){let Ee=Y9(f,H.address);if(Ee)try{let pt=await Ee.getEthereumProvider(),At=R3(B),Lt=await pt.request({method:"eth_signTypedData_v4",params:[Ee.address,At]});return Ae(ie,"signTypedData","onSuccess",{signature:Lt}),void Y({signature:Lt})}catch(pt){return Ae(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),void Z(pt??new ji("Unable to sign typed data "+pt))}}if(!te)throw new J("No embedded or connected wallet found for address.");if(!l||!u)return Ae(ie,"signTypedData","onError",ee.MUST_BE_AUTHENTICATED),void Z(Error("User must be authenticated before signing with a Privy wallet"));let me=te.address,pe=te.walletIndex??0,{entropyId:ze,entropyIdVerifier:xt}=di(u,te),_e=Hn(te),Le=R3(B),lt=async()=>{let Ee;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let pt=await yr();if(!k||!pt||!await Ge.recoverEmbeddedWallet({address:me}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:me,requesterAppId:X}}),_e){let{domain:At,types:Lt,primaryType:Kt,message:tr}=Le,Yt=await ss(r,async({message:pr})=>await k.signWithUserSigner({accessToken:pt,requesterAppId:X,message:pr}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:At,types:Lt,primary_type:Kt,message:tr}},wallet_id:te.id});if(!Yt.data||!("signature"in Yt.data))throw new ji("Unable to sign message");Ee=Yt.data.signature}else{let{response:At}=await k.rpc({accessToken:pt,entropyId:ze,entropyIdVerifier:xt,chainType:"ethereum",hdWalletIndex:pe,requesterAppId:X,request:{method:"eth_signTypedData_v4",params:[me,Le]}});Ee=At.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:me,requesterAppId:X}}),Ee};if(ce({showWalletUIs:(Ue=H==null?void 0:H.uiOptions)==null?void 0:Ue.showWalletUIs}))try{let Ee=await lt();Ae(ie,"signTypedData","onSuccess",{signature:Ee}),Y({signature:Ee})}catch(Ee){Ae(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),Z(Ee??new ji("Unable to sign message"))}else Q({signMessage:{method:"eth_signTypedData_v4",data:Le,confirmAndSign:lt,onSuccess:Ee=>{Ae(ie,"signTypedData","onSuccess",{signature:Ee}),Y({signature:Ee})},onFailure:Ee=>{Ae(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),Z(Ee)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:te.recoveryMethod,connectingWalletAddress:te.address,entropyId:ze,isUnifiedWallet:_e,entropyIdVerifier:xt,onCompleteNavigateTo:fS,onFailure:Ee=>{Ae(ie,"signMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),Z(Ee)}}}),Ie(yd)}),sendTransaction:async(B,H)=>await at({transaction:B,sponsor:H==null?void 0:H.sponsor,uiOptions:H==null?void 0:H.uiOptions,fundWalletConfig:H==null?void 0:H.fundWalletConfig,address:H==null?void 0:H.address,signOnly:!1}),signTransaction:async(B,H)=>({signature:(await at({transaction:B,uiOptions:H==null?void 0:H.uiOptions,address:H==null?void 0:H.address,signOnly:!0})).hash}),exportWallet:B=>new Promise(async(H,Y)=>{if(!l||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));B&&"target"in B&&B&&(B=void 0);let Z=B!=null&&B.address?Zo(u,B.address):ql(u);if(!Z)return void Y(new J("User must have an embedded wallet."));let X=Z.address,{entropyId:te,entropyIdVerifier:me}=di(u,Z),pe=Hn(Z);if(!X)return void Y(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!wn(X))return void Y(Error("Must provide a valid Ethereum address."));let ze={recoveryMethod:Z.recoveryMethod,connectingWalletAddress:Z.address,isUnifiedWallet:pe,entropyId:te,entropyIdVerifier:me,onCompleteNavigateTo:hS,onFailure:Y,shouldForceMFA:!0};Q(G),await yr()&&k?k?rm(Z)?(Q({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:Z.address,entropyId:te,entropyIdVerifier:me,hdWalletIndex:Z.walletIndex,chainType:Z.chainType,walletId:Z.id,isUnifiedWallet:pe,imported:Z.imported,onSuccess:H,onFailure:Y},connectWallet:ze}),Ie(yd)):Y(Error(`Export is not supported for ${Z.chainType} wallets`)):Y(Error("Must have a Privy wallet before exporting")):Y(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Pe,async init(B){switch(B){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${B}`)}},async submit(B,H){var Y,Z,X;switch(B){case"totp":case"sms":if(typeof H!="string")throw new J("Invalid MFA code");(Y=he.current)==null||Y.resolve({mfaMethod:B,mfaCode:H,relyingParty:window.origin}),await new Promise((pe,ze)=>{Xe.current={resolve:pe,reject:ze}});break;case"passkey":if(typeof H=="string")throw new J("Invalid authenticator response");let te=await tc(()=>import("./index-CFBQExMV.js"),[]),me=lot(await te.startAuthentication(H));(Z=he.current)==null||Z.resolve({mfaMethod:B,mfaCode:me,relyingParty:window.origin}),await new Promise((pe,ze)=>{Xe.current={resolve:pe,reject:ze}});break;default:throw(X=he.current)==null||X.reject(new J("Unsupported MFA method")),new J(`Unsupported MFA method: ${B}`)}},cancel(){var B;(B=he.current)==null||B.reject(new J("MFA canceled"))},async initEnrollmentWithSms(B){let H=await yr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.initEnrollMfa({method:"sms",accessToken:H,phoneNumber:B.phoneNumber})},enrollInMfa:B=>new Promise((H,Y)=>{if(!B)return Ge.closePrivyModal(),void H();V.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Q({mfaEnrollmentFlow:{mfaMethods:V.mfa.methods,shouldUnlinkOnUnenrollMfa:V.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:H,onFailure:Y}}),Ie(qot)}),async initEnrollmentWithTotp(){let B=await yr();if(!B||!k)throw Error("Must have valid access token to enroll in MFA");let H=await k.initEnrollMfa({method:"totp",accessToken:B});return{secret:H.secret,authUrl:H.authUrl}},async submitEnrollmentWithSms(B){let H=await yr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"sms",accessToken:H,phoneNumber:B.phoneNumber,code:B.mfaCode}),h(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(B){let H=await yr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"totp",accessToken:H,code:B.mfaCode}),h(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:B},H={}){let Y=await yr();if(!Y||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:B,removeForLogin:H.removeForLogin}),h(await e.getAuthenticatedUser())},async unenroll(B,H={}){let Y=await yr();if(!Y||!k)throw Error("Must have valid access token to remove MFA");B==="passkey"?await k.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:[],removeForLogin:H.removeForLogin}):await k.unenrollMfa({method:B,accessToken:Y}),h(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var Z;let B=await yr(),H=u==null?void 0:u.linkedAccounts.find(X=>X.type==="wallet"&&X.walletClientType==="privy");if(!B)throw Error("Must have valid access token to connect with Farcaster");if(!k||!H)throw Error("Must have an embedded wallet to use Farcaster signers");if(Hn(H))throw new J("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Z=u==null?void 0:u.farcaster)!=null&&Z.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ge.recoverEmbeddedWallet({address:H.address}))throw Error("Unable to connect to wallet");let Y=await k.initFarcasterSigner({address:H.address,hdWalletIndex:null,accessToken:B,mfaCode:null,mfaMethod:null,relyingParty:window.origin});Y.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),Q({farcasterSigner:Y}),Ie(_ot)},getFarcasterSignerPublicKey:async()=>{var Z,X;let B,H=await yr(),Y=u==null?void 0:u.linkedAccounts.find(te=>te.type==="wallet"&&te.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(Hn(Y))throw new J("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Z=u==null?void 0:u.farcaster)!=null&&Z.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ge.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((X=u.farcaster)!=null&&X.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return B=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(B.match(/.{1,2}/g).map(te=>parseInt(te,16)))},signFarcasterMessage:async B=>{var te,me;let H=await yr(),Y=u==null?void 0:u.linkedAccounts.find(pe=>pe.type==="wallet"&&pe.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(Hn(Y))throw new J("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((te=u==null?void 0:u.farcaster)!=null&&te.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ge.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((me=u.farcaster)!=null&&me.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let Z=await tc(()=>import("./index-CFBQExMV.js"),[]),X=await k.signFarcasterMessage({address:Y.address,hdWalletIndex:null,accessToken:H,mfaCode:null,mfaMethod:null,payload:{hash:Z.bufferToBase64URLString(B)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(Z.base64URLStringToBuffer(X.signature))},signMessageWithCrossAppWallet(B,{address:H,chainId:Y}){let Z=u==null?void 0:u.linkedAccounts.some(X=>X.type==="cross_app"&&X.smartWallets.some(te=>te.address===H));return Bb({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Z?"privy_signSmartWalletMessage":"personal_sign",params:[B,H],chainId:Y},reconnect:Be})},signTypedDataWithCrossAppWallet(B,{address:H,chainId:Y}){let Z=u==null?void 0:u.linkedAccounts.some(te=>te.type==="cross_app"&&te.smartWallets.some(me=>me.address===H)),X=R3(B);return Bb({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Z?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[H,X],chainId:Y},reconnect:Be})},sendTransactionWithCrossAppWallet(B,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(Z=>Z.type==="cross_app"&&Z.smartWallets.some(X=>X.address===H));return Bb({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Y?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[B],chainId:B.chainId},reconnect:Be})},signTransactionWithCrossAppWallet(B,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(Z=>Z.type==="cross_app"&&Z.smartWallets.some(X=>X.address===H));return Bb({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Y?"privy_signSmartWalletTx":"eth_signTransaction",params:[B],chainId:B.chainId},reconnect:Be})},isModalOpen:i,mfaMethods:V.mfa.methods};boe=Sr.signMessage,xoe=Sr.signTypedData,_oe=async(B,H)=>await at({transaction:B,...H,signOnly:!1}),Eoe=async(B,H)=>({signature:(await at({transaction:B,...H,signOnly:!0})).hash});let Ge={privy:r,setAuthenticated:c,setUser:h,setIsNewUser:v,isNewUserThisSession:b,pendingTransaction:null,walletConnectionStatus:R,setWalletConnectionStatus:T,connectors:((er=e.connectors)==null?void 0:er.walletConnectors)??[],solanaWallets:g,rpcConfig:V.rpcConfig,chains:V.chains,appId:t.appId,showFiatPrices:V.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Fe,hideWalletUIs:vt,isHeadlessSigning:E.useCallback(ce,[V.embeddedWallets.showWalletUIs]),emailOtpState:W,setEmailOtpState:M,smsOtpState:A,setSmsOtpState:_,oAuthState:P,setOAuthState:N,telegramAuthState:D,setTelegramAuthState:F,siweState:S,setSiweState:O,isHeadlessOAuthLoading:I,baseAccountSdk:w,setBaseAccountSdk:y,nativeTokenSymbolForChainId:B=>{var H;return(H=V.chains.find(Y=>Y.id===Number(B)))==null?void 0:H.nativeCurrency.symbol},initializeWalletProxy:async B=>{if(k)return k;let H=new Promise(X=>{le.current=X}),Y=new Promise(X=>setTimeout(()=>X(null),B)),Z=await Promise.race([H,Y]);return le.current=null,Z},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var B;return(B=e.authFlow)==null?void 0:B.meta},client:e,closePrivyModal:async(B={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let H,Y=o&&l&&u;Y&&se.current&&(H=dt(u)),we.current==="login"?B.shouldCallAuthOnSuccess&&Y&&se.current?Ae(ie,"login","onComplete",{user:u,isNewUser:b,wasAlreadyAuthenticated:!1,loginMethod:se.current,loginAccount:H??null}):Ae(ie,"login","onError",ee.USER_EXITED_AUTH_FLOW):we.current==="link"&&H?B.isSuccess&&Y&&se.current?Ae(ie,"linkAccount","onSuccess",{user:u,linkMethod:se.current,linkedAccount:H}):se.current&&Ae(ie,"linkAccount","onError",ee.USER_EXITED_LINK_FLOW,{linkMethod:se.current}):we.current==="update"&&H?B.isSuccess&&Y&&se.current?Ae(ie,"update","onSuccess",{user:u,updateMethod:se.current,updatedAccount:H}):se.current&&Ae(ie,"update","onError",ee.USER_EXITED_UPDATE_FLOW,{linkMethod:se.current}):we.current==="connect-or-create"&&(f[0]?Ae(ie,"connectOrCreateWallet","onSuccess",{wallet:f[0]}):Ae(ie,"connectOrCreateWallet","onError",ee.USER_EXITED_AUTH_FLOW));let Z=C&&M_.has(C),X=C===qr&&G.errorModalData&&M_.has(G.errorModalData.previousScreen);if((Z||X)&&G.funding){let te,me=M_.get(C)??null;if(G.funding.chainType==="solana"){let pe=n(x2);if(pe)try{te=BigInt(await pe.getBalance({address:G.funding.address,cluster:G.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ae(ie,"fundSolanaWallet","onUserExited",{address:G.funding.address,cluster:G.funding.cluster,fundingMethod:me,balance:te})}else{let pe=em(G.funding.chain.id,V.chains,V.rpcConfig,{appId:t.appId});try{te=await pe.getBalance({address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}Ae(ie,"fundWallet","onUserExited",{address:G.funding.address,chain:G.funding.chain,fundingMethod:me,balance:te})}}Q(te=>({...te,externalConnectWallet:{suggestedAddress:void 0}})),we.current=null,se.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ie,connectWallet:ht,initLoginWithWallet:async(B,H,Y,Z)=>{Xc(B)?(se.current="siwe",it(B,H,Y)):(se.current="siws",ke(B,H,Y,Z))},loginWithWallet:async()=>{let B,H,Y;if(!o)throw new Oh;if(e.authFlow instanceof ag?B="siwe":e.authFlow instanceof m6&&(B="siws"),!B)throw new J("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:H}=await e.link()),se.current=B}catch(Z){throw Ae(ie,"linkAccount","onError",Z.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:B}),Z}else try{({user:H,isNewUser:Y}=await e.authenticate()),se.current=B}catch(Z){throw Ae(ie,"login","onError",Z.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR),Z}h(H||u||null),v(Y||!1),c(!0)},delegateWallet:async({address:B,chainType:H,showDelegationUIs:Y})=>new Promise(async(Z,X)=>{let te=await yr();if(!l||!u||!te)throw new J("User must be authenticated and have an embedded wallet to delegate actions.");if(H!=="solana"&&H!=="ethereum")throw new J("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let me=Ge.walletProxy??await Ge.initializeWalletProxy(15e3);if(!me)throw new J("Wallet proxy not initialized.");if((({address:Le,user:lt})=>!!vB(lt).find(Ue=>Ue.address===Le))({address:B,user:u}))return Z();let pe=Zo(u,B);if(!pe)throw new J("Address to delegate is not associated with current user.");if(Hn(pe))throw new J("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ze=ket({address:B,user:u}),xt=$et({address:B,user:u}),_e=async()=>{await me.createDelegatedAction({accessToken:te,rootWallet:xt,delegatedWallets:[ze]}),await Ge.refreshSessionAndUser()};if(await Ge.recoverEmbeddedWallet({address:B}),Y)Q({delegatedActions:{consent:{address:B,onDelegate:_e,onSuccess:async()=>{Z()},onError:async Le=>{X(Le)}}}}),Ie(fot);else try{await _e(),Z()}catch(Le){X(Le)}}),revokeDelegatedWallets:async({showDelegationUIs:B})=>new Promise(async(H,Y)=>{if(!l||!u)throw new J("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let Z=vB(u);if(Z.length===0)throw new J("User has no delegated wallets to revoke.");if(Z.some(Hn))throw new J("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let X=async()=>{await e.revokeDelegatedWallet(),await Ge.refreshSessionAndUser()};if(B)Q({delegatedActions:{revoke:{onRevoke:X,onSuccess:async()=>{H()},onError:async te=>{Y(te)}}}}),Ie(got);else try{await X(),H()}catch(te){Y(te)}}),initLoginWithFarcaster:async(B,H)=>{let Y=new qU(B,H);e.startAuthFlow(Y);try{se.current="farcaster",await Y.initializeFarcasterConnect()}catch(Z){throw we.current==="login"?Ae(ie,"login","onError",Z.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):we.current==="link"&&Ae(ie,"linkAccount","onError",Z.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),Z}},loginWithFarcaster:async()=>{let B,H;if(!o)throw new Oh;if(!(e.authFlow instanceof qU))throw new J("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:B}=await e.link()),se.current="farcaster"}catch(Y){throw Ae(ie,"linkAccount","onError",Y.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),Y}else try{({user:B,isNewUser:H}=await e.authenticate()),se.current="farcaster"}catch(Y){throw Ae(ie,"login","onError",Y.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),Y}h(B||null),v(H||!1),c(!0)},async crossAppAuthFlow({appId:B,popup:H,action:Y}){let Z=`privy:${B}`;se.current=Z;let{url:X,stateCode:te,codeVerifier:me}=await async function({api:pe,appId:ze}){let xt=Qx(),_e=mP(),Le=await yP(xt);try{let{url:lt}=await pe.post(NQ,{provider:`privy:${ze}`,redirect_to:window.location.href,code_challenge:Le,state_code:_e});return{url:lt,stateCode:_e,codeVerifier:xt}}catch(lt){throw qt(lt)}}({api:e.api,appId:B});if(!X)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:B}}),new J("No authorization URL returned for cross-app auth.");try{let pe=await async function({url:lt,popup:Ue}){return Ue.location=lt,new Promise((Ee,pt)=>{let At,Lt=setTimeout(()=>{pt(new J("Authorization request timed out after 2 minutes.")),Kt()},12e4);function Kt(){Ue==null||Ue.close(),window.removeEventListener("message",Yt)}let tr=setInterval(()=>{Ue!=null&&Ue.closed&&!At&&(Kt(),clearInterval(tr),clearTimeout(Lt),pt(new J("User rejected request")))},300);function Yt(pr){pr.data&&(pr.data.type==="PRIVY_OAUTH_RESPONSE"&&pr.data.stateCode&&pr.data.authorizationCode&&(clearTimeout(Lt),Ee(pr.data),Kt()),pr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Lt),pt(new J(pr.data.error)),Kt()),pr.data.type===xB&&((At=new BroadcastChannel(bB)).onmessage=Yt))}window.addEventListener("message",Yt)})}({url:X,popup:H,provider:Z}),ze=pe.stateCode,xt=pe.authorizationCode;if(ze!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Z,storedStateCode:te??"",returnedStateCode:ze??""}}),new J("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);let _e=await async function({appId:lt,stateCode:Ue,codeVerifier:Ee,authorizationCode:pt,action:At,client:Lt}){var Kt;if(!pt||!Ue)throw new J("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(pt==="undefined")throw new J("User denied confirmation during cross-app auth flow");try{let tr=new Tet({authorizationCode:pt,stateCode:Ue,codeVerifier:Ee,provider:`privy:${lt}`});Lt.startAuthFlow(tr);let Yt=At==="link"?await Lt.link():await Lt.authenticate(),pr=(Kt=Yt.oAuthTokens)==null?void 0:Kt.accessToken;return console.debug(),pr}catch(tr){let Yt=qt(tr);throw Yt.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED?Yt:Yt.privyErrorCode?new J(Yt.message||"Invalid code during cross-app auth flow.",void 0,Yt.privyErrorCode):Yt.message==="User denied confirmation during cross-app auth flow"?new J("Invalid code during cross-app auth flow.",void 0,ee.OAUTH_USER_DENIED):new J("Invalid code during cross-app auth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}({appId:B,codeVerifier:me,stateCode:ze,authorizationCode:xt,action:Y,client:e});_e&&e.storeProviderAccessToken(B,_e);let Le=await Ge.refreshSessionAndUser();if(!Le)throw new J("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:B}}),Le}catch(pe){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:pe.toString(),provider:Z}}),pe}},async initLoginWithOAuth(B,H,Y){if(se.current=B,!Nk()||B==="google"&&oS(window.navigator.userAgent))return void Ie(nz);B==="twitter"&&window.opener&&window.opener.postMessage({type:xB},"*"),ot.del(g6),ot.del(Ry);let Z=new f0({provider:B,disableSignup:!!Y,withPrivyUi:!0,customOAuthRedirectUrl:V.customOAuthRedirectUrl});H&&Z.addCaptchaToken(H),e.startAuthFlow(Z);let X=await e.authFlow.getAuthorizationUrl();if(X&&X.url)if(B==="twitter"&&Gue&&(X.url=X.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&Rk())try{let{privyOAuthCode:te,privyOAuthState:me}=await QU(X.url);Ie(sz),Z.meta.stateCode=me,Z.meta.authorizationCode=te}catch(te){throw console.error("OAuth in chrome extension flow failed:",te),te}else window.location.assign(X.url)},async initLoginWithTelegram(B,H){if(!o)throw new Oh;se.current="telegram";let Y=new $1(B,H);e.startAuthFlow(Y),F({status:"loading"}),Y.meta.telegramWebAppData=void 0,Y.meta.telegramAuthResult=await new Promise((Z,X)=>V.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:V.loginConfig.telegramAuthConfiguration.botId,request_access:!0},te=>te?Z(te):X(new J("Telegram auth failed or was canceled by the client"))):X(new J("Telegram was not initialized")):X(new J("Telegram Auth configuration is not loaded")))},async loginWithTelegram(B){var me;let H,Y;if(!(e.authFlow instanceof $1))throw new J("Must initialize Telegram flow before calling loginWithTelegram");(me=e.authFlow.meta).captchaToken||(me.captchaToken=B==null?void 0:B.captchaToken);let Z=await yr(),X=(B==null?void 0:B.intent)||we.current;if(X==="login")try{let pe=await e.authenticate();H=pe.user,Y=pe.isNewUser,se.current="telegram"}catch(pe){throw Ae(ie,"login","onError",pe.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),pe}else{if(X!=="link")throw new J("Unknown auth intent");try{H=(await e.link()).user,se.current="telegram"}catch(pe){throw Ae(ie,"linkAccount","onError",pe.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),pe}}h(H),v(Y||!1),c(!0),F({status:"done"});let te=(H==null?void 0:H.linkedAccounts.find(({type:pe})=>pe==="telegram"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!Z,loginAccount:te}},async loginWithOAuth(B){let H,Y,Z;if(!(e.authFlow instanceof f0))throw new J("Must initialize OAuth flow before calling loginWithOAuth");let X=ot.get(p6),te=e.authFlow.meta.stateCode;if(X!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:B,storedStateCode:X??"",returnedStateCode:te??""}}),new J("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let me=await e.link();H=me.user,Z=me.oAuthTokens,se.current=B}catch(me){throw Ae(ie,"linkAccount","onError",me.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:B}),me}else try{let me=await e.authenticate();H=me.user,Y=me.isNewUser,Z=me.oAuthTokens,se.current=B}catch(me){throw we.current==="login"?Ae(ie,"login","onError",me.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):we.current==="link"&&Ae(ie,"linkAccount","onError",me.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:B}),me}return h(H),v(Y||!1),c(!0),Z&&H&&Ae(ie,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Z,user:H}),Z},passkeyAuthState:L,setPasskeyAuthState:U,async initSignupWithPasskey({captchaToken:B,withPrivyUi:H}){let Y=new a0({captchaToken:B,setPasskeyAuthState:U});e.startAuthFlow(Y),we.current="login";try{se.current="passkey",U({status:"generating-challenge"}),await Y.initRegisterFlow(H),U({status:"awaiting-passkey"})}catch(Z){throw U({status:"error",error:Z}),Ae(ie,"login","onError",Z.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),Z}},async signupWithPasskey(){let B,H;if(!o)throw new Oh;if(!(e.authFlow instanceof a0))throw new J("Must initialize Passkey flow first.");if(se.current!=="passkey"){let X=new J("Must init login with Passkey flow first.");throw U({status:"error",error:X}),X}let Y=await yr();try{se.current="passkey",U({status:"awaiting-passkey"}),{user:B,isNewUser:H}=await e.authenticate()}catch(X){throw U({status:"error",error:X}),Ae(ie,"login","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),X}h(B),v(H||!1),c(!0),U({status:"done"});let Z=(B==null?void 0:B.linkedAccounts.find(({type:X})=>X==="passkey"))||null;return{user:B,isNewUser:H||!1,wasAlreadyAuthenticated:!!Y,loginAccount:Z}},async initLoginWithPasskey({captchaToken:B,withPrivyUi:H}){let Y=new a0({captchaToken:B,setPasskeyAuthState:U});e.startAuthFlow(Y),we.current="login";try{se.current="passkey",U({status:"generating-challenge"}),await Y.initAuthenticationFlow(H),U({status:"awaiting-passkey"})}catch(Z){throw U({status:"error",error:Z}),Ae(ie,"login","onError",Z.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),Z}},async loginWithPasskey(B){let H,Y;if(!o)throw new Oh;if(!(e.authFlow instanceof a0))throw new J("Must initialize Passkey flow first.");if(B!=null&&B.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=B.credentialIds),se.current!=="passkey"){let te=new J("Must init login with Passkey flow first.");throw U({status:"error",error:te}),te}let Z=await yr();try{se.current="passkey",U({status:"awaiting-passkey"}),{user:H,isNewUser:Y}=await e.authenticate()}catch(te){throw U({status:"error",error:te}),Ae(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),te}h(H),v(Y||!1),c(!0),U({status:"done"});let X=(H==null?void 0:H.linkedAccounts.find(({type:te})=>te==="passkey"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!Z,loginAccount:X}},async initLinkWithPasskey(B){let H=new a0({captchaToken:B});e.startAuthFlow(H),we.current="link",se.current="passkey",U({status:"generating-challenge"});try{await H.initLinkFlow(),U({status:"awaiting-passkey"})}catch(Y){throw Ae(ie,"linkAccount","onError",Y.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),U({status:"error",error:Y}),Y}},async linkWithPasskey(){let B;if(!o)throw new Oh;if(!(e.authFlow instanceof a0))throw new J("Must initialize Passkey flow first.");if(se.current!=="passkey")throw new J("Must init login with Passkey flow first.");try{se.current="passkey",{user:B}=await e.link()}catch(H){throw Ae(ie,"linkAccount","onError",H.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),H}return h(B||u||null),U({status:"done"}),B},async initLoginWithHeadlessOAuth(B,H,Y){if(!Nk()||B==="google"&&oS(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let Z=new f0({provider:B,withPrivyUi:!1,disableSignup:Y??!1,customOAuthRedirectUrl:V.customOAuthRedirectUrl});H&&Z.addCaptchaToken(H),N({status:"loading"});let X=await e.startAuthFlow(Z).getAuthorizationUrl();if(X!=null&&X.url)if(window.location.protocol==="chrome-extension:"&&Rk())try{let{privyOAuthCode:te,privyOAuthState:me}=await QU(X.url);Z.meta.stateCode=me,Z.meta.authorizationCode=te,await this.loginWithHeadlessOAuth(Z.meta)}catch(te){throw N({status:"error",error:te}),te}else window.location.assign(X.url)},async loginWithHeadlessOAuth(B){let H,Y,Z;$(!0),N({status:"loading"}),e.startAuthFlow(new f0({...B,customOAuthRedirectUrl:V.customOAuthRedirectUrl}));let X=ot.get(p6),te=B.stateCode;if(X!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:B.provider,storedStateCode:X??"",returnedStateCode:te??""}}),$(!1),new J("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:H,oAuthTokens:Z}=await e.link()),se.current=B.provider;let me=dt(H);H&&me&&Ae(ie,"linkAccount","onSuccess",{user:H,linkMethod:se.current,linkedAccount:me})}catch(me){throw $(!1),Ae(ie,"linkAccount","onError",me.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:B.provider}),me}else try{({user:H,isNewUser:Y,oAuthTokens:Z}=await e.authenticate()),se.current=B.provider;let me=dt(H);H&&me&&Y!==void 0&&Ae(ie,"login","onComplete",{user:H,isNewUser:Y,wasAlreadyAuthenticated:!1,loginMethod:se.current,loginAccount:me})}catch(me){throw $(!1),N({status:"error",error:me}),Ae(ie,"login","onError",me.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),me}return h(H),v(Y||!1),c(!0),$(!1),N({status:"done"}),Z&&H&&Ae(ie,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Z,user:H}),H??void 0},initLoginWithEmail:async({email:B,captchaToken:H,disableSignup:Y,withPrivyUi:Z})=>{let X=new j0({email:B,captchaToken:H,disableSignup:Y});e.startAuthFlow(X);try{se.current="email",M({status:"sending-code"}),await X.sendCodeEmail({withPrivyUi:Z}),M({status:"awaiting-code-input"})}catch(te){throw M({status:"error",error:te}),we.current==="login"?Ae(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):we.current==="link"&&Ae(ie,"linkAccount","onError",te.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),te}},initUpdateEmail:async({oldAddress:B,newAddress:H,captchaToken:Y})=>{let Z=new kZe(B,H,Y);e.startAuthFlow(Z);try{await Z.sendCodeEmail({withPrivyUi:!0})}catch(X){Ae(ie,"update","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:se.current})}},initUpdatePhone:async(B,H,Y)=>{let Z=new RZe(B,H,Y);e.startAuthFlow(Z);try{await Z.sendSmsCode({withPrivyUi:!0})}catch(X){Ae(ie,"update","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:se.current})}},initLoginWithSms:async({phoneNumber:B,captchaToken:H,disableSignup:Y,withPrivyUi:Z})=>{_({status:"sending-code"});let X=new D0({phoneNumber:B,captchaToken:H,disableSignup:Y});e.startAuthFlow(X);try{se.current="sms",await X.sendSmsCode({withPrivyUi:Z}),_({status:"awaiting-code-input"})}catch(te){throw _({status:"error",error:te}),we.current==="login"?Ae(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):we.current==="link"&&Ae(ie,"linkAccount","onError",te.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),te}},resendEmailCode:async()=>{var B;await((B=e.authFlow)==null?void 0:B.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var B;await((B=e.authFlow)==null?void 0:B.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async B=>{let H,Y;function Z(pe){e.authFlow instanceof j0?M(pe):e.authFlow instanceof D0&&_(pe)}if(Z({status:"submitting-code"}),!o){let pe=new Oh;throw Z({status:"error",error:pe}),pe}if(e.authFlow instanceof j0)e.authFlow.meta.emailCode=B.trim();else{if(!(e.authFlow instanceof D0)){let pe=new J("Must initialize a passwordless code flow first");throw Z({status:"error",error:pe}),pe}e.authFlow.meta.smsCode=B.trim()}let X=await yr();if(we.current==="link")try{({user:H}=await e.link())}catch(pe){throw Z({status:"error",error:pe}),Ae(ie,"linkAccount","onError",pe.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:se.current}),pe}else if(we.current==="update")try{({user:H}=await e.link())}catch(pe){throw Z({status:"error",error:pe}),Ae(ie,"update","onError",pe.privyErrorCode||ee.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:se.current}),pe}else try{({user:H,isNewUser:Y}=await e.authenticate())}catch(pe){throw Z({status:"error",error:pe}),Ae(ie,"login","onError",pe.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),pe}let te=H||u;h(te||null),v(Y||!1),c(!0),Z({status:"done"});let me=null;return e.authFlow instanceof j0?me=(te==null?void 0:te.linkedAccounts.find(({type:pe})=>pe==="email"))||null:e.authFlow instanceof D0&&(me=(te==null?void 0:te.linkedAccounts.find(({type:pe})=>pe==="phone"))||null),{user:te,isNewUser:Y||!1,wasAlreadyAuthenticated:!!X,linkedAccount:me}},generateSiweMessage:async({address:B,chainId:H,captchaToken:Y})=>{we.current=l?"link":"login",se.current="siwe",O({status:"generating-message"});let Z=await e.generateSiweNonce({address:B,captchaToken:Y});return O({status:"awaiting-signature"}),Lk({address:B,chainId:H.replace("eip155:",""),nonce:Z})},generateSiweMessageForSmartWallet:async({address:B,chainId:H})=>{let Y=await e.generateSiweNonce({address:B});return Lk({address:B,chainId:H.replace("eip155:",""),nonce:Y})},linkSmartWallet:async({message:B,signature:H,smartWalletType:Y,smartWalletVersion:Z})=>{let X;X=await e.linkSmartWallet({message:B,signature:H,smartWalletType:Y,smartWalletVersion:Z}),h((X=await Ge.refreshSessionAndUser()??X)||u||null)},loginWithSiwe:async({message:B,signature:H,captchaToken:Y,disableSignup:Z})=>{let X,te=null;try{if(u)throw Error("User already authenticated");let me=new ag(e,void 0,Y,Z,{message:B,signature:H});if(e.startAuthFlow(me),se.current="siwe",we.current="login",O({status:"submitting-signature"}),{user:te,isNewUser:X}=await e.authenticate(),!te)throw Error("Authentication failed - no user returned")}catch(me){throw Ae(ie,"login","onError",me.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),O({status:"error",error:me}),me}return h(te),v(X||!1),c(!0),O({status:"done"}),we.current=null,se.current=null,te},linkWithSiwe:async({message:B,signature:H,chainId:Y,walletClientType:Z,connectorType:X})=>{let te;fe("siwe");let me=null;try{O({status:"submitting-signature"}),te=await e.linkWithSiwe({message:B,signature:H,chainId:Y,walletClientType:Z,connectorType:X}),te=await Ge.refreshSessionAndUser()??te,O({status:"done"}),(me=dt(te)||null)&&Ae(ie,"linkAccount","onSuccess",{user:te,linkMethod:"siwe",linkedAccount:me})}catch(ze){throw Ae(ie,"linkAccount","onError",ze.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),we.current=null,se.current=null,O({status:"error",error:ze}),ze}let pe=te||u;return h(pe||null),we.current=null,se.current=null,{user:pe,linkedAccount:me}},refreshSessionAndUser:async()=>{let B=await e.getAuthenticatedUser();return c(!!B),h(B),B},walletProxy:k,createAnalyticsEvent:({eventName:B,payload:H,timestamp:Y})=>e.createAnalyticsEvent({eventName:B,payload:H,timestamp:Y}),acceptTerms:async()=>{let B=await e.acceptTerms();return h(B),B},getUsdTokenPrice:B=>e.getUsdTokenPrice(B),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:B=>e.getSplTokenMetadata(B),recoverEmbeddedWallet:async B=>new Promise(async(H,Y)=>{if(!u)return void H(!0);let Z=B!=null&&B.address?Zo(u,B.address):fa(u)||G7(u)||V4(u);if(!Z||Hn(Z))return void H(!0);let X=await yr();if(!X||!k||!Z)return void Y(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:te,entropyIdVerifier:me}=di(u,Z);try{await k.connect({accessToken:X,entropyId:te,entropyIdVerifier:me}),H(!0)}catch(pe){if(fv(pe)&&Z.recoveryMethod==="privy"){let ze;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:Z.address}});try{ze=await k.recover({entropyId:te,entropyIdVerifier:me,accessToken:X})}catch(xt){return void Y(xt)}ze.entropyId||Y(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Z.address}}),H(!0)}else fv(pe)&&Z.recoveryMethod!=="privy"&&Z.recoveryMethod!=="privy-v2"?(Q({recoverWallet:{entropyId:te,entropyIdVerifier:me,onFailure:Y,onSuccess:()=>H(!0)},recoveryOAuthStatus:{provider:Z.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ie(Fse(Z.recoveryMethod))):Y(pe)}}),exportSolanaWallet:B=>new Promise(async(H,Y)=>{if(!l||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));let Z=B!=null&&B.address?Zo(u,B.address):dp(u);if(!Z)return void Y(new J("User must have an embedded wallet."));let{entropyId:X,entropyIdVerifier:te}=di(u,Z),me=Hn(Z);if(!await yr()||!k)return void Y(Error("Must have valid access token to enroll in MFA"));if(!k)return void Y(Error("Must have a Privy wallet before exporting"));let pe={recoveryMethod:Z.recoveryMethod,connectingWalletAddress:Z.address,isUnifiedWallet:me,entropyId:X,entropyIdVerifier:te,onCompleteNavigateTo:hS,onFailure:Y,shouldForceMFA:!0};rm(Z)?(Q({connectWallet:pe,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:Z.address,entropyId:X,entropyIdVerifier:te,hdWalletIndex:Z.walletIndex,chainType:Z.chainType,walletId:Z.id,isUnifiedWallet:me,imported:Z.imported,onSuccess:H,onFailure:Y}}),Ie(yd)):Y(Error(`Export is not supported for ${Z.chainType} wallets`))}),setReadyToTrue:B=>{a(!0),K==null||K(B)},updateWallets:()=>Ke(),fundWallet:async(B,H)=>{Q({funding:qB({address:B,appConfig:V,fundWalletConfig:H,methodScreen:Hs})}),Ie(Hs)},openModal:Ie,requestFarcasterSignerStatus:async B=>{var X;let H=await yr(),Y=u==null?void 0:u.linkedAccounts.find(te=>te.type==="wallet"&&te.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((X=u==null?void 0:u.farcaster)!=null&&X.fid))throw Error("Must have Farcaster account to use Farcaster signers");let Z=await e.requestFarcasterSignerStatus(B);return Z.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),Z},connectCoinbaseSmartWallet:async()=>{var H,Y;V.externalWallets.coinbaseWallet.config.preference={...V.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let B=((H=e.connectors)==null?void 0:H.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((Y=e.connectors)==null?void 0:Y.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(B)return B.updateConnectionPreference("smartWalletOnly"),ht(B);await $t("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var H;let B=(H=e.connectors)==null?void 0:H.findWalletConnector("base_account","base_account");if(B)return ht(B);await $t("base_account","base_account")},initiateAccountTransfer:async({nonce:B,account:H,accountType:Y,externalWalletMetadata:Z,telegramAuthResult:X,telegramWebAppData:te,farcasterEmbeddedAddress:me,oAuthUserInfo:pe})=>{let ze=await e.sendAccountTransferRequest({nonce:B,account:H,accountType:Y,externalWalletMetadata:Z,telegramAuthResult:X,telegramWebAppData:te,farcasterEmbeddedAddress:me,oAuthUserInfo:pe});return h(ze),ze},inProgressAuthFlowRef:we,inProgressLoginOrLinkMethodRef:se};Coe=Ge.recoverEmbeddedWallet,Aoe=Ge.recoverEmbeddedWallet;let Bt=E.useMemo(()=>({wallets:f,ready:ne&&xe}),[f,ne,xe]),Zi=e.authFlow instanceof $1,nr=!V.headless&&V.captchaEnabled&&!l&&(o||Zi);return d.jsx(voe.Provider,{value:!0,children:d.jsx(hp.Provider,{value:Sr,children:d.jsx(aie.Provider,{value:ie,children:d.jsx(Tie.Provider,{value:Bt,children:d.jsx(FZe,{...V,children:d.jsxs(jQ.Provider,{value:Ge,children:[d.jsx(dtt,{children:d.jsxs(iJe,{data:G,setModalData:Q,setInitialScreen:x,initialScreen:C,authenticated:l,open:i,children:[t.children,d.jsx(rat,{customAuth:V.customAuth}),nr&&d.jsx(wJe,{delayedExecution:!1}),d.jsx(Eet,{}),d.jsx(aot,{disabled:V.embeddedWallets.disableAutomaticMigration}),d.jsx(oet,{palette:V.appearance.palette||{}}),!V.render.standalone&&d.jsx(met,{open:i})]})}),d.jsx(Aet,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u==null?void 0:u.mfaMethods,mfaPromise:he,mfaSubmitPromise:Xe,onLoad:z,onLoadFailed:()=>null}),V.loginConfig.telegramAuthConfiguration&&d.jsx(tm,{$if:!0,children:d.jsx(wet,{scriptHost:t.apiUrl||Ok,botUsername:V.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};function dat(t){let{sendTransaction:e}=E.useContext(hp);return Cp("sendTransaction",t),{sendTransaction:e}}const B3="2.21.0",hat=()=>`@wagmi/core@${B3}`;var koe=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},T6,Soe;let w8=class pS extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return hat()}constructor(e,r={}){var s;super(),T6.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof pS?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,i=r.cause instanceof pS&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return koe(this,T6,"m",Soe).call(this,this,e)}};T6=new WeakSet,Soe=function t(e,r){return r!=null&&r(e)?e:e.cause?koe(this,T6,"m",t).call(this,e.cause,r):e};class P6 extends w8{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}function $oe(t){const e=t.state.current,r=t.state.connections.get(e),n=r==null?void 0:r.accounts,i=n==null?void 0:n[0],s=t.chains.find(a=>a.id===(r==null?void 0:r.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function gv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gv(t[n],e[n]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.hasOwn(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!gv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let j_=[];function oz(t){const e=t.chains;return gv(j_,e)?j_:(j_=e,e)}function fat(t,e={}){try{return t.getClient(e)}catch{return}}function gS(t,e={}){const r=fat(t,e);return r==null?void 0:r.extend(T4)}let D_=!1;async function pat(t,e={}){var c,u;if(D_)return[];D_=!0,t.setState(h=>({...h,status:h.current?"reconnecting":"connecting"}));const r=[];if((c=e.connectors)!=null&&c.length)for(const h of e.connectors){let f;typeof h=="function"?f=t._internal.connectors.setup(h):f=h,r.push(f)}else r.push(...t.connectors);let n;try{n=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,h]of t.state.connections)i[h.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((h,f)=>(i[h.id]??10)-(i[f.id]??10)):r;let o=!1;const a=[],l=[];for(const h of s){const f=await h.getProvider().catch(()=>{});if(!f||l.some(m=>m===f)||!await h.isAuthorized())continue;const g=await h.connect({isReconnecting:!0}).catch(()=>null);g&&(h.emitter.off("connect",t._internal.events.connect),h.emitter.on("change",t._internal.events.change),h.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const w=new Map(o?m.connections:new Map).set(h.uid,{accounts:g.accounts,chainId:g.chainId,connector:h});return{...m,current:o?m.current:h.uid,connections:w}}),a.push({accounts:g.accounts,chainId:g.chainId,connector:h}),l.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(h=>({...h,status:"connected"})):t.setState(h=>({...h,connections:new Map,current:null,status:"disconnected"}))),D_=!1,a}class u0 extends w8{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class gat extends w8{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function mat(t,e){var o;const{addEthereumChainParameter:r,chainId:n}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new gat({connector:a});return await a.switchChain({addEthereumChainParameter:r,chainId:n})}const s=t.chains.find(a=>a.id===n);if(!s)throw new P6;return t.setState(a=>({...a,chainId:n})),s}function yat(t,e){const{onChange:r}=e;return t.subscribe(()=>$oe(t),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...l}=i;return gv(o,l)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function wat(t,e){const{onChange:r}=e;return t.subscribe(()=>gS(t),r,{equalityFn(n,i){return(n==null?void 0:n.uid)===(i==null?void 0:i.uid)}})}QP.type="injected";function QP(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function n(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...vat[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let i,s,o,a;return l=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:QP.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&t.target&&(o||(o=this.onConnect.bind(this),c.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u,withCapabilities:h}={}){var g,m,w,y,b,v;const f=await this.getProvider();if(!f)throw new u0;let p=[];if(u)p=await this.getAccounts().catch(()=>[]);else if(e)try{p=(y=(w=(m=(g=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:m[0])==null?void 0:w.value)==null?void 0:y.map(x=>Ur(x)),p.length>0&&(p=await this.getAccounts())}catch(C){const x=C;if(x.code===ts.code)throw new ts(x);if(x.code===Qd.code)throw x}try{!(p!=null&&p.length)&&!u&&(p=(await f.request({method:"eth_requestAccounts"})).map(I=>Ur(I))),o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let C=await this.getChainId();if(c&&C!==c){const x=await this.switchChain({chainId:c}).catch(I=>{if(I.code===ts.code)throw I;return{id:C}});C=(x==null?void 0:x.id)??C}return e&&await((b=l.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),t.target||await((v=l.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:h?p.map(x=>({address:x,capabilities:{}})):p,chainId:C}}catch(C){const x=C;throw x.code===ts.code?new ts(x):x.code===Qd.code?new Qd(x):x}},async disconnect(){var u,h;const c=await this.getProvider();if(!c)throw new u0;s&&(c.removeListener("chainChanged",s),s=void 0),a&&(c.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),c.on("connect",o));try{await CG(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=l.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=l.storage)==null?void 0:h.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new u0;return(await c.request({method:"eth_accounts"})).map(h=>Ur(h))},async getChainId(){const c=await this.getProvider();if(!c)throw new u0;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=n();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=z3(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,u;try{if(e&&await((c=l.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=l.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),m=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(g()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(g()),m))]))return!0}throw new u0}return!!(await Ew(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var g,m,w,y;const h=await this.getProvider();if(!h)throw new u0;const f=l.chains.find(b=>b.id===u);if(!f)throw new Df(new P6);const p=new Promise(b=>{const v=C=>{"chainId"in C&&C.chainId===u&&(l.emitter.off("change",v),b())};l.emitter.on("change",v)});try{return await Promise.all([h.request({method:"wallet_switchEthereumChain",params:[{chainId:Se(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),p]),f}catch(b){const v=b;if(v.code===4902||((m=(g=v==null?void 0:v.data)==null?void 0:g.originalError)==null?void 0:m.code)===4902)try{const{default:C,...x}=f.blockExplorers??{};let I;c!=null&&c.blockExplorerUrls?I=c.blockExplorerUrls:C&&(I=[C.url,...Object.values(x).map(T=>T.url)]);let $;(w=c==null?void 0:c.rpcUrls)!=null&&w.length?$=c.rpcUrls:$=[((y=f.rpcUrls.default)==null?void 0:y.http[0])??""];const R={blockExplorerUrls:I,chainId:Se(u),chainName:(c==null?void 0:c.chainName)??f.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??f.nativeCurrency,rpcUrls:$};return await Promise.all([h.request({method:"wallet_addEthereumChain",params:[R]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new ts(new Error("User rejected switch after adding network."))}),p]),f}catch(C){throw new ts(C)}throw v.code===ts.code?new ts(v):new Df(v)}},async onAccountsChanged(c){var u;if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((u=l.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else l.emitter.emit("change",{accounts:c.map(h=>Ur(h))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const h=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:h});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const vat={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:z3(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return z3(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(e[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:z3(t,"isPhantom")}}};function z3(t,e){function r(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const n=t.ethereum;if(n!=null&&n.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}const bat=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let h=o(n.getState());c=f=>{const p=o(f);if(!u(h,p)){const g=h;a(h=p,g)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},t(e,r,n)},xat=bat;function Eat(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const mS=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return mS(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return mS(n)(r)}}}},_at=(t,e)=>(r,n,i)=>{let s={storage:Eat(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...m)},n,i);const u=()=>{const m=s.partialize({...n()});return c.setItem(s.name,{state:m,version:s.version})},h=i.setState;i.setState=(m,w)=>{h(m,w),u()};const f=t((...m)=>{r(...m),u()},n,i);i.getInitialState=()=>f;let p;const g=()=>{var m,w;if(!c)return;o=!1,a.forEach(b=>{var v;return b((v=n())!=null?v:f)});const y=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(m=n())!=null?m:f))||void 0;return mS(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[C,x]=b;if(p=s.merge(x,(v=n())!=null?v:f),r(p,!0),C)return u()}).then(()=>{y==null||y(p,void 0),p=n(),o=!0,l.forEach(b=>b(p))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||g(),p||f},Cat=_at,az=t=>{let e;const r=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,a);return a},L_=t=>t?az(t):az;class Aat{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new xh})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const n=r[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}}function kat(t){return new Aat(t)}function Sat(t,e){return JSON.parse(t,(r,n)=>{let i=n;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(r,i))??i})}function lz(t,e){return t.slice(0,e).join(".")||"."}function cz(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function $at(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const c=cz(i,this);c===0?i[i.length]=this:(i.splice(c),s.splice(c)),s[s.length]=a;const u=cz(i,l);if(u!==0)return n?e.call(this,a,l,lz(s,u)):`[ref=${lz(s,u)}]`}else i[0]=l,s[0]=a;return r?t.call(this,a,l):l}}function Iat(t,e,r,n){return JSON.stringify(t,$at((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},n),r??void 0)}function Tat(t){const{deserialize:e=Sat,key:r="wagmi",serialize:n=Iat,storage:i=Ioe}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const l=i.getItem(`${r}.${o}`),c=await s(l);return c?e(c)??null:a??null},async setItem(o,a){const l=`${r}.${o}`;a===null?await s(i.removeItem(l)):await s(i.setItem(l,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const Ioe={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Pat(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Ioe;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,r){try{t.setItem(e,r)}catch{}}}}const yS=256;let zb=yS,Wb;function Nat(t=11){if(!Wb||zb+t>yS*2){Wb="",zb=0;for(let e=0;e<yS;e++)Wb+=(256+Math.random()*256|0).toString(16).substring(1)}return Wb.substring(zb,zb+++t)}function Oat(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=Tat({storage:Pat()}),syncConnectedChain:n=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?qH():void 0,a=L_(()=>s.chains),l=L_(()=>{const x=[],I=new Set;for(const $ of s.connectors??[]){const R=c($);if(x.push(R),!i&&R.rdns){const T=typeof R.rdns=="string"?[R.rdns]:R.rdns;for(const L of T)I.add(L)}}if(!i&&o){const $=o.getProviders();for(const R of $)I.has(R.info.rdns)||x.push(c(u(R)))}return x});function c(x){var R;const I=kat(Nat()),$={...x({emitter:I,chains:a.getState(),storage:r,transports:s.transports}),emitter:I,uid:I.uid};return I.on("connect",v),(R=$.setup)==null||R.call($),$}function u(x){const{info:I}=x,$=x.provider;return QP({target:{...I,id:I.rdns,provider:$}})}const h=new Map;function f(x={}){const I=x.chainId??w.getState().chainId,$=a.getState().find(T=>T.id===I);if(x.chainId&&!$)throw new P6;{const T=h.get(w.getState().chainId);if(T&&!$)return T;if(!$)throw new P6}{const T=h.get(I);if(T)return T}let R;if(s.client)R=s.client({chain:$});else{const T=$.id,L=a.getState().map(M=>M.id),U={},W=Object.entries(s);for(const[M,A]of W)if(!(M==="chains"||M==="client"||M==="connectors"||M==="transports"))if(typeof A=="object")if(T in A)U[M]=A[T];else{if(L.some(S=>S in A))continue;U[M]=A}else U[M]=A;R=lI({...U,chain:$,batch:U.batch??{multicall:!0},transport:M=>s.transports[T]({...M,connectors:l})})}return h.set(I,R),R}function p(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const m="0.0.0-canary-";B3.startsWith(m)?g=Number.parseInt(B3.replace(m,"")):g=Number.parseInt(B3.split(".")[0]??"0");const w=L_(xat(r?Cat(p,{migrate(x,I){if(I===g)return x;const $=p(),R=y(x,$.chainId);return{...$,chainId:R}},name:"store",partialize(x){return{connections:{__type:"Map",value:Array.from(x.connections.entries()).map(([I,$])=>{const{id:R,name:T,type:L,uid:U}=$.connector;return[I,{...$,connector:{id:R,name:T,type:L,uid:U}}]})},chainId:x.chainId,current:x.current}},merge(x,I){typeof x=="object"&&x&&"status"in x&&delete x.status;const $=y(x,I.chainId);return{...I,...x,chainId:$}},skipHydration:i,storage:r,version:g}):p));w.setState(p());function y(x,I){return x&&typeof x=="object"&&"chainId"in x&&typeof x.chainId=="number"&&a.getState().some($=>$.id===x.chainId)?x.chainId:I}n&&w.subscribe(({connections:x,current:I})=>{var $;return I?($=x.get(I))==null?void 0:$.chainId:void 0},x=>{if(a.getState().some($=>$.id===x))return w.setState($=>({...$,chainId:x??$.chainId}))}),o==null||o.subscribe(x=>{const I=new Set,$=new Set;for(const T of l.getState())if(I.add(T.id),T.rdns){const L=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const U of L)$.add(U)}const R=[];for(const T of x){if($.has(T.info.rdns))continue;const L=c(u(T));I.has(L.id)||R.push(L)}r&&!w.persist.hasHydrated()||l.setState(T=>[...T,...R],!0)});function b(x){w.setState(I=>{const $=I.connections.get(x.uid);return $?{...I,connections:new Map(I.connections).set(x.uid,{accounts:x.accounts??$.accounts,chainId:x.chainId??$.chainId,connector:$.connector})}:I})}function v(x){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(I=>{const $=l.getState().find(R=>R.uid===x.uid);return $?($.emitter.listenerCount("connect")&&$.emitter.off("connect",b),$.emitter.listenerCount("change")||$.emitter.on("change",b),$.emitter.listenerCount("disconnect")||$.emitter.on("disconnect",C),{...I,connections:new Map(I.connections).set(x.uid,{accounts:x.accounts,chainId:x.chainId,connector:$}),current:x.uid,status:"connected"}):I})}function C(x){w.setState(I=>{const $=I.connections.get(x.uid);if($){const T=$.connector;T.emitter.listenerCount("change")&&$.connector.emitter.off("change",b),T.emitter.listenerCount("disconnect")&&$.connector.emitter.off("disconnect",C),T.emitter.listenerCount("connect")||$.connector.emitter.on("connect",v)}if(I.connections.delete(x.uid),I.connections.size===0)return{...I,connections:new Map,current:null,status:"disconnected"};const R=I.connections.values().next().value;return{...I,connections:new Map(I.connections),current:R.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:r,getClient:f,get state(){return w.getState()},setState(x){let I;typeof x=="function"?I=x(w.getState()):I=x;const $=p();typeof I!="object"&&(I=$),Object.keys($).some(T=>!(T in I))&&(I=$),w.setState(I,!0)},subscribe(x,I,$){return w.subscribe(x,I,$?{...$,fireImmediately:$.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const x=w.getState(),I=x.connections;let $=x.current;for(const[,R]of I){const T=R.connector;T.isAuthorized&&await T.isAuthorized()||(I.delete(T.uid),$===T.uid&&($=null))}w.setState(R=>({...R,connections:I,current:$}))},store:w,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(x){const I=typeof x=="function"?x(a.getState()):x;if(I.length!==0)return a.setState(I,!0)},subscribe(x){return a.subscribe(x)}},connectors:{providerDetailToConnector:u,setup:c,setState(x){return l.setState(typeof x=="function"?x(l.getState()):x,!0)},subscribe(x){return l.subscribe(x)}},events:{change:b,connect:v,disconnect:C}}}}function Mat(t,e){const{initialState:r,reconnectOnMount:n}=e;return r&&!t._internal.store.persist.hasHydrated()&&t.setState({...r,chainId:t.chains.some(i=>i.id===r.chainId)?r.chainId:t.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var l;const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)s.add(h)}const o=[],a=((l=t._internal.mipd)==null?void 0:l.getProviders())??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(c),h=t._internal.connectors.setup(u);o.push(h)}return[...i,...o]})),n?pat(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function Rat(t){const{children:e,config:r,initialState:n,reconnectOnMount:i=!0}=t,{onMount:s}=Mat(r,{initialState:n,reconnectOnMount:i});r._internal.ssr||s();const o=E.useRef(!0);return E.useEffect(()=>{if(o.current&&r._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Toe=E.createContext(void 0);function jat(t){const{children:e,config:r}=t,n={value:r};return E.createElement(Rat,t,E.createElement(Toe.Provider,n,e))}const Dat="2.17.0",Lat=()=>`wagmi@${Dat}`;class Fat extends w8{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Lat()}}class Uat extends Fat{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function v8(t={}){const e=t.config??E.useContext(Toe);if(!e)throw new Uat;return e}function Bat(t,e){const{onChange:r}=e;return t._internal.chains.subscribe((n,i)=>{r(n,i)})}var Poe={exports:{}},Noe={},Ooe={exports:{}},Moe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=E;function zat(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wat=typeof Object.is=="function"?Object.is:zat,Hat=im.useState,qat=im.useEffect,Vat=im.useLayoutEffect,Gat=im.useDebugValue;function Kat(t,e){var r=e(),n=Hat({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Vat(function(){i.value=r,i.getSnapshot=e,F_(i)&&s({inst:i})},[t,r,e]),qat(function(){return F_(i)&&s({inst:i}),t(function(){F_(i)&&s({inst:i})})},[t]),Gat(r),r}function F_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wat(t,r)}catch{return!0}}function Yat(t,e){return e()}var Qat=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yat:Kat;Moe.useSyncExternalStore=im.useSyncExternalStore!==void 0?im.useSyncExternalStore:Qat;Ooe.exports=Moe;var Zat=Ooe.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b8=E,Jat=Zat;function Xat(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var elt=typeof Object.is=="function"?Object.is:Xat,tlt=Jat.useSyncExternalStore,rlt=b8.useRef,nlt=b8.useEffect,ilt=b8.useMemo,slt=b8.useDebugValue;Noe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=rlt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ilt(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,elt(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,h=m)}var c=!1,u,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=tlt(t,s[0],s[1]);return nlt(function(){o.hasValue=!0,o.value=a},[a]),slt(a),a};Poe.exports=Noe;var Roe=Poe.exports;const U_=t=>typeof t=="object"&&!Array.isArray(t);function olt(t,e,r=e,n=gv){const i=E.useRef([]),s=Roe.useSyncExternalStoreWithSelector(t,e,r,o=>o,(o,a)=>{if(U_(o)&&U_(a)&&i.current.length){for(const l of i.current)if(!n(o[l],a[l]))return!1;return!0}return n(o,a)});return E.useMemo(()=>{if(U_(s)){const o={...s};let a={};for(const[l,c]of Object.entries(o))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(o,a),o}return s},[s])}function joe(t={}){const e=v8(t);return olt(r=>yat(e,{onChange:r}),()=>$oe(e))}var _2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},alt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Sd,_S,_z,llt=(_z=class{constructor(){Mt(this,Sd,alt);Mt(this,_S,!1)}setTimeoutProvider(t){yt(this,Sd,t)}setTimeout(t,e){return ue(this,Sd).setTimeout(t,e)}clearTimeout(t){ue(this,Sd).clearTimeout(t)}setInterval(t,e){return ue(this,Sd).setInterval(t,e)}clearInterval(t){ue(this,Sd).clearInterval(t)}},Sd=new WeakMap,_S=new WeakMap,_z),wS=new llt;function clt(t){setTimeout(t,0)}var x8=typeof window>"u"||"Deno"in globalThis;function Qo(){}function ult(t,e){return typeof t=="function"?t(e):t}function dlt(t){return typeof t=="number"&&t>=0&&t!==1/0}function hlt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vS(t,e){return typeof t=="function"?t(e):t}function flt(t,e){return typeof t=="function"?t(e):t}function uz(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==ZP(o,e.options))return!1}else if(!mv(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function dz(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(tp(e.options.mutationKey)!==tp(s))return!1}else if(!mv(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function ZP(t,e){return((e==null?void 0:e.queryKeyHashFn)||tp)(t)}function tp(t){return JSON.stringify(t,(e,r)=>bS(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function mv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>mv(t[r],e[r])):!1}var plt=Object.prototype.hasOwnProperty;function Doe(t,e){if(t===e)return t;const r=hz(t)&&hz(e);if(!r&&!(bS(t)&&bS(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=r?c:s[c],h=t[u],f=e[u];if(h===f){a[u]=h,(r?c<i:plt.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const p=Doe(h,f);a[u]=p,p===h&&l++}return i===o&&l===i?t:a}function glt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hz(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bS(t){if(!fz(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fz(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fz(t){return Object.prototype.toString.call(t)==="[object Object]"}function mlt(t){return new Promise(e=>{wS.setTimeout(e,t)})}function ylt(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Doe(t,e):e}function wlt(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function vlt(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var JP=Symbol();function Loe(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function blt(t,e){return typeof t=="function"?t(...e):!!t}var df,$d,hg,Cz,xlt=(Cz=class extends _2{constructor(){super();Mt(this,df);Mt(this,$d);Mt(this,hg);yt(this,hg,e=>{if(!x8&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ue(this,$d)||this.setEventListener(ue(this,hg))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,$d))==null||e.call(this),yt(this,$d,void 0))}setEventListener(e){var r;yt(this,hg,e),(r=ue(this,$d))==null||r.call(this),yt(this,$d,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ue(this,df)!==e&&(yt(this,df,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ue(this,df)=="boolean"?ue(this,df):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},df=new WeakMap,$d=new WeakMap,hg=new WeakMap,Cz),Foe=new xlt;function Elt(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var _lt=clt;function Clt(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=_lt;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var hi=Clt(),fg,Id,pg,Az,Alt=(Az=class extends _2{constructor(){super();Mt(this,fg,!0);Mt(this,Id);Mt(this,pg);yt(this,pg,e=>{if(!x8&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ue(this,Id)||this.setEventListener(ue(this,pg))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Id))==null||e.call(this),yt(this,Id,void 0))}setEventListener(e){var r;yt(this,pg,e),(r=ue(this,Id))==null||r.call(this),yt(this,Id,e(this.setOnline.bind(this)))}setOnline(e){ue(this,fg)!==e&&(yt(this,fg,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ue(this,fg)}},fg=new WeakMap,Id=new WeakMap,pg=new WeakMap,Az),N6=new Alt;function klt(t){return Math.min(1e3*2**t,3e4)}function Uoe(t){return(t??"online")==="online"?N6.isOnline():!0}var xS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Boe(t){let e=!1,r=0,n;const i=Elt(),s=()=>i.status!=="pending",o=m=>{var w;if(!s()){const y=new xS(m);f(y),(w=t.onCancel)==null||w.call(t,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Foe.isFocused()&&(t.networkMode==="always"||N6.isOnline())&&t.canRun(),u=()=>Uoe(t.networkMode)&&t.canRun(),h=m=>{s()||(n==null||n(),i.resolve(m))},f=m=>{s()||(n==null||n(),i.reject(m))},p=()=>new Promise(m=>{var w;n=y=>{(s()||c())&&m(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var m;n=void 0,s()||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(s())return;let m;const w=r===0?t.initialPromise:void 0;try{m=w??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var I;if(s())return;const b=t.retry??(x8?0:3),v=t.retryDelay??klt,C=typeof v=="function"?v(r,y):v,x=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!x){f(y);return}r++,(I=t.onFail)==null||I.call(t,r,y),mlt(C).then(()=>c()?void 0:p()).then(()=>{e?f(y):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),i)}}var hf,kz,zoe=(kz=class{constructor(){Mt(this,hf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dlt(this.gcTime)&&yt(this,hf,wS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(x8?1/0:5*60*1e3))}clearGcTimeout(){ue(this,hf)&&(wS.clearTimeout(ue(this,hf)),yt(this,hf,void 0))}},hf=new WeakMap,kz),ff,gg,Go,pf,Wn,yv,gf,za,Bc,Sz,Slt=(Sz=class extends zoe{constructor(e){super();Mt(this,za);Mt(this,ff);Mt(this,gg);Mt(this,Go);Mt(this,pf);Mt(this,Wn);Mt(this,yv);Mt(this,gf);yt(this,gf,!1),yt(this,yv,e.defaultOptions),this.setOptions(e.options),this.observers=[],yt(this,pf,e.client),yt(this,Go,ue(this,pf).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,yt(this,ff,pz(this.options)),this.state=e.state??ue(this,ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ue(this,Wn))==null?void 0:e.promise}setOptions(e){if(this.options={...ue(this,yv),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=pz(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),yt(this,ff,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Go).remove(this)}setData(e,r){const n=ylt(this.state.data,e,this.options);return cn(this,za,Bc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){cn(this,za,Bc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=ue(this,Wn))==null?void 0:n.promise;return(i=ue(this,Wn))==null||i.cancel(e),r?r.then(Qo).catch(Qo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,ff))}isActive(){return this.observers.some(e=>flt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vS(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hlt(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ue(this,Wn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ue(this,Wn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ue(this,Go).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ue(this,Wn)&&(ue(this,gf)?ue(this,Wn).cancel({revert:!0}):ue(this,Wn).cancelRetry()),this.scheduleGc()),ue(this,Go).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,za,Bc).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,u,h,f,p,g,m,w,y,b,v;if(this.state.fetchStatus!=="idle"&&((l=ue(this,Wn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Wn))return ue(this,Wn).continueRetry(),ue(this,Wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(x=>x.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(yt(this,gf,!0),n.signal)})},s=()=>{const C=Loe(this.options,r),I=(()=>{const $={client:ue(this,pf),queryKey:this.queryKey,meta:this.meta};return i($),$})();return yt(this,gf,!1),this.options.persister?this.options.persister(C,I,this):C(I)},a=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ue(this,pf),state:this.state,fetchFn:s};return i(C),C})();(c=this.options.behavior)==null||c.onFetch(a,this),yt(this,gg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&cn(this,za,Bc).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),yt(this,Wn,Boe({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof xS&&C.revert&&this.setState({...ue(this,gg),fetchStatus:"idle"}),n.abort()},onFail:(C,x)=>{cn(this,za,Bc).call(this,{type:"failed",failureCount:C,error:x})},onPause:()=>{cn(this,za,Bc).call(this,{type:"pause"})},onContinue:()=>{cn(this,za,Bc).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await ue(this,Wn).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(p=(f=ue(this,Go).config).onSuccess)==null||p.call(f,C,this),(m=(g=ue(this,Go).config).onSettled)==null||m.call(g,C,this.state.error,this),C}catch(C){if(C instanceof xS){if(C.silent)return ue(this,Wn).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw cn(this,za,Bc).call(this,{type:"error",error:C}),(y=(w=ue(this,Go).config).onError)==null||y.call(w,C,this),(v=(b=ue(this,Go).config).onSettled)==null||v.call(b,this.state.data,C,this),C}finally{this.scheduleGc()}}},ff=new WeakMap,gg=new WeakMap,Go=new WeakMap,pf=new WeakMap,Wn=new WeakMap,yv=new WeakMap,gf=new WeakMap,za=new WeakSet,Bc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$lt(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return yt(this,gg,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),hi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ue(this,Go).notify({query:this,type:"updated",action:e})})},Sz);function $lt(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uoe(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function gz(t){return{onFetch:(e,r)=>{var u,h,f,p,g;const n=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=Loe(e.options,e.fetchOptions),b=async(v,C,x)=>{if(m)return Promise.reject();if(C==null&&v.pages.length)return Promise.resolve(v);const $=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:C,direction:x?"backward":"forward",meta:e.options.meta};return w(U),U})(),R=await y($),{maxPages:T}=e.options,L=x?vlt:wlt;return{pages:L(v.pages,R,T),pageParams:L(v.pageParams,C,T)}};if(i&&s.length){const v=i==="backward",C=v?Ilt:mz,x={pages:s,pageParams:o},I=C(n,x);a=await b(x,I,v)}else{const v=t??s.length;do{const C=l===0?o[0]??n.initialPageParam:mz(n,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var m,w;return(w=(m=e.options).persister)==null?void 0:w.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function mz(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Ilt(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var wv,zl,Ji,mf,Wl,cd,$z,Tlt=($z=class extends zoe{constructor(e){super();Mt(this,Wl);Mt(this,wv);Mt(this,zl);Mt(this,Ji);Mt(this,mf);yt(this,wv,e.client),this.mutationId=e.mutationId,yt(this,Ji,e.mutationCache),yt(this,zl,[]),this.state=e.state||Woe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ue(this,zl).includes(e)||(ue(this,zl).push(e),this.clearGcTimeout(),ue(this,Ji).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){yt(this,zl,ue(this,zl).filter(r=>r!==e)),this.scheduleGc(),ue(this,Ji).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ue(this,zl).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Ji).remove(this))}continue(){var e;return((e=ue(this,mf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,f,p,g,m,w,y,b,v,C,x,I,$,R,T;const r=()=>{cn(this,Wl,cd).call(this,{type:"continue"})},n={client:ue(this,wv),meta:this.options.meta,mutationKey:this.options.mutationKey};yt(this,mf,Boe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(L,U)=>{cn(this,Wl,cd).call(this,{type:"failed",failureCount:L,error:U})},onPause:()=>{cn(this,Wl,cd).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Ji).canRun(this)}));const i=this.state.status==="pending",s=!ue(this,mf).canStart();try{if(i)r();else{cn(this,Wl,cd).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=ue(this,Ji).config).onMutate)==null?void 0:a.call(o,e,this,n));const U=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));U!==this.state.context&&cn(this,Wl,cd).call(this,{type:"pending",context:U,variables:e,isPaused:s})}const L=await ue(this,mf).start();return await((h=(u=ue(this,Ji).config).onSuccess)==null?void 0:h.call(u,L,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,L,e,this.state.context,n)),await((m=(g=ue(this,Ji).config).onSettled)==null?void 0:m.call(g,L,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,L,null,e,this.state.context,n)),cn(this,Wl,cd).call(this,{type:"success",data:L}),L}catch(L){try{throw await((v=(b=ue(this,Ji).config).onError)==null?void 0:v.call(b,L,e,this.state.context,this,n)),await((x=(C=this.options).onError)==null?void 0:x.call(C,L,e,this.state.context,n)),await(($=(I=ue(this,Ji).config).onSettled)==null?void 0:$.call(I,void 0,L,this.state.variables,this.state.context,this,n)),await((T=(R=this.options).onSettled)==null?void 0:T.call(R,void 0,L,e,this.state.context,n)),L}finally{cn(this,Wl,cd).call(this,{type:"error",error:L})}}finally{ue(this,Ji).runNext(this)}}},wv=new WeakMap,zl=new WeakMap,Ji=new WeakMap,mf=new WeakMap,Wl=new WeakSet,cd=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hi.batch(()=>{ue(this,zl).forEach(n=>{n.onMutationUpdate(e)}),ue(this,Ji).notify({mutation:this,type:"updated",action:e})})},$z);function Woe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eu,Wa,vv,Iz,Plt=(Iz=class extends _2{constructor(e={}){super();Mt(this,eu);Mt(this,Wa);Mt(this,vv);this.config=e,yt(this,eu,new Set),yt(this,Wa,new Map),yt(this,vv,0)}build(e,r,n){const i=new Tlt({client:e,mutationCache:this,mutationId:++C2(this,vv)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){ue(this,eu).add(e);const r=Hb(e);if(typeof r=="string"){const n=ue(this,Wa).get(r);n?n.push(e):ue(this,Wa).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ue(this,eu).delete(e)){const r=Hb(e);if(typeof r=="string"){const n=ue(this,Wa).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&ue(this,Wa).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Hb(e);if(typeof r=="string"){const n=ue(this,Wa).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Hb(e);if(typeof r=="string"){const i=(n=ue(this,Wa).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hi.batch(()=>{ue(this,eu).forEach(e=>{this.notify({type:"removed",mutation:e})}),ue(this,eu).clear(),ue(this,Wa).clear()})}getAll(){return Array.from(ue(this,eu))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dz(r,n))}findAll(e={}){return this.getAll().filter(r=>dz(e,r))}notify(e){hi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return hi.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qo))))}},eu=new WeakMap,Wa=new WeakMap,vv=new WeakMap,Iz);function Hb(t){var e;return(e=t.options.scope)==null?void 0:e.id}var tu,Td,$s,ru,gu,W3,ES,Tz,Nlt=(Tz=class extends _2{constructor(r,n){super();Mt(this,gu);Mt(this,tu);Mt(this,Td);Mt(this,$s);Mt(this,ru);yt(this,tu,r),this.setOptions(n),this.bindMethods(),cn(this,gu,W3).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=ue(this,tu).defaultMutationOptions(r),glt(this.options,n)||ue(this,tu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,$s),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&tp(n.mutationKey)!==tp(this.options.mutationKey)?this.reset():((i=ue(this,$s))==null?void 0:i.state.status)==="pending"&&ue(this,$s).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ue(this,$s))==null||r.removeObserver(this)}onMutationUpdate(r){cn(this,gu,W3).call(this),cn(this,gu,ES).call(this,r)}getCurrentResult(){return ue(this,Td)}reset(){var r;(r=ue(this,$s))==null||r.removeObserver(this),yt(this,$s,void 0),cn(this,gu,W3).call(this),cn(this,gu,ES).call(this)}mutate(r,n){var i;return yt(this,ru,n),(i=ue(this,$s))==null||i.removeObserver(this),yt(this,$s,ue(this,tu).getMutationCache().build(ue(this,tu),this.options)),ue(this,$s).addObserver(this),ue(this,$s).execute(r)}},tu=new WeakMap,Td=new WeakMap,$s=new WeakMap,ru=new WeakMap,gu=new WeakSet,W3=function(){var n;const r=((n=ue(this,$s))==null?void 0:n.state)??Woe();yt(this,Td,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ES=function(r){hi.batch(()=>{var n,i,s,o,a,l,c,u;if(ue(this,ru)&&this.hasListeners()){const h=ue(this,Td).variables,f=ue(this,Td).context,p={client:ue(this,tu),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=ue(this,ru)).onSuccess)==null||i.call(n,r.data,h,f,p),(o=(s=ue(this,ru)).onSettled)==null||o.call(s,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((l=(a=ue(this,ru)).onError)==null||l.call(a,r.error,h,f,p),(u=(c=ue(this,ru)).onSettled)==null||u.call(c,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(ue(this,Td))})})},Tz),Hl,Pz,Olt=(Pz=class extends _2{constructor(e={}){super();Mt(this,Hl);this.config=e,yt(this,Hl,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??ZP(i,r);let o=this.get(s);return o||(o=new Slt({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ue(this,Hl).has(e.queryHash)||(ue(this,Hl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ue(this,Hl).get(e.queryHash);r&&(e.destroy(),r===e&&ue(this,Hl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,Hl).get(e)}getAll(){return[...ue(this,Hl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>uz(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>uz(e,n)):r}notify(e){hi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){hi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hl=new WeakMap,Pz),rn,Pd,Nd,mg,yg,Od,wg,vg,Nz,Mlt=(Nz=class{constructor(t={}){Mt(this,rn);Mt(this,Pd);Mt(this,Nd);Mt(this,mg);Mt(this,yg);Mt(this,Od);Mt(this,wg);Mt(this,vg);yt(this,rn,t.queryCache||new Olt),yt(this,Pd,t.mutationCache||new Plt),yt(this,Nd,t.defaultOptions||{}),yt(this,mg,new Map),yt(this,yg,new Map),yt(this,Od,0)}mount(){C2(this,Od)._++,ue(this,Od)===1&&(yt(this,wg,Foe.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,rn).onFocus())})),yt(this,vg,N6.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,rn).onOnline())})))}unmount(){var t,e;C2(this,Od)._--,ue(this,Od)===0&&((t=ue(this,wg))==null||t.call(this),yt(this,wg,void 0),(e=ue(this,vg))==null||e.call(this),yt(this,vg,void 0))}isFetching(t){return ue(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ue(this,Pd).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ue(this,rn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ue(this,rn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(vS(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ue(this,rn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=ue(this,rn).get(n.queryHash),s=i==null?void 0:i.state.data,o=ult(e,s);if(o!==void 0)return ue(this,rn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return hi.batch(()=>ue(this,rn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ue(this,rn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ue(this,rn);hi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ue(this,rn);return hi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=hi.batch(()=>ue(this,rn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Qo).catch(Qo)}invalidateQueries(t,e={}){return hi.batch(()=>(ue(this,rn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=hi.batch(()=>ue(this,rn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Qo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Qo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ue(this,rn).build(this,e);return r.isStaleByTime(vS(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qo).catch(Qo)}fetchInfiniteQuery(t){return t.behavior=gz(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qo).catch(Qo)}ensureInfiniteQueryData(t){return t.behavior=gz(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return N6.isOnline()?ue(this,Pd).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,rn)}getMutationCache(){return ue(this,Pd)}getDefaultOptions(){return ue(this,Nd)}setDefaultOptions(t){yt(this,Nd,t)}setQueryDefaults(t,e){ue(this,mg).set(tp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ue(this,mg).values()],r={};return e.forEach(n=>{mv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ue(this,yg).set(tp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ue(this,yg).values()],r={};return e.forEach(n=>{mv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ue(this,Nd).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ZP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===JP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ue(this,Nd).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ue(this,rn).clear(),ue(this,Pd).clear()}},rn=new WeakMap,Pd=new WeakMap,Nd=new WeakMap,mg=new WeakMap,yg=new WeakMap,Od=new WeakMap,wg=new WeakMap,vg=new WeakMap,Nz);function Rlt(t){return{mutationFn(e){return mat(t,e)},mutationKey:["switchChain"]}}var Hoe=E.createContext(void 0),jlt=t=>{const e=E.useContext(Hoe);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dlt=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Hoe.Provider,{value:t,children:e}));function Llt(t,e){const r=jlt(),[n]=E.useState(()=>new Nlt(r,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const i=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(hi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=E.useCallback((o,a)=>{n.mutate(o,a).catch(Qo)},[n]);if(i.error&&blt(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Flt(t={}){const e=v8(t);return E.useSyncExternalStore(r=>Bat(e,{onChange:r}),()=>oz(e),()=>oz(e))}function qoe(t={}){const e=v8(t);return Roe.useSyncExternalStoreWithSelector(r=>wat(e,{onChange:r}),()=>gS(e,t),()=>gS(e,t),r=>r,(r,n)=>(r==null?void 0:r.uid)===(n==null?void 0:n.uid))}function Ult(t={}){const{mutation:e}=t,r=v8(t),n=Rlt(r),{mutate:i,mutateAsync:s,...o}=Llt({...e,...n});return{...o,chains:Flt({config:r}),switchChain:i,switchChainAsync:s}}const Blt={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},zlt={block:m0e({format(t){var r;return{transactions:(r=t.transactions)==null?void 0:r.map(n=>{if(typeof n=="string")return n;const i=g4(n);return i.typeHex==="0x7e"&&(i.isSystemTx=n.isSystemTx,i.mint=n.mint?Yn(n.mint):void 0,i.sourceHash=n.sourceHash,i.type="deposit"),i}),stateRoot:t.stateRoot}}}),transaction:p0e({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Yn(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:y0e({format(t){return{l1GasPrice:t.l1GasPrice?Yn(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Yn(t.l1GasUsed):null,l1Fee:t.l1Fee?Yn(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Wlt(t,e){return Vlt(t)?qlt(t):spe(t,e)}const Hlt={transaction:Wlt};function qlt(t){Glt(t);const{sourceHash:e,data:r,from:n,gas:i,isSystemTx:s,mint:o,to:a,value:l}=t,c=[e,n,a??"0x",o?Pr(o):"0x",l?Pr(l):"0x",i?Pr(i):"0x",s?"0x1":"0x",r??"0x"];return wl(["0x7e",sh(c)])}function Vlt(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Glt(t){const{from:e,to:r}=t;if(e&&!wn(e))throw new gs({address:e});if(r&&!wn(r))throw new gs({address:r})}const yz={blockTime:2e3,contracts:Blt,formatters:zlt,serializers:Hlt},R1=11155111,Ga=vG({...yz,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...yz.contracts,disputeGameFactory:{[R1]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[R1]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[R1]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[R1]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:R1});({...Ga});const wz={appId:"cmeigbb8q00u5ky0bv70pell5",config:{embeddedWallets:{createOnLogin:"users-without-wallets",noPromptOnSignature:!1},appearance:{theme:"light",accentColor:"#676FFF",logo:void 0},loginMethods:["email","wallet","google"],supportedChains:[Ga],defaultChain:Ga}},Klt=Oat({chains:[Ga],transports:{[Ga.id]:fc("https://sepolia.base.org")}}),Vc={WETH:"0x4200000000000000000000000000000000000006",AAVE_POOL:"0x8bAB6d1b75f19e9eD9fCe8b9BD338844fF79aE27",A_WETH:"0x73a5bB60b0B0fc35710DDc0ea9c407031E31Bdbb"},Voe=E.createContext(void 0),Goe=()=>{const t=E.useContext(Voe);if(!t)throw new Error("useWallet must be used within a SimpleWalletProvider");return t},Ylt=({children:t})=>{const{ready:e,authenticated:r}=Bm(),{wallets:n}=xl(),[i,s]=E.useState({isConnected:!1,isLoading:!0});return E.useEffect(()=>{if(console.log("SimpleWalletProvider effect:",{ready:e,authenticated:r,walletsCount:n.length}),e)if(r&&n.length>0){const o=n.find(a=>a.connectorType==="injected")||n[0];s({isConnected:!0,address:o.address,isLoading:!1})}else s({isConnected:!1,isLoading:!1})},[e,r,n]),d.jsx(Voe.Provider,{value:{walletState:i},children:t})},Koe=E.createContext(void 0),Qlt=()=>{const t=E.useContext(Koe);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Zlt=({children:t})=>{const[e,r]=E.useState([]),n=E.useCallback(o=>{const a=Math.random().toString(36).substring(2,9),l={...o,id:a,duration:o.duration??5e3};return r(c=>[...c,l]),l.duration&&l.duration>0&&setTimeout(()=>{i(a)},l.duration),a},[]),i=E.useCallback(o=>{r(a=>a.filter(l=>l.id!==o))},[]),s=E.useCallback((o,a)=>{r(l=>l.map(c=>c.id===o?{...c,...a}:c))},[]);return d.jsxs(Koe.Provider,{value:{toasts:e,addToast:n,removeToast:i,updateToast:s},children:[t,d.jsx(Jlt,{})]})},Jlt=()=>{const{toasts:t,removeToast:e}=Qlt();return d.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(r=>d.jsx(Xlt,{toast:r,onRemove:()=>e(r.id)},r.id))})},Xlt=({toast:t,onRemove:e})=>{const r=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":default:return"bg-blue-50 border-blue-200 text-blue-800"}},n=()=>{switch(t.type){case"success":return d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return d.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return d.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.866-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return d.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return d.jsx("div",{className:`
      border rounded-lg p-4 shadow-lg transition-all duration-300 ease-in-out
      transform animate-slide-in-right backdrop-blur-sm
      ${r()}
    `,children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:n()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-sm font-medium",children:t.title}),d.jsx("button",{onClick:e,className:"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.message&&d.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.txHash&&d.jsx("div",{className:"mt-2",children:d.jsxs("a",{href:`https://sepolia.basescan.org/tx/${t.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs font-medium hover:underline",children:["View on BaseScan",d.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),t.action&&d.jsx("div",{className:"mt-2",children:d.jsx("button",{onClick:t.action.onClick,className:"text-xs font-medium hover:underline",children:t.action.label})})]})]})})},O6=({variant:t="primary",size:e="md",loading:r=!1,children:n,disabled:i,className:s="",...o})=>{const a="font-medium rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",l={primary:"bg-primary-600 hover:bg-primary-700 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900",danger:"bg-red-600 hover:bg-red-700 text-white"},c={sm:"py-1.5 px-3 text-sm",md:"py-2 px-4",lg:"py-3 px-6 text-lg"},u=i||r;return d.jsxs("button",{className:`
        ${a}
        ${l[t]}
        ${c[e]}
        ${u?"opacity-50 cursor-not-allowed":""}
        ${s}
      `,disabled:u,...o,children:[r&&d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),n]})},ect=()=>{const{chain:t,isConnected:e}=joe(),{switchChain:r,isPending:n}=Ult(),[i,s]=E.useState(!1);console.log("NetworkSwitcher DEBUG:",{currentChain:t,isConnected:e,chainId:t==null?void 0:t.id,chainName:t==null?void 0:t.name,isPending:n});const o=async()=>{try{await r({chainId:Ga.id}),console.log("Successfully switched to Base Sepolia!"),s(!1)}catch(c){console.error("Failed to switch to Base Sepolia:",c)}},l=(()=>{if(!t)return{name:"Unknown",isBaseSepolia:!1,colors:"bg-gray-500 text-white"};switch(t.id){case Ga.id:return{name:"Base Sepolia",isBaseSepolia:!0,colors:"bg-green-500 text-white",isTestnet:!0};default:return{name:t.name||"Unknown Network",isBaseSepolia:!1,colors:"bg-red-500 text-white",isTestnet:!1}}})();return t?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>s(!i),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${l.colors} hover:opacity-80`,disabled:n,children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${l.isBaseSepolia?"bg-white":"bg-red-300"} animate-pulse`}),d.jsx("span",{children:l.name}),l.isTestnet&&d.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs",children:"Testnet"}),!l.isBaseSepolia&&d.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 rounded text-xs",children:"Not Base Sepolia"})]}),d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"p-3",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Network"}),d.jsxs("button",{onClick:o,disabled:n||(t==null?void 0:t.id)===Ga.id,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 ${(t==null?void 0:t.id)===Ga.id?"bg-green-50 border-2 border-green-200 cursor-not-allowed":"hover:bg-green-50 border border-gray-200 hover:border-green-300"}`,children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Base Sepolia"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Testnet  ChainID: 84532"})]})]}),(t==null?void 0:t.id)===Ga.id&&d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Connected"})]}),n&&d.jsx("div",{className:"w-4 h-4 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})]}),(t==null?void 0:t.id)!==Ga.id&&d.jsx("div",{className:"mt-3 p-2 bg-yellow-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("svg",{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.866-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),d.jsxs("div",{className:"text-xs text-yellow-700",children:[d.jsx("div",{className:"font-medium",children:"Switch Required"}),d.jsx("div",{children:"This app only works on Base Sepolia testnet. Please switch to continue."})]})]})})]})}),i&&d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]}):d.jsx("button",{onClick:o,disabled:n,className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors",children:n?"Switching...":"Switch to Base Sepolia"})};function vz(t){return!t||t.length<10?t:`${t.slice(0,6)}...${t.slice(-4)}`}const tct=()=>{const{walletState:t}=Goe(),{login:e,logout:r}=Bm();return d.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"S"})}),d.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 hidden xs:block",children:"SOVRA Wallet"}),d.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 block xs:hidden",children:"SOVRA"})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t.isConnected&&d.jsx("div",{className:"hidden sm:block",children:d.jsx(ect,{})}),t.isConnected?d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsxs("div",{className:"text-right hidden sm:block",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:vz(t.address||"")}),d.jsx("p",{className:"text-xs text-gray-500",children:"Connected"})]}),d.jsx("div",{className:"text-right block sm:hidden",children:d.jsx("p",{className:"text-xs font-medium text-gray-900",children:vz(t.address||"")})}),d.jsx(O6,{variant:"secondary",size:"sm",onClick:r,className:"text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:"Disconnect"})]}):d.jsx(O6,{onClick:e,loading:t.isLoading,disabled:t.isLoading,size:"sm",className:"text-xs sm:text-sm px-3 sm:px-4 py-2",children:t.isLoading?"Connecting...":"Connect Wallet"})]})]})})})},rct=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}];function Yoe(){const{wallets:t}=xl(),e=qoe(),[r,n]=E.useState("0"),[i,s]=E.useState(!1),[o,a]=E.useState(null),l=t.find(f=>f.connectorType==="injected")||t[0],c=l==null?void 0:l.address,u=E.useCallback(async()=>{var f,p;if(!c||!e){console.log("useWETHBalance: Missing requirements",{userAddress:!!c,publicClient:!!e});return}console.log("useWETHBalance: Fetching balance",{userAddress:c,walletType:(l==null?void 0:l.walletClientType)||(l==null?void 0:l.connectorType),chainId:(f=e.chain)==null?void 0:f.id,chainName:(p=e.chain)==null?void 0:p.name,contractAddress:Vc.WETH}),s(!0),a(null);try{const g=await e.readContract({address:Vc.WETH,abi:rct,functionName:"balanceOf",args:[c]}),m=Ln(g,18);console.log("useWETHBalance: Successfully fetched balance",{balance:m,rawBalance:g.toString()}),n(m)}catch(g){console.error("useWETHBalance: Failed to fetch WETH balance:",g),a("Failed to fetch WETH balance"),n("0")}finally{s(!1)}},[c,e,l]);E.useEffect(()=>{var f;console.log("useWETHBalance: useEffect triggered",{userAddress:!!c,publicClient:!!e,chainId:(f=e==null?void 0:e.chain)==null?void 0:f.id}),c&&e&&u()},[c,e,u]);const h=E.useCallback(()=>{u()},[u]);return{balance:r,isLoading:i,error:o,refetch:h,userAddress:c}}const nct="https://aave-api-v2.aave.com",ict="proto_base_sepolia_v3";class sct{constructor(){qm(this,"cache",new Map);qm(this,"CACHE_DURATION",3e4)}getCachedData(e){const r=this.cache.get(e);return r&&Date.now()-r.timestamp<this.CACHE_DURATION?r.data:null}setCachedData(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}async getMarketData(){const e=`market_${ict}`,r=this.getCachedData(e);if(r)return r;try{const n=await fetch(`${nct}/data/markets-data`);if(!n.ok)throw new Error(`Aave API error: ${n.status}`);const s=(await n.json()).find(o=>{var a;return((a=o.marketTitle)==null?void 0:a.toLowerCase().includes("base"))||o.chainId===84532});if(!s)throw new Error("Base Sepolia market data not found");return this.setCachedData(e,s),s}catch(n){return console.error("Failed to fetch Aave market data:",n),this.getMockData()}}async getWETHReserveData(){var e;try{return((e=(await this.getMarketData()).reserves)==null?void 0:e.find(i=>{var s;return i.symbol==="WETH"||i.symbol==="ETH"||((s=i.name)==null?void 0:s.toLowerCase().includes("ethereum"))}))||null}catch(r){return console.error("Failed to fetch WETH reserve data:",r),null}}async getWETHSupplyAPY(){const e="weth_apy",r=this.getCachedData(e);if(r)return r;try{const n=await this.getWETHReserveData();if(!n)throw new Error("WETH reserve data not found");const i=BigInt(n.liquidityRate),s=BigInt(10**27),a=Number(i)/Number(s)*100;return this.setCachedData(e,a),a}catch(n){console.error("Failed to calculate WETH APY:",n);const i=2.34;return this.setCachedData(e,i),i}}getMockData(){return{reserves:[{symbol:"WETH",name:"Wrapped Ethereum",decimals:18,liquidityRate:"23400000000000000000000000",variableBorrowRate:"28500000000000000000000000",stableBorrowRate:"35000000000000000000000000",liquidityIndex:"1000000000000000000000000000",utilizationRate:"0.45",totalLiquidity:"1000000000000000000000",totalLiquidityUSD:"2400000.00",availableLiquidity:"550000000000000000000",availableLiquidityUSD:"1320000.00",totalDebt:"450000000000000000000",totalDebtUSD:"1080000.00",priceInUSD:"2400.00",lastUpdateTimestamp:Date.now()}]}}async getWETHPriceUSD(){var n;const e="weth_price_usd",r=this.getCachedData(e);if(r)return r;try{const i=await this.getWETHReserveData();if(i!=null&&i.priceInUSD){const l=parseFloat(i.priceInUSD);return this.setCachedData(e,l),l}const a=((n=(await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).json()).ethereum)==null?void 0:n.usd)||2400;return this.setCachedData(e,a),a}catch(i){console.error("Failed to fetch WETH price:",i);const s=2400;return this.setCachedData(e,s),s}}}const bz=new sct;function Qoe(){const[t,e]=E.useState(null),[r,n]=E.useState(null),[i,s]=E.useState(!0),[o,a]=E.useState(null),l=async()=>{try{s(!0),a(null);const[f,p]=await Promise.all([bz.getWETHSupplyAPY(),bz.getWETHPriceUSD()]);e(f),n(p)}catch(f){console.error("Failed to fetch APY data:",f),a("Failed to load APY data")}finally{s(!1)}};return E.useEffect(()=>{l();const f=setInterval(l,6e4);return()=>clearInterval(f)},[]),{apy:t,priceUSD:r,isLoading:i,error:o,formatAPY:f=>f===null?"--":`${f.toFixed(2)}%`,formatPrice:f=>f===null?"--":`$${f.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,convertWETHToUSD:f=>{if(r===null)return"--";const p=typeof f=="string"?parseFloat(f):f;return isNaN(p)?"--":`$${(p*r).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},refetch:l}}const oct=()=>{const{balance:t,isLoading:e,error:r,refetch:n}=Yoe(),{convertWETHToUSD:i,formatPrice:s,priceUSD:o,isLoading:a}=Qoe(),l=()=>{n()};return d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"WETH Balance"}),d.jsx("button",{onClick:l,disabled:e,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors disabled:opacity-50",title:"Refresh WETH Balance",children:d.jsx("svg",{className:`w-4 h-4 ${e?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-3 sm:p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:d.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",viewBox:"0 0 256 417",fill:"currentColor",children:[d.jsx("path",{d:"M127.9611 0L125.1 9.5v285.168l2.8611 2.86L256 206.1732 127.9611 0z"}),d.jsx("path",{d:"M127.9611 0L0 206.1732l127.9611 91.3548V157.7084 0z"}),d.jsx("path",{d:"M127.9611 416.9995L125.1 412.0498v-74.4223l2.8611-2.8612L256 244.2932l-128.0389 172.7063z"}),d.jsx("path",{d:"M127.9611 334.7663v82.233l127.9611-172.7063-127.9611 90.4733z"}),d.jsx("path",{d:"M127.9611 297.5279L256 206.1732l-128.0389-48.4648v139.9195z"}),d.jsx("path",{d:"M0 206.1732L127.9611 297.5279v-139.9195L0 206.1732z"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"Wrapped Ethereum"}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Base Sepolia"})]})]}),d.jsx("div",{className:"text-right",children:e?d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}):r?d.jsxs("div",{className:"text-red-500",children:[d.jsx("p",{className:"text-lg font-bold",children:"Error"}),d.jsx("p",{className:"text-xs",children:r})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:parseFloat(t).toFixed(6)}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"WETH"}),!a&&d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i(t)})]})})]})}),d.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"WETH Price"}),d.jsx("span",{className:"font-medium text-gray-900",children:a?d.jsx("div",{className:"animate-pulse bg-gray-200 rounded w-16 h-4"}):s(o)})]})})]})]})},xz=[{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],Ez=[{inputs:[{name:"asset",type:"address"},{name:"amount",type:"uint256"},{name:"onBehalfOf",type:"address"},{name:"referralCode",type:"uint16"}],name:"supply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"asset",type:"address"},{name:"amount",type:"uint256"},{name:"to",type:"address"}],name:"withdraw",outputs:[{name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];function act(t){const{wallets:e}=xl(),{sendTransaction:r}=dat(),n=qoe(),[i,s]=E.useState(!1),[o,a]=E.useState(!1),[l,c]=E.useState(null),u=e.find(m=>m.connectorType==="injected")||e[0],h=u==null?void 0:u.address,f=async()=>{if(!h||!n)return"0";try{const m=await n.readContract({address:Vc.A_WETH,abi:xz,functionName:"balanceOf",args:[h]});return Ln(m,18)}catch(m){return console.error("Failed to get supplied WETH balance:",m),"0"}},p=async m=>{if(!h||!m||parseFloat(m)<=0||!u){c("Invalid amount or wallet not connected");return}s(!0),c(null);try{const w=c7(m,18);console.log("Using wallet for Aave WETH operations:",{address:u.address,type:u.walletClientType,connectorType:u.connectorType}),console.log("Approving WETH...");const y=yi({abi:xz,functionName:"approve",args:[Vc.AAVE_POOL,w]}),b=await r({to:Vc.WETH,data:y},{address:u.address});console.log("Approval transaction:",b.hash),await new Promise(x=>setTimeout(x,3e3)),console.log("Supplying WETH to Aave...");const v=yi({abi:Ez,functionName:"supply",args:[Vc.WETH,w,h,0]}),C=await r({to:Vc.AAVE_POOL,data:v},{address:u.address});return console.log("Supply transaction:",C.hash),t&&setTimeout(t,5e3),C.hash}catch(w){console.error("Supply failed:",w),c(w instanceof Error?w.message:"Supply failed")}finally{s(!1)}},g=async m=>{if(!h||!u){c("Wallet not connected");return}a(!0),c(null);try{let w;m&&parseFloat(m)>0?(w=c7(m,18),console.log("Withdrawing",m,"WETH from Aave...")):(w=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),console.log("Withdrawing all WETH from Aave...")),console.log("Using wallet for withdraw:",{address:u.address,type:u.walletClientType,connectorType:u.connectorType});const y=yi({abi:Ez,functionName:"withdraw",args:[Vc.WETH,w,h]}),b=await r({to:Vc.AAVE_POOL,data:y},{address:u.address});return console.log("Withdraw transaction:",b.hash),t&&setTimeout(t,5e3),b.hash}catch(w){console.error("Withdraw failed:",w),c(w instanceof Error?w.message:"Withdraw failed")}finally{a(!1)}};return{supplyWETH:p,withdrawWETH:g,withdrawAllWETH:()=>g(),getSuppliedBalance:f,isSupplying:i,isWithdrawing:o,error:l,userAddress:h}}const lct=()=>{const{balance:t,refetch:e}=Yoe(),{supplyWETH:r,withdrawWETH:n,getSuppliedBalance:i,isSupplying:s,isWithdrawing:o,error:a}=act(e),{apy:l,formatAPY:c,convertWETHToUSD:u,isLoading:h}=Qoe(),[f,p]=E.useState(""),[g,m]=E.useState(""),[w,y]=E.useState("0"),[b,v]=E.useState(!1),C=async()=>{v(!0);try{const W=await i();y(W)}catch(W){console.error("Failed to fetch supplied balance:",W)}finally{v(!1)}};E.useEffect(()=>{C()},[]);const x=async()=>{if(!(!f||parseFloat(f)<=0))try{await r(f),p(""),setTimeout(()=>{C()},3e3)}catch(W){console.error("Supply failed:",W)}},I=async()=>{try{await n(g||void 0),m(""),setTimeout(()=>{C()},3e3)}catch(W){console.error("Withdraw failed:",W)}},$=()=>{m(w)},R=()=>{p(t)},T=parseFloat(f)>0&&parseFloat(f)<=parseFloat(t),L=parseFloat(w)>0,U=g?parseFloat(g)>0&&parseFloat(g)<=parseFloat(w):!0;return d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[d.jsxs("div",{className:"mb-4 sm:mb-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-2 sm:mb-0",children:"Aave WETH Lending"}),d.jsxs("div",{className:"text-left sm:text-right",children:[d.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Supplied Balance"}),b?d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"h-5 sm:h-6 bg-gray-200 rounded w-20"})}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-base sm:text-lg font-bold text-green-600",children:[parseFloat(w).toFixed(6)," WETH"]}),d.jsx("p",{className:"text-xs text-gray-400",children:u(w)})]})]})]}),d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium text-green-800",children:"Current Supply APY"})]}),d.jsx("div",{className:"text-right",children:h?d.jsx("div",{className:"animate-pulse bg-green-200 rounded w-12 h-4"}):d.jsx("span",{className:"text-lg font-bold text-green-700",children:c(l)})})]}),d.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Earn interest on your supplied WETH"})]})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supply WETH to Aave"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",placeholder:"0.0",value:f,onChange:W=>p(W.target.value),className:"w-full px-3 sm:px-4 py-3 pr-16 sm:pr-20 text-base sm:text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:s}),d.jsx("button",{onClick:R,className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-800 disabled:opacity-50",disabled:s,children:"MAX"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs sm:text-sm text-gray-600 mt-1 space-y-1 sm:space-y-0",children:[d.jsxs("div",{children:[d.jsxs("span",{children:["Available: ",parseFloat(t).toFixed(6)," WETH"]}),d.jsxs("span",{className:"text-gray-400 ml-2",children:["(",u(t),")"]})]}),f&&d.jsxs("div",{className:"flex flex-col sm:items-end",children:[d.jsx("span",{className:T?"text-green-600":"text-red-600",children:T?" Valid amount":" Insufficient balance"}),f&&T&&d.jsxs("span",{className:"text-gray-400 text-xs",children:[" ",u(f)]})]})]})]}),d.jsx("button",{onClick:x,disabled:!T||s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Supplying..."})]}):"Supply WETH"})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Withdraw WETH from Aave"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",placeholder:"0.0",value:g,onChange:W=>m(W.target.value),className:"w-full px-4 py-3 pr-20 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:o}),d.jsx("button",{onClick:$,className:"absolute right-3 top-1/2 transform -translate-y-1/2 px-3 py-1 text-sm font-medium text-red-600 hover:text-red-800 disabled:opacity-50",disabled:o,children:"MAX"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs sm:text-sm text-gray-600 mt-1 space-y-1 sm:space-y-0",children:[d.jsxs("div",{children:[d.jsxs("span",{children:["Available: ",parseFloat(w).toFixed(6)," WETH"]}),d.jsxs("span",{className:"text-gray-400 ml-2",children:["(",u(w),")"]})]}),g&&d.jsxs("div",{className:"flex flex-col sm:items-end",children:[d.jsx("span",{className:U?"text-green-600":"text-red-600",children:U?" Valid amount":" Insufficient balance"}),g&&U&&d.jsxs("span",{className:"text-gray-400 text-xs",children:[" ",u(g)]})]})]})]}),d.jsx("button",{onClick:I,disabled:!L||!U||o,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Withdrawing..."})]}):g?`Withdraw ${parseFloat(g).toFixed(6)} WETH`:`Withdraw All (${parseFloat(w).toFixed(6)} WETH)`})]}),a&&d.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-700",children:a})}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"How it works"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[d.jsx("li",{children:" Supply WETH to earn interest on Aave"}),d.jsx("li",{children:" Your WETH is converted to aWETH tokens"}),d.jsx("li",{children:" Withdraw anytime to get your WETH back"}),d.jsx("li",{children:" All transactions use your connected wallet (Rabby/MetaMask)"})]})]})]})},cct=()=>{const{walletState:t}=Goe(),{chain:e}=joe();return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(tct,{}),d.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[t.isConnected&&(e==null?void 0:e.id)!==84532&&d.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.866-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-yellow-800",children:"Wrong Network"}),d.jsx("p",{className:"text-sm text-yellow-700",children:"Please switch to Base Sepolia testnet to use this app. Click the network switcher in the top right."})]})]})}),t.isConnected?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-4 sm:space-y-6",children:[d.jsx(oct,{}),d.jsx(lct,{})]}):d.jsx("div",{className:"text-center py-16",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:"S"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to SOVRA Wallet"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Connect your wallet to view WETH balances and supply liquidity to Aave lending pools on Base Sepolia testnet."})]})})]}),d.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsx("div",{className:"text-center text-sm text-gray-500",children:d.jsx("p",{children:"SOVRA Wallet - Powered by Privy Account Abstraction | Built with React + TypeScript + Tailwind CSS"})})})})]})};class uct extends E.Component{constructor(){super(...arguments);qm(this,"state",{hasError:!1});qm(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("span",{className:"text-red-600 text-2xl",children:""})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&d.jsxs("details",{className:"text-left bg-gray-100 rounded-lg p-3 mb-4",children:[d.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),d.jsx("pre",{className:"text-xs text-red-600 whitespace-pre-wrap",children:this.state.error.message})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(O6,{onClick:this.handleReset,className:"w-full",children:"Try Again"}),d.jsx(O6,{variant:"secondary",onClick:()=>window.location.reload(),className:"w-full",children:"Refresh Page"})]})]})}):this.props.children}}const dct=new Mlt;function hct(){return d.jsx(uct,{children:d.jsx(Dlt,{client:dct,children:d.jsx(jat,{config:Klt,children:d.jsx(cat,{appId:wz.appId,config:wz.config,children:d.jsx(Ylt,{children:d.jsx(Zlt,{children:d.jsx(cct,{})})})})})})})}z_.createRoot(document.getElementById("root")).render(d.jsx(Oe.StrictMode,{children:d.jsx(hct,{})}));export{vG as $,Fhe as A,Hhe as B,zs as C,Efe as D,xh as E,e0e as F,s7 as G,pG as H,gs as I,Yn as J,cp as K,t4 as L,yn as M,yi as N,ive as O,VK as P,gm as Q,z$ as R,xu as S,Uut as T,Cct as U,_G as V,Fn as W,_u as X,mm as Y,lI as Z,xr as _,kV as a,Fx as a$,Cu as a0,fc as a1,qi as a2,dhe as a3,ihe as a4,bct as a5,nh as a6,fhe as a7,rw as a8,she as a9,dw as aA,ts as aB,S0 as aC,r7 as aD,wp as aE,_L as aF,Me as aG,Yf as aH,dje as aI,AT as aJ,ETe as aK,ZX as aL,WA as aM,JX as aN,No as aO,Dx as aP,WBe as aQ,bs as aR,UUe as aS,gBe as aT,Js as aU,Gl as aV,vp as aW,c2 as aX,Aa as aY,Zze as aZ,tP as a_,ghe as aa,FG as ab,BV as ac,Oct as ad,Nct as ae,ore as af,eBe as ag,tBe as ah,CF as ai,AG as aj,Of as ak,Pr as al,yve as am,vf as an,vo as ao,IV as ap,Jr as aq,Bde as ar,hm as as,Fct as at,ua as au,Ov as av,I$ as aw,Ln as ax,c7 as ay,KK as az,aV as b,cv as b0,CT as b1,EL as b2,Wee as b3,pRe as b4,$u as b5,Qf as b6,Fd as b7,Lx as b8,Ul as b9,Yo as ba,tc as bb,t2 as bc,Fl as bd,vl as be,j$ as bf,p4 as bg,c0e as bh,f4 as bi,hy as bj,QQe as bk,wl as c,efe as d,$ct as e,ip as f,HK as g,sl as h,wn as i,tA as j,bj as k,zr as l,vy as m,Se as n,da as o,um as p,S0e as q,gi as r,Sg as s,ft as t,x7 as u,cl as v,tV as w,ve as x,y_e as y,Mv as z};
